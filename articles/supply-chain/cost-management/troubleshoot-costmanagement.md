---
title: Dépannage de la gestion des coûts
description: Cette rubrique décrit comment résoudre les problèmes que vous pourriez rencontrer lors de l'utilisation de la gestion des coûts.
author: riluan
manager: tfehr
ms.date: 10/13/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventAgingStorage, InventAgingStorageChart, InventAgingStorageDetails, InventValueProcess, InventValueReportSetup, InventClosing
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: riluan
ms.search.validFrom: 2020-10-13
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: b8c527e578fee6abfeeade99fba8070365c020bd
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/15/2021
ms.locfileid: "4983848"
---
# <a name="troubleshoot-cost-management"></a><span data-ttu-id="e7662-103">Dépannage de la gestion des coûts</span><span class="sxs-lookup"><span data-stu-id="e7662-103">Troubleshoot cost management</span></span>

<span data-ttu-id="e7662-104">Cette rubrique décrit comment résoudre les problèmes que vous pourriez rencontrer lors de l'utilisation de la gestion des coûts.</span><span class="sxs-lookup"><span data-stu-id="e7662-104">This topic describes how to fix issues that you might encounter while working with cost management.</span></span>

## <a name="functional-gaps-between-the-inventory-valueaging-reports-and-their-storage-versions"></a><span data-ttu-id="e7662-105">Écarts fonctionnels entre les rapports de valeur d'inventaire/chronologiques et leurs versions de stockage</span><span class="sxs-lookup"><span data-stu-id="e7662-105">Functional gaps between the inventory value/aging reports and their storage versions</span></span>

<span data-ttu-id="e7662-106">Les fonctionnalités [Stockage des rapports sur la chronologie du stock](inventory-aging-report-storage.md) et [Rapport de stockage de la valeur de stock](inventory-value-report-storage.md) permettent à Supply Chain Management d'afficher de grands volumes de transactions de stock.</span><span class="sxs-lookup"><span data-stu-id="e7662-106">The [Inventory aging report storage](inventory-aging-report-storage.md) and [Inventory value storage report](inventory-value-report-storage.md) features enable Supply Chain Management to display large volumes of inventory transactions.</span></span> <span data-ttu-id="e7662-107">Dans chaque cas, les résultats du rapport sont enregistrés pour la navigation et l'exportation, contrairement aux versions sans stockage de ces rapports.</span><span class="sxs-lookup"><span data-stu-id="e7662-107">In each case, the report results are saved for browsing and exporting, unlike with the non-storage versions of these reports.</span></span> <span data-ttu-id="e7662-108">Cependant, certaines fonctionnalités qui existent dans les versions sans stockage de ces rapports n'existent pas dans les versions de stockage.</span><span class="sxs-lookup"><span data-stu-id="e7662-108">However, some functionality that exists in the non-storage versions of these reports doesn't exist in the storage versions.</span></span> <span data-ttu-id="e7662-109">Les sous-sections suivantes résument les différences et proposent des solutions.</span><span class="sxs-lookup"><span data-stu-id="e7662-109">The following subsections summarize the differences and provide workarounds.</span></span>

### <a name="storage-reports-dont-include-subtotals-even-if-they-are-enabled-in-the-report-layout"></a><span data-ttu-id="e7662-110">Les rapports de stockage n'incluent pas les sous-totaux, même s'ils sont activés dans la disposition du rapport</span><span class="sxs-lookup"><span data-stu-id="e7662-110">Storage reports don't include subtotals, even if they are enabled in the report layout</span></span>

<span data-ttu-id="e7662-111">Les sous-totaux peuvent entraîner des problèmes lors de l'exportation du résultat, en particulier si les utilisateurs modifient la séquence d'enregistrement.</span><span class="sxs-lookup"><span data-stu-id="e7662-111">Subtotals can cause issues when the result is exported, especially if users change the record sequence.</span></span>

<span data-ttu-id="e7662-112">Pour vérifier les sous-totaux, vous pouvez exporter le résultat dans Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="e7662-112">To check the subtotals, you can export the result into Microsoft Excel.</span></span> <span data-ttu-id="e7662-113">Sinon, si vous souhaitez vérifier les sous-totaux dans Supply Chain Management, utilisez [Gestion des fonctionnalités](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) pour activer les fonctionnalités *Nouveau contrôle du réseau* et *(Aperçu) Regroupement en grilles*, qui offrent un moyen beaucoup plus flexible de voir le sous-total pour tout groupe par colonne.</span><span class="sxs-lookup"><span data-stu-id="e7662-113">Alternatively, if you want to check subtotals within Supply Chain Management, use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) to enable the *New grid control* and *(Preview) Grouping in grids* features, which provide a much more flexible way to see the subtotal for any group by column.</span></span> <span data-ttu-id="e7662-114">Pour plus d’informations, voir [Capacités de grille](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span><span class="sxs-lookup"><span data-stu-id="e7662-114">For more information, see [Grid capabilities](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span></span>

### <a name="inventory-value-storage-report-doesnt-support-ledger-account-information"></a><span data-ttu-id="e7662-115">Le rapport de stockage de la valeur de stock ne prend pas en charge les informations du compte général</span><span class="sxs-lookup"><span data-stu-id="e7662-115">Inventory value storage report doesn't support ledger account information</span></span>

<span data-ttu-id="e7662-116">Vous pouvez exécuter la balance comptable pour obtenir le solde des comptes de stock et le comparer au rapport **Stockage de valeur de stock**.</span><span class="sxs-lookup"><span data-stu-id="e7662-116">You can run the trial balance to get the inventory accounts balance and compare that to the **Inventory value storage** report.</span></span>

## <a name="warnings-or-errors-are-shown-when-changing-a-ledger-period-status-without-closing-inventory"></a><span data-ttu-id="e7662-117">Des avertissements ou des erreurs s'affichent lors de la modification du statut d'une période comptable sans clôture de stock</span><span class="sxs-lookup"><span data-stu-id="e7662-117">Warnings or errors are shown when changing a ledger period status without closing inventory</span></span>

<span data-ttu-id="e7662-118">Microsoft a introduit les validations suivantes pour éviter les problèmes causés par un processus de fin de période incorrect autour des coûts.</span><span class="sxs-lookup"><span data-stu-id="e7662-118">Microsoft introduced the following validations to prevent issues caused by an incorrect period-end process around costing.</span></span> <span data-ttu-id="e7662-119">Si vous rencontrez l'un des messages d'erreur suivants, reportez-vous à [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) pour plus d'informations sur la résolution de ces problèmes.</span><span class="sxs-lookup"><span data-stu-id="e7662-119">If you encounter any of the following error messages, refer to [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) for more information about how to resolve these issues.</span></span>

- <span data-ttu-id="e7662-120">Vous êtes sur le point d'exécuter un recalcul avec une date %1 (10-02-2019).</span><span class="sxs-lookup"><span data-stu-id="e7662-120">You are about to execute a Recalculation with a date %1 (10-02-2019).</span></span> <span data-ttu-id="e7662-121">Le dernier recalcul enregistré a été exécuté dans une période précédente avec une date %2 (20-01-2019).</span><span class="sxs-lookup"><span data-stu-id="e7662-121">The last registered Recalculation was executed in a previous period with a date %2 (20-01-2019).</span></span> <span data-ttu-id="e7662-122">Aucune exécution d'une clôture de stock avec une date %3 (31-01-2019) correspondant à la fin de la période a été enregistrée.</span><span class="sxs-lookup"><span data-stu-id="e7662-122">No execution of an inventory close with a date %3 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="e7662-123">N'oubliez pas d'exécuter une clôture de stock à partir du %3 (31-01-2019) correspondant à la fin de la période.</span><span class="sxs-lookup"><span data-stu-id="e7662-123">Please remember to execute an inventory close as of %3 (31-01-2019) matching the period end.</span></span> <span data-ttu-id="e7662-124">L'évaluation des stocks, le coût des marchandises vendues et les écarts peuvent ne pas être corrects dans la comptabilité auxiliaire ou la comptabilité générale tant que cette opération n'a pas été exécutée.</span><span class="sxs-lookup"><span data-stu-id="e7662-124">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="e7662-125">Vous êtes sur le point de modifier le statut de la période comptable %1 à %2.</span><span class="sxs-lookup"><span data-stu-id="e7662-125">You are about to change the status of ledger period %1 to %2.</span></span> <span data-ttu-id="e7662-126">Aucune exécution d'une clôture de stock avec une date %3 correspondant à la fin de la période a été enregistrée.</span><span class="sxs-lookup"><span data-stu-id="e7662-126">No execution of inventory close with a date %3 matching period end has been registered.</span></span> <span data-ttu-id="e7662-127">Exécutez une clôture d'inventaire le %3 correspondant à la fin de la période avant de changer le statut.</span><span class="sxs-lookup"><span data-stu-id="e7662-127">Please execute an inventory close as of %3 matching the period end before changing the status.</span></span> <span data-ttu-id="e7662-128">L'évaluation des stocks, le coût des marchandises vendues et les écarts peuvent ne pas être corrects dans la comptabilité auxiliaire ou la comptabilité générale tant que cette opération n'a pas été exécutée.</span><span class="sxs-lookup"><span data-stu-id="e7662-128">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span> <span data-ttu-id="e7662-129">Déclaré par une entité juridique %4.</span><span class="sxs-lookup"><span data-stu-id="e7662-129">Reported from legal entity %4.</span></span> <span data-ttu-id="e7662-130">Pour le moment, cette action est indiquée à titre d’information, mais vous devrez l’effectuer à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="e7662-130">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="e7662-131">La structure du compte %1 a été modifié.</span><span class="sxs-lookup"><span data-stu-id="e7662-131">The Account structure %1 has been changed.</span></span> <span data-ttu-id="e7662-132">Un ou plusieurs comptes principaux %2 n'existe plus.</span><span class="sxs-lookup"><span data-stu-id="e7662-132">One or more main accounts %2 no longer exist.</span></span> <span data-ttu-id="e7662-133">Ces comptes principaux sont requis par le %3 avec une date %4.</span><span class="sxs-lookup"><span data-stu-id="e7662-133">These Main accounts are required by the %3 with a date %4.</span></span> <span data-ttu-id="e7662-134">Ajoutez ces comptes principaux à la structure du compte %1 avant de pouvoir reprendre la tâche %3.</span><span class="sxs-lookup"><span data-stu-id="e7662-134">Please add these Main accounts to the Account structure %1 before you can resume the %3 job.</span></span> <span data-ttu-id="e7662-135">Pour le moment, cette action est indiquée à titre d’information, mais vous devrez l’effectuer à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="e7662-135">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="e7662-136">Vous êtes sur le point d'exécuter une clôture de stock avec une date %1 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="e7662-136">You are about to execute an inventory close with a date %1 (31-01-2019).</span></span> <span data-ttu-id="e7662-137">Aucune exécution d'un calcul de comptabilité à rebours avec une date %2 (31-01-2019) correspondant à la fin de la période a été enregistrée.</span><span class="sxs-lookup"><span data-stu-id="e7662-137">No execution of backflush costing calculation with a date %2 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="e7662-138">N'oubliez pas d'exécuter un calcul de comptabilité à rebours avec une date de %3 (31-01-2019) correspondant à la fin de la période.</span><span class="sxs-lookup"><span data-stu-id="e7662-138">Please remember to execute a backflush costing calculation with a date of %3 (31-01-2019) matching period end.</span></span> <span data-ttu-id="e7662-139">L'évaluation des stocks, le coût des marchandises vendues et les écarts peuvent ne pas être corrects dans la comptabilité auxiliaire ou la comptabilité générale tant que cette opération n'a pas été exécutée.</span><span class="sxs-lookup"><span data-stu-id="e7662-139">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="e7662-140">Vous êtes sur le point d'exécuter un calcul de comptabilité à rebours avec une date %1 (28-02-2019).</span><span class="sxs-lookup"><span data-stu-id="e7662-140">You are about to execute a backflush costing calculation with a date %1 (28-02-2019).</span></span> <span data-ttu-id="e7662-141">Le dernier calcul de comptabilité à rebours enregistré a été exécuté dans une période précédente avec une date %2 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="e7662-141">The last registered backflush costing calculation was executed in a previous period with a date %2 (31-01-2019).</span></span> <span data-ttu-id="e7662-142">Aucune exécution d'une clôture de stock avec une date %3 (31-01-2019) correspondant à la fin d'une période a été enregistrée.</span><span class="sxs-lookup"><span data-stu-id="e7662-142">No execution of an inventory close with a date %3 (31-01-2019) matching a period end has been registered.</span></span>
<span data-ttu-id="e7662-143">N'oubliez pas d'exécuter une clôture de stock à partir du %3 (31-01-2019) correspondant à une fin de la période.</span><span class="sxs-lookup"><span data-stu-id="e7662-143">Please remember to execute an inventory close as of %3 (31-01-2019) matching a period end.</span></span> <span data-ttu-id="e7662-144">L'évaluation des stocks, le coût des marchandises vendues et les écarts peuvent ne pas être corrects dans la comptabilité auxiliaire ou la comptabilité tant que la clôture de stock n'a pas été exécuté.</span><span class="sxs-lookup"><span data-stu-id="e7662-144">The valuation of inventories, cost of goods sold and variances may not be correct in subledger or general ledger until the inventory close has been executed.</span></span>

## <a name="inventory-aging-report-discrepancies"></a><span data-ttu-id="e7662-145">Écarts des états de balance âgée</span><span class="sxs-lookup"><span data-stu-id="e7662-145">Inventory aging report discrepancies</span></span>

<span data-ttu-id="e7662-146">Le **Rapport de vieillissement du stock** affiche des valeurs différentes lorsqu'elles sont visualisées à différentes dimensions de stockage (telles que le site ou l'entrepôt).</span><span class="sxs-lookup"><span data-stu-id="e7662-146">The **Inventory aging report** shows different values when viewed at different storage dimensions (such as site or warehouse).</span></span> <span data-ttu-id="e7662-147">Pour plus d'informations sur la logique de création de rapports, voir [Exemples de rapport de vieillissement du stock et logique](inventory-aging-report.md).</span><span class="sxs-lookup"><span data-stu-id="e7662-147">For more information about the reporting logic, see [Inventory aging report examples and logic](inventory-aging-report.md).</span></span>

## <a name="an-update-conflict-occurs-when-the-inventory-valuation-method-is-either-standard-cost-or-moving-average"></a><span data-ttu-id="e7662-148">Un conflit de mise à jour se produit lorsque la méthode d'évaluation du stock est Coût standard ou Moyenne mobile</span><span class="sxs-lookup"><span data-stu-id="e7662-148">An update conflict occurs when the inventory valuation method is either Standard cost or Moving average</span></span>

<span data-ttu-id="e7662-149">Lorsque vous validez des documents tels que des journaux de stock, des factures de commande fournisseur ou des factures de commande client en parallèle pour améliorer l'évolutivité et les performances, vous pouvez recevoir un message d'erreur concernant un conflit de mise à jour et certains documents peuvent ne pas être validés.</span><span class="sxs-lookup"><span data-stu-id="e7662-149">When you post documents such as inventory journals, purchase order invoices, or sales order invoices in parallel for scalability and performance, you might receive an error message about an update conflict, and some of the documents might not be posted.</span></span> <span data-ttu-id="e7662-150">Ce problème se produit lorsque la méthode d'évaluation du stock est *Coût standard* ou *Moyenne mobile*.</span><span class="sxs-lookup"><span data-stu-id="e7662-150">This issue can occur when the inventory valuation method is either *Standard cost* or *Moving average*.</span></span> <span data-ttu-id="e7662-151">Ces deux méthodes sont des méthodes d'évaluation des coûts perpétuelles.</span><span class="sxs-lookup"><span data-stu-id="e7662-151">Both these methods are perpetual costing methods.</span></span> <span data-ttu-id="e7662-152">En d'autres termes, le coût final est déterminé au moment de la validation.</span><span class="sxs-lookup"><span data-stu-id="e7662-152">In other words, the final cost is determined at the time of posting.</span></span>

<span data-ttu-id="e7662-153">Si vous utilisez la méthode *Moyenne mobile*, le message d'erreur ressemble à cet exemple :</span><span class="sxs-lookup"><span data-stu-id="e7662-153">If you're using the *Moving average* method, the error message resembles this example:</span></span>

> <span data-ttu-id="e7662-154">La valeur de stock xx.xx n'est pas attendue après le calcul des dépenses proportionnelles</span><span class="sxs-lookup"><span data-stu-id="e7662-154">Inventory value xx.xx is not expected after the proportional expense calculation</span></span>

<span data-ttu-id="e7662-155">Si vous utilisez la méthode *Coût standard*, le message d'erreur ressemble à cet exemple :</span><span class="sxs-lookup"><span data-stu-id="e7662-155">If you're using the *Standard cost* method, the error message resembles this example:</span></span>

> <span data-ttu-id="e7662-156">Le coût standard ne correspond pas à la valeur de stock financière après la mise à jour.</span><span class="sxs-lookup"><span data-stu-id="e7662-156">The standard cost does not match with the financial inventory value after the update.</span></span> <span data-ttu-id="e7662-157">Valeur = xx.xx, Qté = yy.yy, Coût standard = zz.zz</span><span class="sxs-lookup"><span data-stu-id="e7662-157">Value = xx.xx, Qty = yy.yy, Standard cost = zz.zz</span></span>

<span data-ttu-id="e7662-158">Jusqu'à ce que Microsoft publie une solution pour résoudre le problème, envisagez la possibilité d'utiliser les solutions de contournement suivantes pour éviter ou réduire ces erreurs :</span><span class="sxs-lookup"><span data-stu-id="e7662-158">Until Microsoft releases a solution to fix the issue, consider using the following workarounds to help avoid or reduce these errors:</span></span>

- <span data-ttu-id="e7662-159">Republiez les documents en échec.</span><span class="sxs-lookup"><span data-stu-id="e7662-159">Repost the failed documents.</span></span>
- <span data-ttu-id="e7662-160">Créez des documents comportant moins de lignes.</span><span class="sxs-lookup"><span data-stu-id="e7662-160">Create documents that have fewer lines.</span></span>
- <span data-ttu-id="e7662-161">Évitez les valeurs décimales dans le coût standard.</span><span class="sxs-lookup"><span data-stu-id="e7662-161">Avoid decimal values in the standard cost.</span></span> <span data-ttu-id="e7662-162">Essayez de définir le coût standard afin que le champ **Quantité de prix** soit défini sur *1*.</span><span class="sxs-lookup"><span data-stu-id="e7662-162">Try to define the standard cost so that the **Price quantity** field is set to *1*.</span></span> <span data-ttu-id="e7662-163">Si vous devez spécifier une valeur **Quantité de prix** supérieure à *1*, essayez de réduire le nombre de décimales dans le coût standard unitaire.</span><span class="sxs-lookup"><span data-stu-id="e7662-163">If you must specify a **Price quantity** value that is more than *1*, try to minimize the number of decimal places in the unit standard cost.</span></span> <span data-ttu-id="e7662-164">(Idéalement, il devrait y avoir moins de deux décimales.) Par exemple, évitez de définir des paramètres de coût standard tels que **Prix** = *10* et **Quantité de prix** = *3*, car ils produiront un coût standard unitaire de 3,333333 (où la valeur décimale se répète).</span><span class="sxs-lookup"><span data-stu-id="e7662-164">(Ideally, there should be fewer than two decimal places.) For example, avoid defining standard cost settings such as **Price** = *10* and **Price quantity** = *3*, because they will produce a unit standard cost of 3.333333 (where the decimal value repeats).</span></span>
- <span data-ttu-id="e7662-165">Dans la plupart des documents, évitez d'avoir plusieurs lignes contenant la même combinaison de dimensions de produit et de stock financier.</span><span class="sxs-lookup"><span data-stu-id="e7662-165">In a majority of documents, avoid having multiple lines that hold the same combination of product and financial inventory dimensions.</span></span>
- <span data-ttu-id="e7662-166">Réduisez le degré de parallélisation.</span><span class="sxs-lookup"><span data-stu-id="e7662-166">Reduce the degree of parallelization.</span></span> <span data-ttu-id="e7662-167">(Dans ce cas, votre système peut devenir plus rapide, car moins de conflits de mise à jour et de nouvelles tentatives se produisent.)</span><span class="sxs-lookup"><span data-stu-id="e7662-167">(In this case, your system might become faster, because fewer update conflicts and retries occur.)</span></span>
