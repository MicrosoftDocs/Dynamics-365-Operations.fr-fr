--- 
title: "Créer une configuration pour importer des données à partir d'un fichier externe au format CSV (ER)"
description: "Cette procédure permet de créer des configurations d'états électroniques pour importer des données dans l'application Dynamics 365 for Finance and Operations à partir d'un fichier externe au format CSV."
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: a8b5a5af5108744406a3d2fb84d7151baea2481b
ms.openlocfilehash: 0859eb7bf461f61396c34f4bcd89537260a536a0
ms.contentlocale: fr-fr
ms.lasthandoff: 04/13/2018

---
# <a name="design-a-configuration-to-import-data-from-an-external-file-in-csv-format-er"></a><span data-ttu-id="bcc27-103">Créer une configuration pour importer des données à partir d'un fichier externe au format CSV (ER)</span><span class="sxs-lookup"><span data-stu-id="bcc27-103">Design a configuration to import data from an external file in CSV format (ER)</span></span>

[!INCLUDE [task guide banner](../../includes/task-guide-banner.md)]

<span data-ttu-id="bcc27-104">Cette procédure permet de créer des configurations d'états électroniques pour importer des données dans l'application Dynamics 365 for Finance and Operations à partir d'un fichier externe au format CSV.</span><span class="sxs-lookup"><span data-stu-id="bcc27-104">Use this procedure to design Electronic reporting (ER) configurations to import data in to the Dynamics 365 for Finance and Operations application from an external file in CSV format.</span></span> <span data-ttu-id="bcc27-105">Dans cette procédure, vous allez créer les configurations ER requises pour l'exemple de société, Litware, Inc. Pour effectuer ces étapes, vous devez d'abord effectuer les étapes de la procédure « ER Créer un fournisseur de configuration et le marquer comme actif. »</span><span class="sxs-lookup"><span data-stu-id="bcc27-105">In this procedure, you will create the required ER configurations for the sample company, Litware, Inc. To complete these steps, you must first complete the steps in the procedure, “ER Create a configuration provider and mark it as active.”</span></span> 

<span data-ttu-id="bcc27-106">Cette procédure est créée pour les utilisateurs auxquels le rôle Administrateur système ou Développeur d'états électroniques a été affecté.</span><span class="sxs-lookup"><span data-stu-id="bcc27-106">This procedure is created for users with the assigned role of System administrator or Electronic reporting developer.</span></span> <span data-ttu-id="bcc27-107">Ces étapes peuvent être effectuées à l'aide de l'ensemble de données USMF.</span><span class="sxs-lookup"><span data-stu-id="bcc27-107">These steps can be completed using the USMF data set.</span></span> 

<span data-ttu-id="bcc27-108">Vous devez également télécharger et enregistrer localement les fichiers suivants : (https://go.microsoft.com/fwlink/?linkid=862266): 1099model.xml, 1099formatcsv.xml, 1099entriescsv.csv.</span><span class="sxs-lookup"><span data-stu-id="bcc27-108">You must also download and save the following files locally: (https://go.microsoft.com/fwlink/?linkid=862266): 1099model.xml, 1099formatcsv.xml, 1099entriescsv.csv.</span></span>

1. <span data-ttu-id="bcc27-109">Accédez à Administration d'organisation > Espaces de travail > États électroniques.</span><span class="sxs-lookup"><span data-stu-id="bcc27-109">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="bcc27-110">Vous pouvez configurer un processus pour importer des fichiers externes au format XML, TXT ou CSV dans des tables de l'application Dynamics 365 for Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bcc27-110">You can configure a process to import external files in XML, TXT, or CSV format to tables in the Dynamics 365 for Finance and Operations application.</span></span> <span data-ttu-id="bcc27-111">Tout d'abord, vous devez créer un modèle de données abstrait pour représenter les données importées, d'un point de vue commercial - une configuration de modèle de données ER est créée pour cela.</span><span class="sxs-lookup"><span data-stu-id="bcc27-111">First, you must create an abstract data model to represent the imported data, from a business standpoint – an ER data model configuration is created for that.</span></span> <span data-ttu-id="bcc27-112">Ensuite, définissez une structure du fichier importé qui correspond au modèle de données conçu comme moyen de transférer les données du fichier vers le modèle de données abstrait - une configuration de format ER est créée pour cela.</span><span class="sxs-lookup"><span data-stu-id="bcc27-112">Next, define a structure of the imported file that maps to the designed data model as the way to port data from the file to the abstract data model – an ER format configuration is created for that.</span></span> <span data-ttu-id="bcc27-113">Enfin, la configuration du modèle de données ER doit être étendue avec une nouvelle mise en correspondance de modèle décrivant comment les données du fichier importé restent des données de modèle de données abstrait, et comment elles sont utilisées pour la mise à jour des tables d'application ou des entités de données.</span><span class="sxs-lookup"><span data-stu-id="bcc27-113">Then, the ER data model configuration must be extended with a new model mapping that describes how the data from the imported file and the persisted data from the abstract data model is used to update the application tables or data entities.</span></span>  
    * <span data-ttu-id="bcc27-114">Les étapes suivantes décrivent comment les transactions fournisseur suivies en externe sont importées depuis le fichier CSV externe pour une utilisation ultérieure dans le règlement fournisseur pour les déclarations d'honoraires.</span><span class="sxs-lookup"><span data-stu-id="bcc27-114">The following steps show how externally tracked vendors’ transactions are imported from the external CSV file for later use in the vendor’s settlement for 1099’s forms.</span></span>   
    * <span data-ttu-id="bcc27-115">Vérifiez que le fournisseur de la configuration pour la société fictive Litware, Inc. est disponible et marqué comme actif.</span><span class="sxs-lookup"><span data-stu-id="bcc27-115">Verify that the configuration provider for sample company, Litware, Inc. is available and marked as active.</span></span> <span data-ttu-id="bcc27-116">Si vous ne voyez pas ce fournisseur de configuration, vous devez d'abord effectuer les étapes de la procédure « Créer un fournisseur de configuration et le marquer comme actif ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-116">If you don’t see this configuration provider, you must first complete the steps in the procedure, “Create a configuration provider and mark it as active”.</span></span>  
2. <span data-ttu-id="bcc27-117">Cliquez sur Configurations des états.</span><span class="sxs-lookup"><span data-stu-id="bcc27-117">Click Reporting configurations.</span></span>
3. <span data-ttu-id="bcc27-118">Appliquez le filtre « Modèle de paiements 1099 ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-118">Apply the '1099 Payments model' filter.</span></span> <span data-ttu-id="bcc27-119">Appliquez le filtre « Modèle de paiements de déclaration des honoraires ». Si vous avez déjà effectué la procédure « ER Créer des configurations requises pour importer des données à partir d'un fichier externe pour la gestion des états électroniques » et si la configuration « Modèle de paiements de déclaration des honoraires » est disponible dans l'arborescence de configuration, ignorez toutes les étapes de la sous-tâche suivante.</span><span class="sxs-lookup"><span data-stu-id="bcc27-119">If you already completed the procedure,” ER Create required configurations to import data from an external file for electronic reporting”, and the ‘1099 Payments model’ configuration is available in the configuration tree, skip all of the steps in the next sub-task.</span></span>   

## <a name="add-a-new-er-model-configuration"></a><span data-ttu-id="bcc27-120">Ajouter une nouvelle configuration du modèle ER</span><span class="sxs-lookup"><span data-stu-id="bcc27-120">Add a new ER model configuration</span></span>
1. <span data-ttu-id="bcc27-121">Plutôt que de créer un modèle pour prendre en charge l'importation de données, chargez le fichier 1099model.xml que vous avez précédemment téléchargé.</span><span class="sxs-lookup"><span data-stu-id="bcc27-121">Instead of creating a new model to support data import, load the 1099model.xml file that you previously downloaded.</span></span> <span data-ttu-id="bcc27-122">Ce fichier contient le modèle personnalisé de données des transactions des fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="bcc27-122">This file contains the custom data model of vendors’ transactions.</span></span> <span data-ttu-id="bcc27-123">Ce modèle de données est déjà mis en correspondance avec les composants de données nécessaires.</span><span class="sxs-lookup"><span data-stu-id="bcc27-123">This data model is already mapped to the necessary data components.</span></span>  
2. <span data-ttu-id="bcc27-124">Cliquez sur Échanger.</span><span class="sxs-lookup"><span data-stu-id="bcc27-124">Click Exchange.</span></span>
3. <span data-ttu-id="bcc27-125">Cliquez sur Charger depuis le fichier XML.</span><span class="sxs-lookup"><span data-stu-id="bcc27-125">Click Load from XML file.</span></span>
4. <span data-ttu-id="bcc27-126">Cliquez sur Parcourir et accédez au fichier 1099model.xml que vous avez précédemment téléchargé.</span><span class="sxs-lookup"><span data-stu-id="bcc27-126">Click Browse and navigate to the 1099model.xml file that you previously downloaded.</span></span>  
5. <span data-ttu-id="bcc27-127">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="bcc27-127">Click OK.</span></span>

## <a name="add-a-new-er-format-configuration-that-supports-data-import"></a><span data-ttu-id="bcc27-128">Ajouter une nouvelle configuration du format ER prenant en charge l'importation de données</span><span class="sxs-lookup"><span data-stu-id="bcc27-128">Add a new ER format configuration that supports data import</span></span>
1. <span data-ttu-id="bcc27-129">Dans l'arborescence, sélectionnez « Modèles de paiements de déclaration des honoraires »</span><span class="sxs-lookup"><span data-stu-id="bcc27-129">In the tree, select '1099 Payments model'.</span></span>
2. <span data-ttu-id="bcc27-130">Cliquez sur Créer la configuration pour ouvrir la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="bcc27-130">Click Create configuration to open the drop dialog.</span></span>
3. <span data-ttu-id="bcc27-131">Dans le champ Nouveau, entrez « Format basé sur le modèle de données modèle de paiements de déclaration des honoraires ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-131">In the New field, enter 'Format based on data model 1099 Payments model'.</span></span>
4. <span data-ttu-id="bcc27-132">Sélectionnez Oui dans le champ Prend en charge l'importation de données.</span><span class="sxs-lookup"><span data-stu-id="bcc27-132">Select Yes in the Supports data import field.</span></span>
5. <span data-ttu-id="bcc27-133">Appuyez sur la touche Échap pour fermer cette page.</span><span class="sxs-lookup"><span data-stu-id="bcc27-133">Press ESC key to close this page.</span></span>
    * <span data-ttu-id="bcc27-134">Plutôt que de créer un format ER pour prendre en charge l'importation de données, chargez le fichier 1099formatcsv.xml que vous avez précédemment téléchargé.</span><span class="sxs-lookup"><span data-stu-id="bcc27-134">Instead of creating a new ER format to support data import, load the 1099formatcsv.xml file that you previously downloaded.</span></span> <span data-ttu-id="bcc27-135">Ce fichier contient le format ER requis qui définit la structure du fichier CSV entrant et la mise en correspondance de cette structure avec le modèle de données des transactions des fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="bcc27-135">This file contains the required ER format that defines the structure of the incoming CSV file and the mapping of this structure to the data model of the vendors’ transactions.</span></span>   
6. <span data-ttu-id="bcc27-136">Cliquez sur Échanger.</span><span class="sxs-lookup"><span data-stu-id="bcc27-136">Click Exchange.</span></span>
7. <span data-ttu-id="bcc27-137">Cliquez sur Charger depuis le fichier XML.</span><span class="sxs-lookup"><span data-stu-id="bcc27-137">Click Load from XML file.</span></span>
    * <span data-ttu-id="bcc27-138">Cliquez sur Parcourir et accédez au fichier 1099formatcsv.xml que vous avez précédemment téléchargé.</span><span class="sxs-lookup"><span data-stu-id="bcc27-138">Click Browse and navigate to the 1099formatcsv.xml file that you previously downloaded.</span></span>  
8. <span data-ttu-id="bcc27-139">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="bcc27-139">Click OK.</span></span>
9. <span data-ttu-id="bcc27-140">Dans l'arborescence, développez « Modèle de paiements de déclaration des honoraires ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-140">In the tree, expand '1099 Payments model'.</span></span>
10. <span data-ttu-id="bcc27-141">Dans l'arborescence, sélectionnez « Modèle de paiements de déclaration des honoraires\Pour importer les transactions des fournisseurs (CSV) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-141">In the tree, select '1099 Payments model\For importing vendors' transactions (CSV)'.</span></span>

## <a name="review-format-settings"></a><span data-ttu-id="bcc27-142">Passer en revue les paramètres de format</span><span class="sxs-lookup"><span data-stu-id="bcc27-142">Review format settings</span></span>
1. <span data-ttu-id="bcc27-143">Cliquez sur Concepteur.</span><span class="sxs-lookup"><span data-stu-id="bcc27-143">Click Designer.</span></span>
2. <span data-ttu-id="bcc27-144">Cliquez sur Développer/réduire.</span><span class="sxs-lookup"><span data-stu-id="bcc27-144">Click Expand/collapse.</span></span>
3. <span data-ttu-id="bcc27-145">Activez « Afficher les détails ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-145">Toggle ‘Show details’ on.</span></span>
    * <span data-ttu-id="bcc27-146">Le format conçu représente la structure attendue du fichier externe au format CSV.</span><span class="sxs-lookup"><span data-stu-id="bcc27-146">The designed format represents the expected structure of the external file in CSV format.</span></span>  
4. <span data-ttu-id="bcc27-147">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-147">In the tree, select 'Incoming: File\Root: Sequence'.</span></span>
    * <span data-ttu-id="bcc27-148">Pour l'élément Racine de type SEQUENCE, l'option « Nouvelle ligne - Windows (CR LF) » a été sélectionnée dans le champ « Caractères spéciaux ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-148">For the Root element of the type SEQUENCE, the option ‘New line - Windows (CR LF)’ has been selected in the ‘Special characters’ field.</span></span> <span data-ttu-id="bcc27-149">Selon ce paramètre, chaque ligne du fichier d'analyse doit être considérée comme un enregistrement distinct.</span><span class="sxs-lookup"><span data-stu-id="bcc27-149">Based on this setting, each line in the parsing file must be considered as a separate record.</span></span>   
5. <span data-ttu-id="bcc27-150">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-150">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* '.</span></span>
    * <span data-ttu-id="bcc27-151">Pour l'élément Racine\Ligne de type SEQUENCE, l'option « Un plusieurs » a été sélectionnée dans le champ « Multiplicité ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-151">For the Root\Line element of the type SEQUENCE, the option ‘One many’ has been selected in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="bcc27-152">En fonction de ce paramètre, au moins une ligne sera présentée dans le fichier d'analyse.</span><span class="sxs-lookup"><span data-stu-id="bcc27-152">Based on this setting, at least one line will be presented in the parsing file.</span></span>   
6. <span data-ttu-id="bcc27-153">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* \Types : Incident ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-153">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case'.</span></span>
    * <span data-ttu-id="bcc27-154">Notez que l'élément Root\Line\Types de type CASE a été ajouté comme élément imbriqué de la séquence Root\Line.</span><span class="sxs-lookup"><span data-stu-id="bcc27-154">Note that the Root\Line\Types element of the type CASE has been added as the nested element of the Root\Line sequence.</span></span> <span data-ttu-id="bcc27-155">Comme cet élément CASE contient 3 éléments de séquence imbriqués, ce paramètre suppose que le fichier d'analyse doit contenir 3 types de ligne différents.</span><span class="sxs-lookup"><span data-stu-id="bcc27-155">Because this CASE element contains 3 nested sequence elements, this setting assumes that we expect to meet 3 different types of line in the parsing file.</span></span>   
7. <span data-ttu-id="bcc27-156">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* \Types : Incident\En-tête : Séquence 1..1 ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-156">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Header: Sequence 1..1 '.</span></span>
    * <span data-ttu-id="bcc27-157">L'élément Root\Line\Types\Header de type SEQUENCE contient l'élément STRING imbriqué dont la valeur a été définie comme valeur de chaîne fixe.</span><span class="sxs-lookup"><span data-stu-id="bcc27-157">The Root\Line\Types\Header element of the type SEQUENCE contains the nested STRING element the value of which has been defined as the fixed string value.</span></span> <span data-ttu-id="bcc27-158">Cette séquence analyse la ligne d'en-tête du fichier d'analyse.</span><span class="sxs-lookup"><span data-stu-id="bcc27-158">This sequence will parse the header line of the parsing file.</span></span>   
8. <span data-ttu-id="bcc27-159">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* \Types : Incident\Enregistrement: Séquence 1..1 (,) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-159">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)'.</span></span>
    * <span data-ttu-id="bcc27-160">L'élément Root\Line\Types\Record de type SEQUENCE a été configuré pour analyser les lignes de transaction.</span><span class="sxs-lookup"><span data-stu-id="bcc27-160">The Root\Line\Types\Record element of the type SEQUENCE, has been configured to parse the transaction lines.</span></span> <span data-ttu-id="bcc27-161">Notez que l'option de caractère « Séparateur personnalisé » a été configurée comme virgule.</span><span class="sxs-lookup"><span data-stu-id="bcc27-161">Note that the ‘Custom delimiter’ character option has been configured as a comma.</span></span> <span data-ttu-id="bcc27-162">Cela signifie que la virgule est utilisée comme séparateur de champs pour ce type de ligne dans le fichier d'analyse.</span><span class="sxs-lookup"><span data-stu-id="bcc27-162">This means that the comma will be used as a fields’ separator for this type of line in the parsing file.</span></span>   
    * <span data-ttu-id="bcc27-163">Notez que plusieurs éléments imbriqués de différents types de données ont été ajoutés pour l'élément Root\Line\Types\Record afin d'analyser les lignes de la transaction en tant que champs séparés.</span><span class="sxs-lookup"><span data-stu-id="bcc27-163">Note that several nested elements of different data types have been added for the Root\Line\Types\Record element for parsing the transaction’s lines as separated fields.</span></span> <span data-ttu-id="bcc27-164">Notez que l'option « Application de devis » a été configurée avec « Aucun ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-164">Note that the ‘Quotation application’ option has been configured as ‘None’.</span></span> <span data-ttu-id="bcc27-165">Cela signifie que dans le fichier d'analyse, tous les champs de ce type seront considérés comme n'ayant pas de caractères inclus.</span><span class="sxs-lookup"><span data-stu-id="bcc27-165">This means that in the parsing file, all fields of this type will be considered as having no enclosed characters.</span></span>   
9. <span data-ttu-id="bcc27-166">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* \Types : Incident\Enregistrement : Séquence 1..1 (,)TransactionDate : DateTime ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-166">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\TransactionDate: DateTime'.</span></span>
    * <span data-ttu-id="bcc27-167">Par exemple, l'élément Root\Line\Types\Record\TransactionDate de type DATETIME a été configuré pour extraire la valeur de date et d'heure de la transaction du fichier d'analyse au format « J/m/aaaa ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-167">For example, the Root\Line\Types\Record\TransactionDate element of the type DATETIME has been configured to get the transaction’s date and time value from the parsing file in the ‘M/d/yyyy’ format.</span></span>   
10. <span data-ttu-id="bcc27-168">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* \Types : Incident\Enregistrement : Séquence 1..1 (,)\CountryCode : Chaîne 0..1 ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-168">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\CountryCode: String 0..1 '.</span></span>
    * <span data-ttu-id="bcc27-169">Notez que l'élément Root\Line\Types\Record\CountryCode du type STRING a été configuré avec l'option « Zéro un » dans le champ « Multiplicité ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-169">Note that Root\Line\Types\Record\CountryCode element of the type STRING has been configured as having the option ‘Zero one’ in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="bcc27-170">Ce paramètre prend en compte la valeur du champ CountryCode dans la ligne d'analyse comme facultative.</span><span class="sxs-lookup"><span data-stu-id="bcc27-170">This setting considers the value of the CountryCode field in the parsing line as optional.</span></span>   
11. <span data-ttu-id="bcc27-171">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* \Types : Incident\Enregistrement : Séquence 1..1 (,)\Remarque : Séquence 1..1 (,) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-171">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\Remark: Sequence 1..1 (,)'.</span></span>
    * <span data-ttu-id="bcc27-172">Notez que l'élément Root\Line\Types\Record\Remark du type SEQUENCE a été configuré avec l'option « Tous » dans le champ « Application de devis » et le caractère double entre guillemets dans le champ « Guillemets ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-172">Note that Root\Line\Types\Record\Remark element of the type SEQUENCE has been configured as having the option ‘All’ in the ‘Quotation application’ field and double quotes character in the ‘Quotation mark’ field.</span></span> <span data-ttu-id="bcc27-173">Cela signifie que tous les champs de ce type de ligne dans le fichier d'analyse (décrits par les éléments imbriqués: Texte du type STRING) seront considérés comme encadrés par des guillemets.</span><span class="sxs-lookup"><span data-stu-id="bcc27-173">It means that all fields of this type of lines in the parsing file (described by the nested elements: Text of the STRING type) will be considered as enclosed in double quotes characters.</span></span>  
12. <span data-ttu-id="bcc27-174">Dans l'arborescence, sélectionnez « Entrant : Fichier\Racine : Séquence\Ligne : Séquence 1..\* \Types : Incident\Non analysé : Séquence 1..1  ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-174">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Unparsed: Sequence 1..1 '.</span></span>
    * <span data-ttu-id="bcc27-175">L'élément Root\Line\Types\Unparsed du type SEQUENCE a été configuré pour analyser les lignes de transaction de la structure qui ne correspond pas à celle décrite ci-dessus dans l'élément CASE parent.</span><span class="sxs-lookup"><span data-stu-id="bcc27-175">The Root\Line\Types\Unparsed element of the type SEQUENCE has been configured to parse the transaction lines for the structure which does not match the structure described above in the parent CASE element.</span></span>   

## <a name="review-the-setting-of-the-format-mapping-to-the-data-model"></a><span data-ttu-id="bcc27-176">Passer en revue les paramètres de la mise en correspondance des formats vers un modèle de données</span><span class="sxs-lookup"><span data-stu-id="bcc27-176">Review the setting of the format mapping to the data model</span></span>
1. <span data-ttu-id="bcc27-177">Cliquez sur Mettre en correspondance vers le modèle.</span><span class="sxs-lookup"><span data-stu-id="bcc27-177">Click Map format to model.</span></span>
    * <span data-ttu-id="bcc27-178">La mise en correspondance de modèle « Mise en correspondance avec le modèle à partir du format CSV » décrit le flux de données du transfert de données depuis le fichier CSV entrant vers le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="bcc27-178">The model mapping ‘Mapping to model from CSV format’ describes the data flow of the data transfer from the incoming CSV file to the data model.</span></span>   
2. <span data-ttu-id="bcc27-179">Cliquez sur Concepteur.</span><span class="sxs-lookup"><span data-stu-id="bcc27-179">Click Designer.</span></span>
3. <span data-ttu-id="bcc27-180">Dans l'arborescence, développez « format ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-180">In the tree, expand 'format'.</span></span>
    * <span data-ttu-id="bcc27-181">Notez que le format conçu s'affiche ici comme un composant de source de données.</span><span class="sxs-lookup"><span data-stu-id="bcc27-181">Note that the designed format is presented here as a data source component.</span></span>  
4. <span data-ttu-id="bcc27-182">Dans l'arborescence, développez « format\Entrant : Fichier (Entrant) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-182">In the tree, expand 'format\Incoming: File(Incoming)'.</span></span>
5. <span data-ttu-id="bcc27-183">Dans l'arborescence, développez « format\Entrant : Fichier (Entrant)\Racine : Séquence (Racine) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-183">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)'.</span></span>
6. <span data-ttu-id="bcc27-184">Dans l'arborescence, développez « format\Entrant : Fichier (Entrant)\Racine : Séquence(Racine)\Ligne : Séquence 1..\*(Ligne) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-184">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)'.</span></span>
7. <span data-ttu-id="bcc27-185">Dans l'arborescence, développez « format\Entrant : Fichier (Entrant)\Racine : Séquence (Racine)\Ligne : Séquence 1..\*(Ligne)\Types : Incident (Types) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-185">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)'.</span></span>
8. <span data-ttu-id="bcc27-186">Dans l'arborescence, développez « format\Entrant : Fichier (Entrant)\Racine : Séquence (Racine)\Ligne : Séquence 1..\*(Ligne)\Types : Incident (Types)\Enregistrement : Séquence 1..1 (,)(Enregistrement) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-186">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)'.</span></span>
9. <span data-ttu-id="bcc27-187">Dans l'arborescence, développez « format\Entrant : Fichier (Entrant)\Racine : Séquence (Racine)\Ligne : Séquence 1..\*(Ligne)\Types : Incident (Types)\Enregistrement : Séquence 1..1 (,)\(Enregistrement)Données ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-187">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data'.</span></span>
10. <span data-ttu-id="bcc27-188">Dans l'arborescence, développez « format\Entrant : Fichier (Entrant)\Racine : Séquence (Racine)\Ligne : Séquence 1..\*(Ligne)\Types : Incident (Types)\Enregistrement : Séquence 1..1 (,)(Enregistrement\)Données\CountryCode : Chaîne 0..1 (CountryCode) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-188">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\CountryCode: String 0..1 (CountryCode)'.</span></span>
11. <span data-ttu-id="bcc27-189">Dans l'arborescence, sélectionnez « format\Entrant : Fichier (Entrant)\Racine : Séquence (Racine)\Ligne : Séquence 1..\*(Ligne)\Types : Incident (Types)\Enregistrement : Séquence 1..1 (,)(Enregistrement)\Données\TransactionDate : DateTime(TransactionDate) ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-189">In the tree, select 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\TransactionDate: DateTime(TransactionDate)'.</span></span>
    * <span data-ttu-id="bcc27-190">Notez que les éléments de format obligatoires et facultatifs, tels que TransactionDate et CountryCode, sont différents dans le composant de source de données « format » prédéfini.</span><span class="sxs-lookup"><span data-stu-id="bcc27-190">Note that the required and optional format elements, such as TransactionDate and CountryCode, look different in the predefined ‘format’ data source component.</span></span>   
12. <span data-ttu-id="bcc27-191">Dans l'arborescence , développez « Transactions = $both ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-191">In the tree, expand 'Transactions = '$both''.</span></span>
    * <span data-ttu-id="bcc27-192">Notez que les éléments du format qui définit la structure du fichier importé sont associés aux éléments du modèle de données.</span><span class="sxs-lookup"><span data-stu-id="bcc27-192">Note that the elements of the format that defines the structure of the imported file are bound to the elements of the data model.</span></span> <span data-ttu-id="bcc27-193">Selon ces liens, le contenu du fichier CSV importé sera enregistré au moment de l'exécution dans le modèle de données existant.</span><span class="sxs-lookup"><span data-stu-id="bcc27-193">Based on these bindings, the content of the imported CSV file will be stored at run-time in the existing data model.</span></span> <span data-ttu-id="bcc27-194">Soyez attentif à la liaison de l'élément CountryRegion.</span><span class="sxs-lookup"><span data-stu-id="bcc27-194">Pay attention to the binding of the CountryRegion element.</span></span> <span data-ttu-id="bcc27-195">Pour tout élément de transaction dans le fichier entrant dont la valeur de code pays n'est pas spécifiée, le code pays par défaut « États-Unis » est renseigné dans le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="bcc27-195">For any transaction element in the incoming file that does not have a country code value specified, the default country code ‘USA’ will be populated in the data model.</span></span>   
13. <span data-ttu-id="bcc27-196">Activez « Afficher les détails ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-196">Toggle on ‘Show details’.</span></span>
14. <span data-ttu-id="bcc27-197">Cliquez sur l'onglet Validations.</span><span class="sxs-lookup"><span data-stu-id="bcc27-197">Click the Validations tab.</span></span>
15. <span data-ttu-id="bcc27-198">Cliquez sur Recherche.</span><span class="sxs-lookup"><span data-stu-id="bcc27-198">Click Search.</span></span>
16. <span data-ttu-id="bcc27-199">Dans le champ Rechercher, tapez « fournisseur ».</span><span class="sxs-lookup"><span data-stu-id="bcc27-199">In the Find field, type 'vend'.</span></span>
17. <span data-ttu-id="bcc27-200">Cliquez sur Suivant</span><span class="sxs-lookup"><span data-stu-id="bcc27-200">Click Find next.</span></span>
    * <span data-ttu-id="bcc27-201">Cette mise en correspondance de format peut contenir la logique définie par l'utilisateur pour valider la précision des données importées d'un point de vue de l'entreprise.</span><span class="sxs-lookup"><span data-stu-id="bcc27-201">This format mapping may contain user-defined logic to validate the accuracy of the imported data from a business standpoint.</span></span> <span data-ttu-id="bcc27-202">Par exemple, en fonction du paramètre, pour toute ligne du fichier d'importation dont la structure ne correspond pas à celle de la ligne d'en-tête ou de la ligne de transaction, un message d'avertissement sera généré dans la fenêtre Informations informant l'utilisateur sur l'incident et indiquant le numéro de séquence de la transaction dans le fichier.</span><span class="sxs-lookup"><span data-stu-id="bcc27-202">For example, based on the setting, for any line in the importing file the structure of which does not match neither the structure of the header line nor transaction line, a warning message will be generated in the Infolog informing the user about this case, indicating the transaction’s sequence number in the file.</span></span>   
18. <span data-ttu-id="bcc27-203">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="bcc27-203">Close the page.</span></span>

## <a name="run-the-format-mapping"></a><span data-ttu-id="bcc27-204">Exécuter la mise en correspondance des formats</span><span class="sxs-lookup"><span data-stu-id="bcc27-204">Run the format mapping</span></span>
<span data-ttu-id="bcc27-205">À des fins de test, exécutez la mise en correspondance des formats à l'aide du fichier 1099entriescsv.csv que vous avez précédemment téléchargé.</span><span class="sxs-lookup"><span data-stu-id="bcc27-205">For testing purposes, execute the format mapping using the 1099entriescsv.csv file that you previously downloaded.</span></span> <span data-ttu-id="bcc27-206">La sortie générée contient les données importées depuis le fichier CSV sélectionné et transférées vers le modèle de données personnalisé au moment de l'importation réelle.</span><span class="sxs-lookup"><span data-stu-id="bcc27-206">The generated output will present data that will be imported from the selected CSV file and populated to the custom data model at real import.</span></span>   
1. <span data-ttu-id="bcc27-207">Cliquez sur Exécuter.</span><span class="sxs-lookup"><span data-stu-id="bcc27-207">Click Run.</span></span>
    * <span data-ttu-id="bcc27-208">Cliquez sur Parcourir et accédez au fichier 1099entriescsv.csv que vous avez précédemment téléchargé.</span><span class="sxs-lookup"><span data-stu-id="bcc27-208">Click Browse and navigate to the 1099entriescsv.csv file that you previously downloaded.</span></span>  
2. <span data-ttu-id="bcc27-209">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="bcc27-209">Click OK.</span></span>
    * <span data-ttu-id="bcc27-210">Notez les messages d'avertissement sur les lignes qui ne sont pas acceptées.</span><span class="sxs-lookup"><span data-stu-id="bcc27-210">Note the warning messages about lines that are not accepted.</span></span> <span data-ttu-id="bcc27-211">La ligne 4 contient la valeur de revenus qui s'affiche dans un format non acceptable tandis que la ligne 7 ne contient pas le texte des remarques sur la transaction entre guillemets.</span><span class="sxs-lookup"><span data-stu-id="bcc27-211">Line 4 contains the income value that is presented in the non-acceptable format while line 7 does not contain the transaction remark text in double quotes.</span></span>   
    * <span data-ttu-id="bcc27-212">Examinez la sortie au format XML, qui représente les données importées depuis le fichier sélectionné et transférées vers le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="bcc27-212">Review the output in XML format that represents the data that has been imported from the selected file and ported to the data model.</span></span> <span data-ttu-id="bcc27-213">Notez que toutes les 7 lignes du fichier CSV importé ont été traitées.</span><span class="sxs-lookup"><span data-stu-id="bcc27-213">Note that all 7 lines of the imported CSV file were processed.</span></span> <span data-ttu-id="bcc27-214">Les titres des champs sur la ligne 1 ont été ignorés, 4 transactions ont été correctement analysées et 2 transactions ont été reconnues comme non valides.</span><span class="sxs-lookup"><span data-stu-id="bcc27-214">The containing fields’ titles line 1 were skipped, 4 transactions were properly parsed, and 2 transactions were recognized as not valid.</span></span>   
3. <span data-ttu-id="bcc27-215">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="bcc27-215">Close the page.</span></span>
4. <span data-ttu-id="bcc27-216">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="bcc27-216">Close the page.</span></span>


