---
title: Optimiser les traitements par lots planifié BYOD
description: Cette rubrique explique comment optimiser les performances lorsque vous utilisez la fonctionnalité Apporter votre propre base de données (BYOD) avec Microsoft Dynamics 365 Human Resources.
author: andreabichsel
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: anbichse
ms.search.scope: Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: 0c29d68b29475c2c7040d06e60f7624c49a42002
ms.sourcegitcommit: 6c2f5c3b038f696532c335e20b0fbafa155d6858
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/27/2021
ms.locfileid: "5951930"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="12a3e-103">Optimiser les traitements par lots planifié BYOD</span><span class="sxs-lookup"><span data-stu-id="12a3e-103">Optimize BYOD scheduled batch jobs</span></span>

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

<span data-ttu-id="12a3e-104">Cette rubrique explique comment optimiser les performances lorsque vous utilisez la fonctionnalité Apporter votre propre base de données (BYOD).</span><span class="sxs-lookup"><span data-stu-id="12a3e-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="12a3e-105">Pour plus d’informations sur BYOD, consultez [Apporter votre propre base de données (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="12a3e-105">For more information about BYOD, see [Bring your own database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="12a3e-106">Considérations relatives aux performances pour l’exportation de données</span><span class="sxs-lookup"><span data-stu-id="12a3e-106">Performance considerations for data export</span></span>

<span data-ttu-id="12a3e-107">Une fois les entités publiées dans la base de données de destination, vous pouvez utiliser la fonction Exporter dans l’espace de travail **Gestion des données** pour déplacer des données.</span><span class="sxs-lookup"><span data-stu-id="12a3e-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="12a3e-108">La fonction Exporter vous permet de définir une tâche de mouvement de données contenant une ou plusieurs entités.</span><span class="sxs-lookup"><span data-stu-id="12a3e-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="12a3e-109">Pour plus d’informations sur l’utilisation de la gestion des données pour exporter des données, voir [Vue d’ensemble des tâches d’importation et d’exportation de données](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="12a3e-109">For more information about data export, see [Data import and export jobs overview](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="12a3e-110">Vous pouvez utiliser la page **Exportation** pour exporter des données dans différents formats de données cibles, comme un fichier de valeurs séparées par des virgules (CSV).</span><span class="sxs-lookup"><span data-stu-id="12a3e-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="12a3e-111">Cette page prend également en charge les bases de données SQL comme autre destination.</span><span class="sxs-lookup"><span data-stu-id="12a3e-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="12a3e-112">Vous pouvez créer un projet de données qui a plusieurs entités et utiliser un travail par lots pour planifier l’exécution de ce projet de données.</span><span class="sxs-lookup"><span data-stu-id="12a3e-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="12a3e-113">Si vous sélectionnez l’option **Exporter par lots**, vous pouvez planifier l’exécution périodique du travail d’exportation de données.</span><span class="sxs-lookup"><span data-stu-id="12a3e-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="12a3e-114">Pour aider à préserver la fiabilité globale de l’exportation BYOD, vous devez être prudent lorsque vous ajoutez plusieurs entités à un projet d’exportation.</span><span class="sxs-lookup"><span data-stu-id="12a3e-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="12a3e-115">Lorsque vous déterminez le nombre d’entités à ajouter au même projet, tenez compte des paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="12a3e-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="12a3e-116">La complexité des entités</span><span class="sxs-lookup"><span data-stu-id="12a3e-116">The complexity of the entities</span></span>
- <span data-ttu-id="12a3e-117">Le volume de données attendu par entité</span><span class="sxs-lookup"><span data-stu-id="12a3e-117">The expected data volume per entity</span></span>
- <span data-ttu-id="12a3e-118">Le temps global qui sera nécessaire pour terminer l’exportation au niveau de la tâche</span><span class="sxs-lookup"><span data-stu-id="12a3e-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="12a3e-119">Pour des performances optimales, évitez d’ajouter des centaines d’entités à un seul projet.</span><span class="sxs-lookup"><span data-stu-id="12a3e-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="12a3e-120">Nous vous recommandons de créer plusieurs tâches, chacune contenant moins d’entités.</span><span class="sxs-lookup"><span data-stu-id="12a3e-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="12a3e-121">Planification des traitements par lots BYOD</span><span class="sxs-lookup"><span data-stu-id="12a3e-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="12a3e-122">Pour réduire l’impact sur les utilisateurs de Microsoft Dynamics 365 Human Resources, exécutez des tâches par lots BYOD la nuit ou après les heures de bureau.</span><span class="sxs-lookup"><span data-stu-id="12a3e-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="12a3e-123">Assurez-vous de vérifier le fuseau horaire des traitements par lots périodiques.</span><span class="sxs-lookup"><span data-stu-id="12a3e-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="12a3e-124">Certains traitements par lots peuvent utiliser l’heure standard du Pacifique (PST).</span><span class="sxs-lookup"><span data-stu-id="12a3e-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="12a3e-125">Pour éviter les problèmes de performances, tenez compte des facteurs suivants lorsque vous configurez la fréquence de planification des tâches par lots BYOD :</span><span class="sxs-lookup"><span data-stu-id="12a3e-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="12a3e-126">Le temps nécessaire pour terminer chaque tâche par lots</span><span class="sxs-lookup"><span data-stu-id="12a3e-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="12a3e-127">Le besoin de l’entreprise pour les données en BYOD</span><span class="sxs-lookup"><span data-stu-id="12a3e-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="12a3e-128">Définissez la fréquence de chaque tâche par lots sur une valeur qui garantit que la tâche peut être terminée bien avant sa prochaine exécution planifiée.</span><span class="sxs-lookup"><span data-stu-id="12a3e-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="12a3e-129">Évitez d’exécuter plusieurs tâches en parallèle, car cette approche peut affecter négativement les performances de Human Resources.</span><span class="sxs-lookup"><span data-stu-id="12a3e-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="12a3e-130">Pour des performances optimales, utilisez toujours l’option **Exporter par lots** sur la page **Exporter** pour planifier des tâches par lots BYOD.</span><span class="sxs-lookup"><span data-stu-id="12a3e-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="12a3e-131">Évitez de planifier des exportations récurrentes avec **Gérer \> Gérer les tâches de données récurrentes**.</span><span class="sxs-lookup"><span data-stu-id="12a3e-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="12a3e-132">Exportation incrémentale</span><span class="sxs-lookup"><span data-stu-id="12a3e-132">Incremental export</span></span>

<span data-ttu-id="12a3e-133">Lorsque vous ajoutez une entité pour l’exportation de données, vous pouvez effectuer une transmission incrémentielle (exportation) ou une transmission complète.</span><span class="sxs-lookup"><span data-stu-id="12a3e-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="12a3e-134">Une transmission de type push complète supprime tous les enregistrements existants d’une entité dans la base de données BYOD.</span><span class="sxs-lookup"><span data-stu-id="12a3e-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="12a3e-135">Elle insère ensuite l’ensemble d’enregistrements actuel provenant de l’entité Human Resources.</span><span class="sxs-lookup"><span data-stu-id="12a3e-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="12a3e-136">Pour effectuer une transmission de type push incrémentielle, vous devez activer le suivi des modifications pour chaque entité sur la page **Entités**.</span><span class="sxs-lookup"><span data-stu-id="12a3e-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="12a3e-137">Pour plus d’informations, voir la [Activation du suivi des modifications pour les entités](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="12a3e-137">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="12a3e-138">Si vous sélectionnez une transmission de type push incrémentielle, la première est toujours complète.</span><span class="sxs-lookup"><span data-stu-id="12a3e-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="12a3e-139">SQL suit les modifications depuis cette première transmission de type push complète.</span><span class="sxs-lookup"><span data-stu-id="12a3e-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="12a3e-140">Lorsqu’un nouvel enregistrement est inséré, ou lorsqu’un enregistrement est mis à jour ou supprimé, la modification est reflétée dans l’entité de destination.</span><span class="sxs-lookup"><span data-stu-id="12a3e-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="12a3e-141">Expiration</span><span class="sxs-lookup"><span data-stu-id="12a3e-141">Time-outs</span></span>

<span data-ttu-id="12a3e-142">Voici les délais d’expiration par défaut pour les exportations BYOD :</span><span class="sxs-lookup"><span data-stu-id="12a3e-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="12a3e-143">Dix minutes pour les opérations de troncation</span><span class="sxs-lookup"><span data-stu-id="12a3e-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="12a3e-144">Une heure pour les opérations d’insertion en bloc</span><span class="sxs-lookup"><span data-stu-id="12a3e-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="12a3e-145">Lorsque les volumes sont élevés, ces paramètres de délai d’expiration peuvent ne pas être suffisants.</span><span class="sxs-lookup"><span data-stu-id="12a3e-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="12a3e-146">Pour les mettre à jour, accédez à **Gestion de données \> Paramètres de la structure \> Apporter votre propre base de données**.</span><span class="sxs-lookup"><span data-stu-id="12a3e-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="12a3e-147">Ces délais d’expiration sont spécifiques à l’entreprise et doivent être définis séparément pour chaque entreprise.</span><span class="sxs-lookup"><span data-stu-id="12a3e-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="12a3e-148">Limitations connues</span><span class="sxs-lookup"><span data-stu-id="12a3e-148">Known limitations</span></span>

<span data-ttu-id="12a3e-149">Cette fonctionnalité BYOD a les restrictions suivantes :</span><span class="sxs-lookup"><span data-stu-id="12a3e-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="12a3e-150">Il ne doit y avoir aucun verrouillage actif sur votre base de données pendant la synchronisation.</span><span class="sxs-lookup"><span data-stu-id="12a3e-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="12a3e-151">Les verrouillages actifs peuvent entraîner des écritures lentes, voire l’échec de l’exportation des données vers votre Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="12a3e-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="12a3e-152">Vous ne pouvez pas exporter des entités composites dans votre propre base de données.</span><span class="sxs-lookup"><span data-stu-id="12a3e-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="12a3e-153">Actuellement, les entités composites ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="12a3e-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="12a3e-154">Vous devez exporter les entités individuelles qui composent l’entité composite.</span><span class="sxs-lookup"><span data-stu-id="12a3e-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="12a3e-155">Cependant, vous pouvez exporter les deux entités dans le même projet de données.</span><span class="sxs-lookup"><span data-stu-id="12a3e-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="12a3e-156">Les entités qui n’ont pas de clés uniques ne peuvent pas être exportées à l’aide de la transmission de type push incrémentielle.</span><span class="sxs-lookup"><span data-stu-id="12a3e-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="12a3e-157">Vous pouvez être confronté à cette limitation, en particulier lorsque vous essayez d’exporter de manière incrémentielle des enregistrements à partir de quelques entités prêtes à l’emploi.</span><span class="sxs-lookup"><span data-stu-id="12a3e-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="12a3e-158">Étant donné que ces entités ont été conçues pour permettre l’importation de données, elles n’ont pas de clé unique.</span><span class="sxs-lookup"><span data-stu-id="12a3e-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="12a3e-159">Dépannage</span><span class="sxs-lookup"><span data-stu-id="12a3e-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="12a3e-160">La transmission de type push incrémentielle ne fonctionne pas correctement</span><span class="sxs-lookup"><span data-stu-id="12a3e-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="12a3e-161">**Problème :** Lorsqu’une transmission de type push complète se produit pour une entité, un grand ensemble d’enregistrements s’affiche dans BYOD lorsque vous utilisez une instruction **select**.</span><span class="sxs-lookup"><span data-stu-id="12a3e-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="12a3e-162">Cependant, lorsque vous effectuez une transmission de type push incrémentielle, vous ne voyez que quelques enregistrements dans BYOD.</span><span class="sxs-lookup"><span data-stu-id="12a3e-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="12a3e-163">Il semble que la transmission de type push incrémentielle ait supprimé tous les enregistrements et ajouté uniquement les enregistrements modifiés dans BYOD.</span><span class="sxs-lookup"><span data-stu-id="12a3e-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="12a3e-164">**Solution :** Les tables de suivi des modifications SQL peuvent ne pas être dans l’état attendu.</span><span class="sxs-lookup"><span data-stu-id="12a3e-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="12a3e-165">Dans les cas de ce type, nous vous recommandons de désactiver le suivi des modifications pour l’entité, puis de le réactiver.</span><span class="sxs-lookup"><span data-stu-id="12a3e-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="12a3e-166">Pour plus d’informations, voir la [Activation du suivi des modifications pour les entités](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="12a3e-166">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

### <a name="staging-tables-arent-clearing"></a><span data-ttu-id="12a3e-167">Les tables intermédiaires ne s'effacent pas</span><span class="sxs-lookup"><span data-stu-id="12a3e-167">Staging tables aren't clearing</span></span>

<span data-ttu-id="12a3e-168">**Problème :** lors de l'utilisation de la mise en lots pour le projet, les tables intermédiaires ne s'effacent pas correctement.</span><span class="sxs-lookup"><span data-stu-id="12a3e-168">**Issue:** When using staging for the project, the staging tables don't clear out correctly.</span></span> <span data-ttu-id="12a3e-169">Les données des tables continuent alors de croître, ce qui entraîne des problèmes de performances.</span><span class="sxs-lookup"><span data-stu-id="12a3e-169">The data in the tables then continues to grow, causing performance issues.</span></span>

<span data-ttu-id="12a3e-170">**Solution :** sept jours d'historique sont conservés dans les tables intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="12a3e-170">**Solution:** Seven days of history is maintained in the staging tables.</span></span> <span data-ttu-id="12a3e-171">Les données historiques datant de plus de sept jours sont automatiquement effacées des tables intermédiaires par la tâche par lots **Exporter le nettoyage intermédiaire**.</span><span class="sxs-lookup"><span data-stu-id="12a3e-171">Historical data older than seven days is automatically cleared from the staging tables by the **Import export staging cleanup** batch job.</span></span> <span data-ttu-id="12a3e-172">Si cette tâche est bloquée, les tables ne s'effaceront pas correctement.</span><span class="sxs-lookup"><span data-stu-id="12a3e-172">If this job gets stuck, the tables won't clear out correctly.</span></span> <span data-ttu-id="12a3e-173">Lors du redémarrage de cette tâche par lots , le processus reprendra pour effacer automatiquement les tables intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="12a3e-173">Restarting this batch job will continue the process to automatically clear out the staging tables.</span></span>

## <a name="see-also"></a><span data-ttu-id="12a3e-174">Voir également :</span><span class="sxs-lookup"><span data-stu-id="12a3e-174">See also</span></span>

[<span data-ttu-id="12a3e-175">Vue d’ensemble de la gestion des données</span><span class="sxs-lookup"><span data-stu-id="12a3e-175">Data management overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="12a3e-176">Apporter votre propre base de données (BYOD)</span><span class="sxs-lookup"><span data-stu-id="12a3e-176">Bring your own database (BYOD)</span></span>](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="12a3e-177">Vue d’ensemble de tâches d’importation et d’exportation de données</span><span class="sxs-lookup"><span data-stu-id="12a3e-177">Data import and export jobs overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="12a3e-178">Activer le suivi des modifications pour les entités</span><span class="sxs-lookup"><span data-stu-id="12a3e-178">Enable change tracking for entities</span></span>](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
