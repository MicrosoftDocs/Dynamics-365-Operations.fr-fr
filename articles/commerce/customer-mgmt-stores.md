---
title: Gestion des clients en magasin
description: Cette rubrique explique comment les détaillants peuvent activer les fonctionnalités de gestion des clients au point de vente (PDV) dans Microsoft Dynamics 365 Commerce.
author: josaw1
ms.date: 05/25/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: dd17593d84a8bf262712a84b11829f8ec6c49049
ms.sourcegitcommit: c5c8f19a696ad4a3d68dffd63bfe7b484b999d2b
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/25/2021
ms.locfileid: "6097206"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="8fece-103">Gestion des clients en magasin</span><span class="sxs-lookup"><span data-stu-id="8fece-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="8fece-104">Cette rubrique explique comment les détaillants peuvent activer les fonctionnalités de gestion des clients au point de vente (PDV) dans Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="8fece-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="8fece-105">Il est important que les collaborateurs du magasin puissent créer et modifier les enregistrements des clients au point de vente.</span><span class="sxs-lookup"><span data-stu-id="8fece-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="8fece-106">De cette manière, ils peuvent capturer toutes les mises à jour des informations sur le client, telles que l’adresse e-mail, le numéro de téléphone et l’adresse.</span><span class="sxs-lookup"><span data-stu-id="8fece-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="8fece-107">Ces informations sont utiles dans les systèmes en aval tels que le marketing, car l’efficacité de ces systèmes dépend de l’exactitude des données des clients.</span><span class="sxs-lookup"><span data-stu-id="8fece-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="8fece-108">Les vendeurs peuvent déclencher le workflow de création client à partir de deux points d’entrée PDV.</span><span class="sxs-lookup"><span data-stu-id="8fece-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="8fece-109">Ils peuvent sélectionner un bouton associé à l’opération **Ajout d’un client** ou sélectionner **Créer un client** dans la barre d’applications sur la page des résultats de recherche.</span><span class="sxs-lookup"><span data-stu-id="8fece-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="8fece-110">Dans les deux cas, la boîte de dialogue **Nouveau client** s’affiche, dans laquelle les vendeurs peuvent saisir les détails du client requis, comme le nom du client, son adresse e-mail, son numéro de téléphone, son adresse et toute information supplémentaire pertinente pour l’entreprise.</span><span class="sxs-lookup"><span data-stu-id="8fece-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="8fece-111">Ces informations supplémentaires peuvent être capturées à l’aide des attributs du client associés au client.</span><span class="sxs-lookup"><span data-stu-id="8fece-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="8fece-112">Pour plus d’informations sur les attributs du client, voir [Attributs du client](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="8fece-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="8fece-113">Les vendeurs peuvent également capturer des adresses e-mail et des numéros de téléphone secondaires.</span><span class="sxs-lookup"><span data-stu-id="8fece-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="8fece-114">En outre, ils peuvent capturer les préférences du client concernant la réception d’informations marketing via l’une de ces adresses e-mail ou l’un de ces numéros de téléphone secondaires.</span><span class="sxs-lookup"><span data-stu-id="8fece-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="8fece-115">Pour activer cette fonctionnalité, les détaillants doivent activer la fonctionnalité **Capturer plusieurs e-mails et numéros de téléphone et le consentement pour le marketing sur ces contacts** dans l’espace de travail **Gestion des fonctionnalités** dans Commerce Headquarters (**Administration des systèmes \> Espaces de travail \> Gestion des fonctionnalités**).</span><span class="sxs-lookup"><span data-stu-id="8fece-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="8fece-116">Propriétés client par défaut</span><span class="sxs-lookup"><span data-stu-id="8fece-116">Default customer properties</span></span>

<span data-ttu-id="8fece-117">Les détaillants peuvent utiliser la page **Tous les magasins** dans Commerce Headquarters (**Retail et Commerce \> Canaux \> Magasins**) pour associer un client par défaut à chaque magasin.</span><span class="sxs-lookup"><span data-stu-id="8fece-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="8fece-118">Commerce copie ensuite les propriétés définies pour le client par défaut dans tous les enregistrements client créés.</span><span class="sxs-lookup"><span data-stu-id="8fece-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="8fece-119">Par exemple, la boîte de dialogue **Créer un client** affiche les propriétés héritées du client par défaut associé au magasin.</span><span class="sxs-lookup"><span data-stu-id="8fece-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="8fece-120">Ces propriétés incluent le **type de client**, le **groupe de clients**, l’**option de réception**, l’**email de réception**, la **devise** et la **langue**.</span><span class="sxs-lookup"><span data-stu-id="8fece-120">Those properties include the **customer type**, **customer group**, **receipt option**, **receipt email**, **currency**, and **language**.</span></span> <span data-ttu-id="8fece-121">Toutes les **affiliations** (regroupements de clients) sont également héritées du client par défaut.</span><span class="sxs-lookup"><span data-stu-id="8fece-121">Any **affiliations** (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="8fece-122">Cependant, les **dimensions financières** sont héritées du groupe de clients associé au client par défaut, et non du client par défaut lui-même.</span><span class="sxs-lookup"><span data-stu-id="8fece-122">However, **financial dimensions** are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

> [!NOTE]
> <span data-ttu-id="8fece-123">La valeur de l’**e-mail de réception** est copiée à partir du client par défaut uniquement si l’ID de l’e-mail de réception n’est pas fourni pour les nouveaux clients créés.</span><span class="sxs-lookup"><span data-stu-id="8fece-123">The **receipt email** value gets copied from the default customer only if the receipt email ID is not provided for the newly created customers.</span></span> <span data-ttu-id="8fece-124">Cela signifie que si l’ID de l’e-mail de réception est présent sur le client par défaut, tous les clients créés à partir du site d’e-commerce recevront le même ID d’e-mail de réception, car il n’y a pas d’interface utilisateur pour capturer l’ID de l’e-mail de réception du client.</span><span class="sxs-lookup"><span data-stu-id="8fece-124">This means that if the receipt email ID is present on the default customer, then all the customers created from the e-commerce site will get the same receipt email ID as there is no user interface to capture the receipt email ID from the customer.</span></span> <span data-ttu-id="8fece-125">Nous vous recommandons de conserver le champ **e-mail de réception** vide pour le client par défaut du magasin et de ne l’utiliser que si un processus métier dépend de la présence d’une adresse e-mail de réception.</span><span class="sxs-lookup"><span data-stu-id="8fece-125">We recommend that you to keep the **receipt email** field empty for the default customer of the store and only use it if you have a business process that depends on a receipt email address being present.</span></span> 

<span data-ttu-id="8fece-126">Les vendeurs peuvent capturer plusieurs adresses pour un client.</span><span class="sxs-lookup"><span data-stu-id="8fece-126">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="8fece-127">Le nom et le numéro de téléphone du client sont hérités des informations de contact associées à chaque adresse.</span><span class="sxs-lookup"><span data-stu-id="8fece-127">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="8fece-128">Le raccourci **Adresses** pour un enregistrement client comprend un champ **Objectif** que les vendeurs peuvent modifier.</span><span class="sxs-lookup"><span data-stu-id="8fece-128">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="8fece-129">Si le type de client est **Personne**, la valeur par défaut est **Domicile**.</span><span class="sxs-lookup"><span data-stu-id="8fece-129">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="8fece-130">Si le type de client est **Organisation**, la valeur par défaut est **Entreprise**.</span><span class="sxs-lookup"><span data-stu-id="8fece-130">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="8fece-131">Les autres valeurs prises en charge par ce champ incluent **Domicile**, **Bureau** et **Boîte aux lettres**.</span><span class="sxs-lookup"><span data-stu-id="8fece-131">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="8fece-132">La valeur du champ **Pays** d’une adresse est héritée de l’adresse principale spécifiée sur la page **Unité opérationnelle** de Commerce Headquarters, accessible via **Administration d’organisation \> Organisations \> Unités opérationnelles**.</span><span class="sxs-lookup"><span data-stu-id="8fece-132">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="8fece-133">Clients synchrones et clients asynchrones</span><span class="sxs-lookup"><span data-stu-id="8fece-133">Sync customers and Async customers</span></span>

<span data-ttu-id="8fece-134">Dans Commerce, il existe deux modes de création de client : Synchrone (ou Sync) et Asynchrone (ou Async).</span><span class="sxs-lookup"><span data-stu-id="8fece-134">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="8fece-135">Par défaut, les clients sont créés de manière synchrone.</span><span class="sxs-lookup"><span data-stu-id="8fece-135">By default, customers are created synchronously.</span></span> <span data-ttu-id="8fece-136">Cela signifie qu’ils sont créés dans Commerce Headquarters en temps réel.</span><span class="sxs-lookup"><span data-stu-id="8fece-136">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="8fece-137">Le mode de création Client synchrone est avantageux car les nouveaux clients sont immédiatement consultables sur tous les canaux.</span><span class="sxs-lookup"><span data-stu-id="8fece-137">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="8fece-138">Cependant, il présente également un inconvénient.</span><span class="sxs-lookup"><span data-stu-id="8fece-138">However, it also has a drawback.</span></span> <span data-ttu-id="8fece-139">Il génère des appels [Commerce Data Exchange : Service en temps réel](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) vers Commerce Headquarters. Les performances peuvent alors être affectées si de nombreux appels de création de clients simultanés sont effectués.</span><span class="sxs-lookup"><span data-stu-id="8fece-139">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="8fece-140">Si l’option **Créer un client en mode asynchrone** est définie sur **Oui** dans le profil de fonctionnalité du magasin (**Retail et Commerce \> Paramétrage du canal \> Paramétrage du magasin en ligne \> Profils de fonctionnalité**), les appels de service en temps réel ne sont pas utilisés pour créer des enregistrements client dans la base de données des canaux.</span><span class="sxs-lookup"><span data-stu-id="8fece-140">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="8fece-141">Le mode de création de client asynchrone n’affecte pas les performances de Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="8fece-141">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="8fece-142">Un identificateur global unique (GUID) temporaire est attribué à chaque nouvel enregistrement de client asynchrone et est utilisé comme ID de compte client.</span><span class="sxs-lookup"><span data-stu-id="8fece-142">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="8fece-143">Ce GUID ne s’affiche pas pour les utilisateurs du PDV.</span><span class="sxs-lookup"><span data-stu-id="8fece-143">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="8fece-144">Au lieu de cela, ces utilisateurs verront **En attente de synchronisation** comme identifiant de compte client.</span><span class="sxs-lookup"><span data-stu-id="8fece-144">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="8fece-145">Bien que cette configuration oblige la création des clients de manière asynchrone, notez que les modifications apportées aux enregistrements client sont toujours effectuées de manière synchrone.</span><span class="sxs-lookup"><span data-stu-id="8fece-145">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="8fece-146">Convertir les clients asynchrones en clients synchrones</span><span class="sxs-lookup"><span data-stu-id="8fece-146">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="8fece-147">Pour convertir les clients asynchrones en clients synchrones, vous devez d’abord exécuter la tâche P pour envoyer les clients asynchrones vers Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="8fece-147">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="8fece-148">Puis exécutez la tâche **Synchroniser les clients et les partenaires commerciaux à partir du mode asynchrone** pour créer des identifiants de compte client.</span><span class="sxs-lookup"><span data-stu-id="8fece-148">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="8fece-149">Enfin, exécutez la tâche **1010** pour synchroniser les nouveaux identifiants de compte client avec les canaux.</span><span class="sxs-lookup"><span data-stu-id="8fece-149">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="8fece-150">Limitations des clients asynchrones</span><span class="sxs-lookup"><span data-stu-id="8fece-150">Async customer limitations</span></span>

<span data-ttu-id="8fece-151">La fonctionnalité de client asynchrone présente actuellement les limitations suivantes :</span><span class="sxs-lookup"><span data-stu-id="8fece-151">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="8fece-152">Les enregistrements de client asynchrone ne peuvent pas être modifiés, sauf si le client a été créé dans Commerce Headquarters et que le nouvel ID de compte client a été synchronisé avec le canal.</span><span class="sxs-lookup"><span data-stu-id="8fece-152">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="8fece-153">Les affiliations ne peuvent pas être associées aux clients asynchrones.</span><span class="sxs-lookup"><span data-stu-id="8fece-153">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="8fece-154">Par conséquent, les nouveaux clients asynchrones n’héritent pas des affiliations du client par défaut.</span><span class="sxs-lookup"><span data-stu-id="8fece-154">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="8fece-155">Les cartes de fidélité ne peuvent pas être émises pour les clients asynchrones, sauf si le nouvel identifiant de compte client a été synchronisé avec le canal.</span><span class="sxs-lookup"><span data-stu-id="8fece-155">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="8fece-156">Les adresses e-mail et numéros de téléphone secondaires ne peuvent pas être capturés pour les clients asynchrones.</span><span class="sxs-lookup"><span data-stu-id="8fece-156">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="8fece-157">Création d’un client au PDV en mode hors connexion</span><span class="sxs-lookup"><span data-stu-id="8fece-157">Customer creation in POS offline mode</span></span>

<span data-ttu-id="8fece-158">Si le PDV se déconnecte alors que le mode de création de client asynchrone est activé, les nouveaux enregistrements de client sont créés de manière asynchrone.</span><span class="sxs-lookup"><span data-stu-id="8fece-158">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="8fece-159">Si le PDV se déconnecte alors que le mode de création de client asynchrones est désactivé, le système passe automatiquement en mode de création de client asynchrone.</span><span class="sxs-lookup"><span data-stu-id="8fece-159">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="8fece-160">Cela signifie que des enregistrements client peuvent être créés de manière asynchrone même si le mode de création de client asynchrone est désactivé.</span><span class="sxs-lookup"><span data-stu-id="8fece-160">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="8fece-161">Par conséquent, les administrateurs de Commerce Headquarters doivent créer et planifier un traitement par lots récurrent pour la tâche P, la tâche **Synchroniser les clients et les partenaires commerciaux à partir du mode asynchrone** et la tâche **1010**, afin que tous les clients asynchrones soient convertis en clients synchrones dans Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="8fece-161">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="8fece-162">Si l’option **Filtrer les tables de données client partagées** est définie sur **Oui** sur la page **Schéma de canal de Commerce** (**Retail et Commerce \> Configuration du siège \> Planificateur de Commerce \> Groupe Base de données des canaux**), les enregistrements client ne sont pas créés en mode hors ligne PDV.</span><span class="sxs-lookup"><span data-stu-id="8fece-162">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="8fece-163">Pour plus d’informations, voir [Exclusion des données hors ligne](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="8fece-163">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="8fece-164">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="8fece-164">Additional resources</span></span>

[<span data-ttu-id="8fece-165">Attributs du client</span><span class="sxs-lookup"><span data-stu-id="8fece-165">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="8fece-166">Exclusion des données hors ligne</span><span class="sxs-lookup"><span data-stu-id="8fece-166">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
