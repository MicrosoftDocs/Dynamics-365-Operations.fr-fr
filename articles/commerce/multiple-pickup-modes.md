---
title: Activer plusieurs modes de livraison de retrait pour les commandes des clients
description: Cette rubrique explique les fonctionnalités de Microsoft Dynamics 365 Commerce qui vous permettent de créer des commandes client pour le retrait en magasin.
author: hhainesms
ms.date: 11/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.region: global
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: c32ffc8435c05c644bf836bb184400d067269208
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/31/2021
ms.locfileid: "5796873"
---
# <a name="enable-multiple-pickup-delivery-modes-for-customer-orders"></a><span data-ttu-id="89e6b-103">Activer plusieurs modes de livraison de retrait pour les commandes des clients</span><span class="sxs-lookup"><span data-stu-id="89e6b-103">Enable multiple pickup delivery modes for customer orders</span></span>

[!include [banner](includes/banner.md)]


<span data-ttu-id="89e6b-104">Dans Microsoft Dynamics 365 Commerce version 10.0.16 et ultérieure, les organisations peuvent définir plusieurs modes de livraison parmi lesquels les acheteurs ou les vendeurs peuvent choisir lorsqu’ils créent une commande qui sera retirée en magasin.</span><span class="sxs-lookup"><span data-stu-id="89e6b-104">In Microsoft Dynamics 365 Commerce version 10.0.16 and later, organizations can define multiple modes of delivery that shoppers or sales associates can choose among when they create an order that will be picked up at a store.</span></span> <span data-ttu-id="89e6b-105">De cette façon, les organisations peuvent offrir plusieurs options de retrait à leurs acheteurs.</span><span class="sxs-lookup"><span data-stu-id="89e6b-105">In this way, organizations can provide multiple pickup options to their shoppers.</span></span> <span data-ttu-id="89e6b-106">Par exemple, de nombreux détaillants offrent maintenant aux acheteurs le choix entre le retrait en magasin ou le retrait à des points relais pour leurs commandes.</span><span class="sxs-lookup"><span data-stu-id="89e6b-106">For example, many retailers now offer shoppers the choice of in-store pickup or curbside pickup for their orders.</span></span> <span data-ttu-id="89e6b-107">Commerce prend en charge la configuration de ces différents modes de livraison de retrait.</span><span class="sxs-lookup"><span data-stu-id="89e6b-107">Commerce supports the configuration of these different pickup delivery modes.</span></span> <span data-ttu-id="89e6b-108">Les utilisateurs peuvent ensuite en profiter lorsqu’ils créent des commandes client dans n’importe quel canal de commerce pris en charge (e-commerce, centre d’appels ou magasin).</span><span class="sxs-lookup"><span data-stu-id="89e6b-108">Users can then take advantage of them when they create customer orders in any supported Commerce channel (e-commerce, call center, or store).</span></span>

## <a name="enable-and-configure-pickup-delivery-modes"></a><span data-ttu-id="89e6b-109">Activer et configurer des modes de livraison de retrait</span><span class="sxs-lookup"><span data-stu-id="89e6b-109">Enable and configure pickup delivery modes</span></span>

<span data-ttu-id="89e6b-110">Pour utiliser cette fonctionnalité, activez la fonctionnalité **Prise en charge de plusieurs modes de livraison de retrait** dans l’espace de travail **Gestion des fonctionnalités** du siège Commerce.</span><span class="sxs-lookup"><span data-stu-id="89e6b-110">To use this functionality, turn on the **Support for multiple pickup delivery modes** feature in the **Feature management** workspace in Commerce headquarters.</span></span> <span data-ttu-id="89e6b-111">Une fois la fonctionnalité activée, une configuration supplémentaire est requise.</span><span class="sxs-lookup"><span data-stu-id="89e6b-111">After you turn on the feature, additional configuration is required.</span></span>

<span data-ttu-id="89e6b-112">Dans Commerce version 10.0.15 et versions antérieures, les organisations ne peuvent définir qu’un seul mode de livraison comme mode de livraison de retrait désigné.</span><span class="sxs-lookup"><span data-stu-id="89e6b-112">In Commerce version 10.0.15 and earlier, organizations can define only one mode of delivery as the designated pickup delivery mode.</span></span> <span data-ttu-id="89e6b-113">Cette définition se fait sur la page **Paramètres de Commerce**.</span><span class="sxs-lookup"><span data-stu-id="89e6b-113">This definition is done on the **Commerce parameters** page.</span></span> <span data-ttu-id="89e6b-114">Dans les versions 10.0.16 et ultérieures, lorsque vous activez la fonctionnalité **Prise en charge de plusieurs modes de livraison de retrait**, le mode de livraison qui était précédemment défini comme le mode de livraison de retrait sur la page **Paramètres de Commerce** est automatiquement copiée dans la nouvelle configuration pour les modes de livraison de retrait.</span><span class="sxs-lookup"><span data-stu-id="89e6b-114">In version 10.0.16 and later, when you turn on the **Support for multiple pickup delivery modes** feature, the mode of delivery that was previously defined as the pickup delivery mode on the **Commerce parameters** page is automatically copied into the new configuration for pickup delivery modes.</span></span>

![Modes de livraison de retrait sur la page Paramètres de Commerce](media/multiplepickupparameter.png)

<span data-ttu-id="89e6b-116">Après avoir activé la fonctionnalité **Prise en charge de plusieurs modes de livraison de retrait**, vous pouvez définir plusieurs modes de livraison de retrait dans la grille **Mode de retrait de livraison** sur le raccourci **Modes de livraison** sur l’onglet **Commandes clients** de la page **Paramètres de Commerce**.</span><span class="sxs-lookup"><span data-stu-id="89e6b-116">After you turn on the **Support for multiple pickup delivery modes** feature, you can define multiple pickup delivery modes in the **Pickup mode of delivery** grid on the **Modes of delivery** FastTab on the **Customer orders** tab of the **Commerce parameters** page.</span></span>

<span data-ttu-id="89e6b-117">Les champs **Effectuer le mode de livraison** et **Mode de livraison électronique** et l’option **Afficher uniquement les options du mode transporteur pour les ordres d’expédition**, ont été déplacés vers ce raccourci.</span><span class="sxs-lookup"><span data-stu-id="89e6b-117">The **Carry Out mode of delivery** and **Electronic mode of delivery** fields, and the **Show only carrier mode options for ship orders** option, have been relocated to this FastTab.</span></span>

<span data-ttu-id="89e6b-118">Avant de configurer des modes de livraison de retrait supplémentaires, vous devez définir les modes de livraison.</span><span class="sxs-lookup"><span data-stu-id="89e6b-118">Before you configure additional pickup delivery modes, you must define the modes of delivery.</span></span> <span data-ttu-id="89e6b-119">Sur la page **Modes de livraison** du siège de Commerce, ajoutez les modes de livraison qui doivent être considérés comme des modes de livraison en retrait.</span><span class="sxs-lookup"><span data-stu-id="89e6b-119">On the **Modes of delivery** page in Commerce headquarters, add the modes of delivery that should be considered pickup delivery modes.</span></span> <span data-ttu-id="89e6b-120">Assurez-vous que toute la configuration est terminée.</span><span class="sxs-lookup"><span data-stu-id="89e6b-120">Make sure that all configuration is completed.</span></span> <span data-ttu-id="89e6b-121">Par exemple, assurez-vous que le mode de livraison est lié aux canaux et aux articles appropriés.</span><span class="sxs-lookup"><span data-stu-id="89e6b-121">For example, make sure that the mode of delivery is linked to appropriate channels and items.</span></span> <span data-ttu-id="89e6b-122">Lorsque vous avez terminé, exécutez la tâche **Traiter les modes de livraison** pour créer les relations entre le mode de livraison, les canaux et les articles.</span><span class="sxs-lookup"><span data-stu-id="89e6b-122">When you've finished, run the **Process delivery modes** job to create the relationships among the mode of delivery, channels, and items.</span></span> <span data-ttu-id="89e6b-123">Une fois la tâche terminée, ouvrez la page **Calendrier de distribution** du siège de Commerce et exécutez la tâche de distribution **1120** pour garantir que les bases de données pertinentes du canal Commerce sont mises à jour avec votre nouvelle configuration de mode de livraison.</span><span class="sxs-lookup"><span data-stu-id="89e6b-123">When the job has finished running, open the **Distribution schedule** page in Commerce headquarters, and run the **1120** distribution job to ensure that the relevant Commerce channel databases are updated with your new delivery mode configuration.</span></span>

![Exemple de configuration de mode de livraison en retrait à un point-relais](media/pickupmodes.png)

<span data-ttu-id="89e6b-125">Après avoir défini les modes de livraison en retrait supplémentaires, ajoutez-les à la grille **Mode de livraison en retrait** sur la page **Paramètres de Commerce**.</span><span class="sxs-lookup"><span data-stu-id="89e6b-125">After you define the additional pickup delivery modes, add them to the **Pickup mode of delivery** grid on the **Commerce parameters** page.</span></span> <span data-ttu-id="89e6b-126">Exécutez ensuite les tâches de distribution appropriées pour mettre à jour les bases de données de canal de Commerce pertinentes avec la modification de configuration.</span><span class="sxs-lookup"><span data-stu-id="89e6b-126">Then run the appropriate distribution jobs to update the relevant Commerce channel databases with the configuration change.</span></span>

> [!NOTE]
> <span data-ttu-id="89e6b-127">En dehors du mode de livraison en retrait existant qui est copié dans la grille **Mode de livraison en retrait** lorsque vous activez la **Prise en charge de plusieurs modes de livraison en retrait**, pour chaque configuration de mode de livraison en retrait supplémentaire que vous créez, vous devez configurer de nouveaux modes de livraison.</span><span class="sxs-lookup"><span data-stu-id="89e6b-127">Apart from the existing pickup delivery mode that is copied to the **Pickup mode of delivery** grid when you turn on the **Support for multiple pickup delivery modes** feature, for every additional pickup delivery mode configuration that you create, you should configure new modes of delivery.</span></span> <span data-ttu-id="89e6b-128">Lorsque vous ajoutez des modes de livraison à al grille **Mode de livraison en retrait**, Commerce vérifie si des lignes de vente ouvertes actives les utilisent déjà.</span><span class="sxs-lookup"><span data-stu-id="89e6b-128">When you add modes of delivery to the **Pickup mode of delivery** grid, Commerce validates whether any active open sales lines already use them.</span></span> <span data-ttu-id="89e6b-129">Si des lignes de vente ouvertes sont trouvées, vous recevez un message d’erreur.</span><span class="sxs-lookup"><span data-stu-id="89e6b-129">If any open sales lines are found, you receive an error message.</span></span> <span data-ttu-id="89e6b-130">Les modes de livraison ne sont pas considérés comme des modes de livraison en retrait tant que toutes les lignes de vente ouvertes qui les utilisent n’ont pas été fermées (facturées ou annulées).</span><span class="sxs-lookup"><span data-stu-id="89e6b-130">Modes of delivery aren't considered pickup delivery modes until all open sales lines that use them have been closed (either invoiced or canceled).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="89e6b-131">Après avoir défini plus d’un mode de livraison en retrait sur la page **Paramètres de Commerce**, la fonctionnalité **Prise en charge de plusieurs modes de livraison en retrait** devient obligatoire et ne peut plus être désactivée.</span><span class="sxs-lookup"><span data-stu-id="89e6b-131">After you define more than one pickup delivery mode on the **Commerce parameters** page, the **Support for multiple pickup delivery modes** feature becomes mandatory and can no longer be turned off.</span></span> <span data-ttu-id="89e6b-132">Si vous devez désactiver la fonctionnalité, supprimez tous les modes de livraison en retrait sauf un de la grille **Mode de livraison en retrait**.</span><span class="sxs-lookup"><span data-stu-id="89e6b-132">If you must turn off the feature, remove all but one pickup delivery mode from the **Pickup mode of delivery** grid.</span></span> <span data-ttu-id="89e6b-133">Lorsqu’un seul mode de livraison en retrait est défini, la fonction n’est plus considérée comme obligatoire et peut être désactivée.</span><span class="sxs-lookup"><span data-stu-id="89e6b-133">When only one pickup delivery mode is defined, the feature is longer considered mandatory and can be turned off.</span></span>

### <a name="e-commerce-site-configurations"></a><span data-ttu-id="89e6b-134">Configurations du site d’e-commerce</span><span class="sxs-lookup"><span data-stu-id="89e6b-134">E-commerce site configurations</span></span>

<span data-ttu-id="89e6b-135">Quand la fonctionnalité **Prise en charge de plusieurs modes de livraison en retrait** est activée, les modules suivants sur les pages d’e-commerce affichent les nouveaux modes de livraison en retrait tels que configurés :</span><span class="sxs-lookup"><span data-stu-id="89e6b-135">When the **Support for multiple pickup delivery modes** feature is turned on, the following modules on e-commerce pages show the new pickup delivery modes as configured:</span></span>

- <span data-ttu-id="89e6b-136">Zone d’achat</span><span class="sxs-lookup"><span data-stu-id="89e6b-136">Buy box</span></span>
- <span data-ttu-id="89e6b-137">Sélecteur de magasin</span><span class="sxs-lookup"><span data-stu-id="89e6b-137">Store selector</span></span>
- <span data-ttu-id="89e6b-138">Chariot</span><span class="sxs-lookup"><span data-stu-id="89e6b-138">Cart</span></span>
- <span data-ttu-id="89e6b-139">Informations sur le prélèvement</span><span class="sxs-lookup"><span data-stu-id="89e6b-139">Pickup information</span></span>
- <span data-ttu-id="89e6b-140">Confirmation de commande</span><span class="sxs-lookup"><span data-stu-id="89e6b-140">Order confirmation</span></span>
- <span data-ttu-id="89e6b-141">Détails de la commande</span><span class="sxs-lookup"><span data-stu-id="89e6b-141">Order details</span></span>

<span data-ttu-id="89e6b-142">Aucune étape supplémentaire n’est requise sur les pages d’e-commerce pour rendre les modes de livraison en retrait disponibles.</span><span class="sxs-lookup"><span data-stu-id="89e6b-142">No additional steps are required on e-commerce pages to make the pickup delivery modes available.</span></span>

## <a name="work-with-multiple-pickup-delivery-modes"></a><span data-ttu-id="89e6b-143">Utiliser plusieurs modes de livraison en retrait</span><span class="sxs-lookup"><span data-stu-id="89e6b-143">Work with multiple pickup delivery modes</span></span>

<span data-ttu-id="89e6b-144">Lorsque plusieurs modes de livraison en retrait sont disponibles pour un canal, une expérience améliorée est offerte aux clients lorsqu’ils achètent des produits qui seront retirés.</span><span class="sxs-lookup"><span data-stu-id="89e6b-144">When multiple pickup delivery modes are available for a channel, an enhanced experience is provided to customers when they shop for products that will be picked up.</span></span> 

- <span data-ttu-id="89e6b-145">Dans les canaux d’e-commerce, les acheteurs peuvent sélectionner n’importe quel mode de livraison en retrait valide disponible.</span><span class="sxs-lookup"><span data-stu-id="89e6b-145">In e-commerce channels, shoppers can select any valid pickup delivery mode that is available.</span></span> <span data-ttu-id="89e6b-146">Par exemple, un détaillant définit deux modes de livraison en retrait (retrait en magasin et retrait en point-relais), tous deux configurés dans la grille **Mode de livraison en retrait**, et les deux sont valables pour le canal de traitement des commandes et le produit qu’un acheteur achète actuellement.</span><span class="sxs-lookup"><span data-stu-id="89e6b-146">For example, a retailer defines two pickup delivery modes (in-store pickup and curbside pickup), both are configured in the **Pickup mode of delivery** grid, and both are valid for the order fulfillment channel and the product that a shopper is currently purchasing.</span></span> <span data-ttu-id="89e6b-147">Dans ce cas, l’acheteur peut sélectionner son mode de livraison en retrait préféré.</span><span class="sxs-lookup"><span data-stu-id="89e6b-147">In this case, the shopper can select their preferred pickup delivery mode.</span></span> <span data-ttu-id="89e6b-148">Le mode de livraison en retrait sélectionné devient alors le mode de livraison qui est lié à la ligne de commande client lorsque la commande est créée au siège de Commerce.</span><span class="sxs-lookup"><span data-stu-id="89e6b-148">The selected pickup delivery mode then becomes the mode of delivery that is linked to the sales order line when the order is created in Commerce headquarters.</span></span>

    ![Sélection d’une option de retrait dans l’e-commerce](media/pickupecommerce.png)

- <span data-ttu-id="89e6b-150">Dans les canaux des magasins, si une commande client pour le retrait est créée via l’application de point de vente (PDV), le vendeur est invité à choisir parmi les modes de livraison en retrait disponibles, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="89e6b-150">In store channels, if a customer order for pickup is created through the point of sale (POS) application, the sales associate is prompted to choose among the available pickup delivery modes, if any have been configured.</span></span> <span data-ttu-id="89e6b-151">Si un seul mode de livraison en retrait valide est disponible pour le canal et l’article, le vendeur n’est pas invité à le sélectionner.</span><span class="sxs-lookup"><span data-stu-id="89e6b-151">If only one valid pickup delivery mode is available for the channel and item, the sales associate isn't prompted to select it.</span></span> <span data-ttu-id="89e6b-152">Au lieu de cela, le mode de livraison en retrait disponible est automatiquement appliqué aux lignes de commande.</span><span class="sxs-lookup"><span data-stu-id="89e6b-152">Instead, the available pickup delivery mode is automatically applied to the order lines.</span></span>

    ![Sélection d’une option de retrait dans l’application PDV](media/pickuppos.png)

- <span data-ttu-id="89e6b-154">Dans les canaux du centre d’appels, lorsque les utilisateurs créent des ordres de retrait, ils peuvent sélectionner manuellement tout mode de livraison en retrait défini qui est lié au canal du centre d’appels.</span><span class="sxs-lookup"><span data-stu-id="89e6b-154">In call center channels, when users create pickup orders, they can manually select any defined pickup delivery mode that is linked to the call center channel.</span></span> <span data-ttu-id="89e6b-155">Le système valide ensuite que le mode de livraison en retrait sélectionné peut être utilisé lorsque l’article qui y est lié est commandé.</span><span class="sxs-lookup"><span data-stu-id="89e6b-155">The system then validates that the selected pickup delivery mode can be used when the item that is being linked to it is ordered.</span></span> <span data-ttu-id="89e6b-156">Lorsqu’un mode de livraison en retrait est sélectionné dans les canaux du centre d’appels, les lignes de commande client doivent être liées à un entrepôt de magasin valide.</span><span class="sxs-lookup"><span data-stu-id="89e6b-156">When a pickup delivery mode is selected in call center channels, the sales order lines must be linked to a valid store warehouse.</span></span> <span data-ttu-id="89e6b-157">Si un entrepôt hors magasin est défini sur une ligne de vente de centre d’appels, un mode de livraison en retrait ne peut pas être défini sur cette ligne de vente.</span><span class="sxs-lookup"><span data-stu-id="89e6b-157">If a non-store warehouse is defined on a call center sales line, a pickup delivery mode can't be set on that sales line.</span></span>
- <span data-ttu-id="89e6b-158">Les vendeurs peuvent utiliser l’opération **Rappel de commande** ou **Exécution des commandes** dans l’application PDV pour récupérer une liste de commandes ou de lignes de commande pour le retrait.</span><span class="sxs-lookup"><span data-stu-id="89e6b-158">Sales associates can use the **Order recall** or **Order fulfillment** operation in the POS application to retrieve a list of orders or order lines for pickup.</span></span> <span data-ttu-id="89e6b-159">Si un vendeur utilise un filtre de recherche prédéfini pour afficher toutes les commandes qui seront retirées dans le magasin actuel, les demandes sont modifiées pour garantir que les résultats de la recherche incluent toutes les commandes éligibles qui utilisent un mode de livraison en retrait.</span><span class="sxs-lookup"><span data-stu-id="89e6b-159">If a sales associate uses a predefined search filter to show all orders that will be picked up at the current store, the queries are modified to ensure that the search results include all eligible orders that use any pickup delivery mode.</span></span> <span data-ttu-id="89e6b-160">Les utilisateurs du PDV peuvent également utiliser des filtres existants pour réduire la liste des commandes à un mode de livraison en retrait spécifique.</span><span class="sxs-lookup"><span data-stu-id="89e6b-160">POS users can also use existing filters to narrow down the list of orders to a specific pickup delivery mode.</span></span> <span data-ttu-id="89e6b-161">Par exemple, ils ne peuvent afficher que les commandes en retrait à un point-relais.</span><span class="sxs-lookup"><span data-stu-id="89e6b-161">For example, they can show only orders for curbside pickup.</span></span>

    ![Filtre pour les modes de livraison en retrait appliqués à une liste d’ordres de rappel](media/pickuprecallorder.png)

## <a name="considerations-for-distributed-order-management"></a><span data-ttu-id="89e6b-163">Considérations sur la gestion des commandes distribuées</span><span class="sxs-lookup"><span data-stu-id="89e6b-163">Considerations for distributed order management</span></span>

<span data-ttu-id="89e6b-164">Les fonctionnalités de [gestion des commandes distribuées](https://docs.microsoft.com/dynamics365/commerce/dom) de Commerce ignorent toutes les lignes de vente marquées pour le retrait en magasin.</span><span class="sxs-lookup"><span data-stu-id="89e6b-164">The [distributed order management (DOM)](https://docs.microsoft.com/dynamics365/commerce/dom) features in Commerce ignore any sales lines that are marked for store pickup.</span></span> <span data-ttu-id="89e6b-165">Ces fonctionnalités ont été mises à jour pour garantir que les lignes de vente liées aux modes de livraison en retrait configurés contournent la logique DOM et ne seront pas réaffectées à un nouvel entrepôt d’exécution.</span><span class="sxs-lookup"><span data-stu-id="89e6b-165">These features have been updated to ensure that sales lines that are linked to configured pickup delivery modes bypass the DOM logic and won't be reallocated to a new fulfillment warehouse.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]