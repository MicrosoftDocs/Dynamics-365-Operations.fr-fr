---
title: Configurer Azure Active Directory pour la connexion au PDV
description: Cette rubrique explique comment configurer Azure Active Directory comme méthode d'authentification dans le point de vente Microsoft Dynamics 365 Commerce.
author: boycezhu
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Core, Operations, Retail
ms.search.region: global
ms.author: boycez
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.11
ms.openlocfilehash: e271bbae84605b4adace1809b53b7cbdb6932da0
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/11/2021
ms.locfileid: "6020009"
---
# <a name="configure-azure-active-directory-authentication-for-pos-sign-in"></a><span data-ttu-id="fc1ba-103">Configurer Azure Active Directory pour la connexion au PDV</span><span class="sxs-lookup"><span data-stu-id="fc1ba-103">Configure Azure Active Directory authentication for POS sign-in</span></span>

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="fc1ba-104">Cette rubrique explique comment configurer Azure Active Directory (Azure AD) comme méthode d'authentification dans le point de vente (PDV) Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-104">This topic explains how to configure Azure Active Directory (Azure AD) as the authentication method in Microsoft Dynamics 365 Commerce point of sale (POS).</span></span>

<span data-ttu-id="fc1ba-105">Les détaillants qui utilisent Dynamics 365 Commerce avec d'autres services cloud Microsoft tels que Microsoft Azure, Microsoft 365 et Microsoft Teams veulent généralement utiliser Azure AD pour une gestion centralisée des informations d'identification des utilisateurs afin d'offrir une expérience de connexion sécurisée et transparente entre les applications.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-105">Retailers who use Dynamics 365 Commerce along with other Microsoft cloud services such as Microsoft Azure, Microsoft 365, and Microsoft Teams typically want to use Azure AD for centralized management of user credentials for a secure and seamless sign-in experience across applications.</span></span> <span data-ttu-id="fc1ba-106">Pou utiliser l'authentification Azure AD dans l’application PDV de Commerce, vous devez d'abord configurer Azure AD comme méthode d'authentification dans Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-106">To use Azure AD authentication for Commerce POS, you must first configure Azure AD as the authentication method in Commerce headquarters.</span></span>

## <a name="configure-pos-authentication-method"></a><span data-ttu-id="fc1ba-107">Configurer la méthode d’authentification PDV</span><span class="sxs-lookup"><span data-stu-id="fc1ba-107">Configure POS authentication method</span></span>

<span data-ttu-id="fc1ba-108">Pour configurer la méthode d'authentification PDV de Commerce Headquarters, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-108">To configure the POS authentication method in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="fc1ba-109">Accédez à **Retail et Commerce \> Paramétrage du canal \> Paramétrage Point de vente \> Profils Point de vente \> Profils de fonctionnalité** et sélectionnez le profil de fonctionnalité que vous souhaitez modifier.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-109">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**, and select a functionality profile to change.</span></span>
1. <span data-ttu-id="fc1ba-110">Dans la section **Connexion du personnel au PDV** du raccourci **Fonctions**, sélectionnez l'option de méthode d'authentification souhaitée dans la liste déroulante **Mode d’authentification pour la connexion**.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-110">In the **POS staff logon** section of the **Functions** FastTab, select a desired authentication method option from the **Logon authentication method** drop-down list.</span></span>

    <span data-ttu-id="fc1ba-111">Le **Mode d’authentification pour la connexion** a trois options :</span><span class="sxs-lookup"><span data-stu-id="fc1ba-111">The **Logon authentication method** has three options:</span></span>
    
    - <span data-ttu-id="fc1ba-112">**ID et mot de passe personnels** - Cette option par défaut oblige les utilisateurs du PDV à saisir un ID personnel et un mot de passe pour se connecter au PDV et accéder à la fonctionnalité de remplacement par le responsable.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-112">**Personnel ID and Password** - This default option requires POS users to enter a personnel ID and password to sign in to the POS and to access manager override functionality.</span></span>
    - <span data-ttu-id="fc1ba-113">**Azure AD sans authentification unique** - Cette option nécessite que les utilisateurs du point de vente utilisent les informations d'identification Azure AD pour se connecter au PDV et accéder à la fonctionnalité de remplacement par le responsable.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-113">**Azure AD without single sign-on** - This option requires POS users to use Azure AD credentials to sign in to the POS and access manager override functionality.</span></span> <span data-ttu-id="fc1ba-114">Lorsque le client PDV est actualisé ou rouvert, l'utilisateur du PDV doit fournir les informations d'identification Azure AD pour se reconnecter.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-114">When the POS client is refreshed or reopened, the POS user must provide Azure AD credentials to sign in again.</span></span>
    - <span data-ttu-id="fc1ba-115">**Azure AD avec authentification unique** - Lorsque cette option est sélectionnée, les utilisateurs du PDV peuvent se connecter à Cloud POS (CPOS) en utilisant les informations d'identification Azure AD actives qui sont utilisées par d'autres applications Web dans le même navigateur Web, ou se connecter à Modern POS (MPOS) en utilisant les identifiants Azure AD utilisés pour Windows.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-115">**Azure AD with single sign-on** - When this option is selected, POS users are able to sign in to Cloud POS (CPOS) using active Azure AD credentials that are being used by other web applications in the same web browser, or sign in to Modern POS (MPOS) using Azure AD credentials signed in to Windows.</span></span> <span data-ttu-id="fc1ba-116">Les deux méthodes permettent la connexion sans avoir besoin d'entrer les informations d'identification Azure AD sur l'écran de connexion au PDV.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-116">Both methods allow sign-in without needing to enter Azure AD credentials on the POS sign-in screen.</span></span> <span data-ttu-id="fc1ba-117">Cependant, l'accès à la fonctionnalité de remplacement par le responsable du point de vente nécessitera toujours une connexion à l'aide des identifiants Azure AD.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-117">However, accessing the POS manager override functionality will still require sign-in using Azure AD credentials.</span></span>

1. <span data-ttu-id="fc1ba-118">Accédez à **Retail et Commerce> IT Retail et Commerce > Programme de distribution** et exécutez le travail **1070 (configuration des canaux)** pour synchroniser les derniers paramètres de profil de fonctionnalité avec les clients PDV.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-118">Go to **Retail and Commerce > Retail and Commerce IT > Distribution schedule** and run the **1070 (Channel configuration)** job to synchronize the latest functionality profile settings to POS clients.</span></span>

> [!NOTE]
> - <span data-ttu-id="fc1ba-119">L'option de méthode d'authentification **Azure AD sans authentification unique** remplace l'option **Azure Active Directory** dans Commerce version 10.0.18 et versions antérieures.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-119">The **Azure AD without single sign-on** authentication method option replaces the **Azure Active Directory** option in Commerce version 10.0.18 and earlier.</span></span>
> - <span data-ttu-id="fc1ba-120">L'authentification Azure AD nécessite une connexion Internet active et ne fonctionnera pas si le point de vente est hors ligne.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-120">Azure AD authentication requires an active internet connection, and won't function when the POS is offline.</span></span>

## <a name="associate-azure-ad-accounts-with-pos-users"></a><span data-ttu-id="fc1ba-121">Associer des comptes Azure AD avec des utilisateurs de point de vente</span><span class="sxs-lookup"><span data-stu-id="fc1ba-121">Associate Azure AD accounts with POS users</span></span>

<span data-ttu-id="fc1ba-122">Pour utiliser Azure AD comme méthode d'authentification au PDV, vous devez associer les comptes Azure AD avec des utilisateurs de point de vente dans Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-122">To use Azure AD as the POS authentication method, you must associate Azure AD accounts with POS users in Commerce headquarters.</span></span> 

<span data-ttu-id="fc1ba-123">Pour associer des comptes Azure AD à des utilisateurs de point de vente dans Commerce Headquarters, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-123">To associate Azure AD accounts with POS users in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="fc1ba-124">Accédez à **Retail et Commerce > Employés > Collaborateurs** et ouvrez un enregistrement de collaborateur.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-124">Go to **Retail and Commerce > Employees > Workers** and open a worker record.</span></span>
1. <span data-ttu-id="fc1ba-125">Sur le volet Actions, sélectionnez l’onglet **Commerce**, puis sous **Identité externe**, cliquez sur **Associer l’identité existante**.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-125">On the Action Pane, select the **Commerce** tab, then under **External identity** select **Associate existing identity**.</span></span> 
1. <span data-ttu-id="fc1ba-126">Dans la boîte de dialogue **Utiliser l’identité externe existante**, sélectionnez **Rechercher à l’aide de l’e-mail**, entrez une adresse électronique Azure AD, puis sélectionnez **Rechercher**.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-126">In the **Use existing external identity** dialog box, select **Search using email**, enter an Azure AD email address, and then select **Search**.</span></span>
1. <span data-ttu-id="fc1ba-127">Sélectionnez le compte Azure AD renvoyé, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-127">Select the Azure AD account that is returned, then select **OK**.</span></span>

<span data-ttu-id="fc1ba-128">Après les étapes de configuration ci-dessus, les champs **Alias**, **UPN** et **Sous-identifiant externe** de l’onglet **Commerce** de la page des détails du collaborateur seront remplis.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-128">After the configuration steps above, the **Alias**, **UPN**, and **External sub identifier** fields on the **Commerce** tab of the worker's details page will be filled in.</span></span>

<span data-ttu-id="fc1ba-129">Vous devez exécuter la tâche **1060 (Personnel)** dans **Retail et Commerce > IT Retail et Commerce > Programme de distribution** pour synchroniser le dernier utilisateur du PDV et les données de compte Azure AD sur le canal.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-129">You must run the **1060 (Staff)** job in **Retail and Commerce > Retail and Commerce IT > Distribution schedule** to synchronize the latest POS user and Azure AD account data to the channel.</span></span>

> [!NOTE]
> <span data-ttu-id="fc1ba-130">En tant que meilleure pratique, après que les informations sur le collaborateur telles que le mot de passe, l'autorisation de point de vente, le compte Azure AD, ou le carnet d'adresses des employés sont mises à jour dans Commerce Headquarters, il est fortement recommandé d'exécuter la tâche **1060 (Personnel)** pour synchroniser les dernières informations sur le collaborateur avec le canal.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-130">As a best practice, after worker information such as password, POS permission, associated Azure AD account, or employee address book is updated in Commerce headquarters, it is highly recommended to run the **1060 (Staff)** job to synchronize the latest worker information to the channel.</span></span> <span data-ttu-id="fc1ba-131">Le client PDV peut ainsi extraire les données correctes pour l’authentification des utilisateurs et la vérification des autorisations.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-131">The POS client can then fetch the correct data for user authentication and authorization checks.</span></span>

## <a name="pos-lock-register-and-sign-out-with-azure-ad-authentication"></a><span data-ttu-id="fc1ba-132">Verrouillage de caisse enregistreuse de point de vente et déconnexion via l'authentification Azure AD</span><span class="sxs-lookup"><span data-stu-id="fc1ba-132">POS lock register and sign-out with Azure AD authentication</span></span>

<span data-ttu-id="fc1ba-133">Voici ce qui se produit lorsque le PDV est configuré pour utiliser le mode d'authentification Azure AD :</span><span class="sxs-lookup"><span data-stu-id="fc1ba-133">The following occurs when POS is configured to use the Azure AD authentication method:</span></span>

- <span data-ttu-id="fc1ba-134">La fonction **Verrouiller la caisse enregistreuse** ne sera pas disponible dans l'application PDV.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-134">The **Lock register** function will not be available in the POS application.</span></span> 
- <span data-ttu-id="fc1ba-135">La fonction **Verrouiller automatiquement** se comportera de la même manière que la fonction **Déconnecter automatiquement**.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-135">The **Automatically lock** function will behave the same as the **Automatically logoff** function.</span></span>
- <span data-ttu-id="fc1ba-136">Si l'utilisateur du PDV sélectionne **Déconnecter**, il sera invité à se connecter avec les informations d'identification Azure AD lors du prochain lancement du PDV, que la connexion unique soit activée ou non.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-136">If the POS user selects **Log off**, the user will be asked to sign in with Azure AD credentials the next time the POS launches, regardless of whether single sign-in is enabled.</span></span>

## <a name="manager-override-functionality-with-azure-ad-authentication"></a><span data-ttu-id="fc1ba-137">Fonctionnalité de remplacement par le responsable avec l'authentification Azure AD</span><span class="sxs-lookup"><span data-stu-id="fc1ba-137">Manager override functionality with Azure AD authentication</span></span>

<span data-ttu-id="fc1ba-138">Lorsque le PDV est configuré pour utiliser l'authentification Azure AD, la fonctionnalité de remplacement par le responsable ouvrira une boîte de dialogue qui demande les identifiants Azure AD du responsable.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-138">When the POS is configured to use Azure AD authentication, the manager override functionality will open a dialog box that prompts for the manager user's Azure AD credentials.</span></span> <span data-ttu-id="fc1ba-139">Une fois la connexion du responsable approuvée, les identifiants Azure AD du responsable seront supprimés et les identifiants Azure AD de l'utilisateur précédent seront utilisés pour les opérations de PDV ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-139">After manager sign-in is approved, the manager's Azure AD credentials will be dropped and the previous user's Azure AD credentials will be used for subsequent POS operations.</span></span>

> [!NOTE]
> - <span data-ttu-id="fc1ba-140">Dans les versions 10.0.18 et antérieures de Commerce, la fonction de remplacement par le responsable ne prend pas en charge Azure AD.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-140">In Commerce versions 10.0.18 and earlier, the manager override function does not support Azure AD.</span></span> <span data-ttu-id="fc1ba-141">Un ID et un mot de passe personnels sont requis même si le PDV est configuré pour utiliser le mode d'authentification Azure AD.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-141">A personnel ID and password are required even if the POS is configured to use the Azure AD authentication method.</span></span>
> - <span data-ttu-id="fc1ba-142">Lorsque vous utilisez CPOS avec le navigateur Web Safari sur un appareil Apple iOS, vous devez d'abord désactiver le **bloqueur de fenêtres publicitaires** dans les paramètres de Safari pour que la fonctionnalité de remplacement par le responsable fonctionne avec l'authentification Azure AD.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-142">When using CPOS with the Safari web browser on an Apple iOS device, you must first turn off **Block Pop-ups** in Safari settings for the manager override functionality to work with Azure AD authentication.</span></span> 

## <a name="security-best-practices-for-azure-ad-based-pos-authentication-on-shared-devices"></a><span data-ttu-id="fc1ba-143">Meilleures pratiques de sécurité pour l'authentification au PDV basée sur Azure AD sur les appareils partagés</span><span class="sxs-lookup"><span data-stu-id="fc1ba-143">Security best practices for Azure AD-based POS authentication on shared devices</span></span>

<span data-ttu-id="fc1ba-144">De nombreux détaillants configurent leur environnement de magasin de manière à ce que plusieurs utilisateurs accèdent à l'application de point de vente à partir d'un appareil physique partagé.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-144">Many retailers set up their retail store environment in a way that multiple users need to access the POS application from a shared physical device.</span></span> <span data-ttu-id="fc1ba-145">Dans ce contexte, si la connexion unique offre une expérience d'authentification pratique et transparente, elle peut également créer une faille de sécurité dans laquelle l'utilisateur actuel du PDV peut ne pas savoir si les informations d'identification d'un autre utilisateur sont utilisées pour effectuer des transactions ou des opérations dans le PDV.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-145">In that context, while single sign-in provides a convenient and seamless authentication experience, it may also create a security loophole where the current POS user may not realize that another user's credentials are being used to perform transactions or operations in the POS.</span></span> <span data-ttu-id="fc1ba-146">Avant de configurer le PDV pour utiliser le mode d'authentification Azure AD, il est fortement recommandé de passer en revue votre politique de sécurité et les paramètres de connexion de l'appareil partagé pour décider quelle option convient le mieux.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-146">Before you configure the POS to use the Azure AD authentication method, it is highly recommended to review your security policy and the shared device's sign-in settings to decide which option is the best fit.</span></span>

- <span data-ttu-id="fc1ba-147">Si votre environnement de vente au détail utilise un compte partagé (par exemple, un compte local) pour la connexion à un appareil physique, il est recommandé d'utiliser l'option **Azure AD sans authentification unique**.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-147">If your retail environment uses a shared account (for example, a local account) for physical device sign-in, it's recommended to use the **Azure AD without single sign-on** option.</span></span> <span data-ttu-id="fc1ba-148">Cela garantit que chaque utilisateur de point de vente fournit explicitement les informations d'identification Azure AD pour se connecter au PDV.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-148">This ensures that each POS user explicitly provides Azure AD credentials to sign in to the POS.</span></span>
- <span data-ttu-id="fc1ba-149">Si votre environnement de vente au détail oblige les employés à utiliser leurs propres comptes Azure AD pour se connecter au point de vente et qu'il héberge un appareil physique, il est recommandé d'utiliser l'option **Azure AD avec authentification unique**.</span><span class="sxs-lookup"><span data-stu-id="fc1ba-149">If your retail environment requires employees to use their own Azure AD accounts to sign in to the POS and its hosting physical device, it's recommended to use the **Azure AD with single sign-on** option.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="fc1ba-150">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="fc1ba-150">Additional resources</span></span>

[<span data-ttu-id="fc1ba-151">Configurer un collaborateur</span><span class="sxs-lookup"><span data-stu-id="fc1ba-151">Configure a worker</span></span>](tasks/worker.md)

[<span data-ttu-id="fc1ba-152">Créer un profil de fonctionnalité de vente au détail</span><span class="sxs-lookup"><span data-stu-id="fc1ba-152">Create a retail functionality profile</span></span>](retail-functionality-profile.md)


[<span data-ttu-id="fc1ba-153">Paramétrer une fonctionnalité de connexion étendue pour MPOS et CPOS</span><span class="sxs-lookup"><span data-stu-id="fc1ba-153">Set up extended logon functionality for MPOS and Cloud POS</span></span>](extended-logon.md)

[<span data-ttu-id="fc1ba-154">Bonnes pratiques de sécurité pour Cloud POS dans les environnements partagés</span><span class="sxs-lookup"><span data-stu-id="fc1ba-154">Security best practices for Cloud POS in shared environments</span></span>](dev-itpro/secure-retail-cloud-pos.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]
