---
title: Configurer un locataire B2C dans Commerce
description: Cette rubrique décrit comment configurer vos locataires Azure Active Directory (Azure AD) B2C pour l’authentification du site de l’utilisateur dans Dynamics 365 Commerce.
author: BrianShook
ms.date: 03/17/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: brshoo
ms.search.validFrom: 2020-02-13
ms.dyn365.ops.version: ''
ms.openlocfilehash: f062f40c9eb883d02c4a0ee06c797ed1b0b22665
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/31/2021
ms.locfileid: "5793993"
---
# <a name="set-up-a-b2c-tenant-in-commerce"></a><span data-ttu-id="10f8d-103">Configurer un locataire B2C dans Commerce</span><span class="sxs-lookup"><span data-stu-id="10f8d-103">Set up a B2C tenant in Commerce</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="10f8d-104">Cette rubrique décrit comment configurer vos locataires Azure Active Directory (Azure AD) B2C pour l’authentification du site de l’utilisateur dans Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-104">This topic describes how to set up your Azure Active Directory (Azure AD) business-to-consumer (B2C) tenants for user site authentication in Dynamics 365 Commerce.</span></span>

<span data-ttu-id="10f8d-105">Dynamics 365 Commerce fait appel à Azure AD B2C pour prendre en charge les flux d’informations d’identification et d’authentification des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="10f8d-105">Dynamics 365 Commerce uses Azure AD B2C to support user credential and authentication flows.</span></span> <span data-ttu-id="10f8d-106">Un utilisateur peut s’inscrire, se connecter et réinitialiser son mot de passe via ces flux.</span><span class="sxs-lookup"><span data-stu-id="10f8d-106">A user can sign up, sign in, and reset their password through these flows.</span></span> <span data-ttu-id="10f8d-107">Azure AD B2C stocke les informations d’authentification sensibles d’un utilisateur, telles que son nom d’utilisateur et son mot de passe.</span><span class="sxs-lookup"><span data-stu-id="10f8d-107">Azure AD B2C stores sensitive user authentication information, such as username and password.</span></span> <span data-ttu-id="10f8d-108">L’enregistrement utilisateur du locataire B2C stocke un enregistrement de compte local B2C ou un enregistrement de fournisseur d’identité sociale B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-108">The user record in the B2C tenant will store either a B2C local account record or a B2C social identity provider record.</span></span> <span data-ttu-id="10f8d-109">Ces enregistrements B2C seront liés à l’enregistrement client dans l’environnement Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-109">These B2C records will link back to the customer record in the Commerce environment.</span></span>

> [!WARNING] 
> <span data-ttu-id="10f8d-110">Azure AD B2C supprimera les anciens flux d’utilisateurs (hérités) d’ici le 1er août 2021.</span><span class="sxs-lookup"><span data-stu-id="10f8d-110">Azure AD B2C will retire old (legacy) user flows by August 1, 2021.</span></span> <span data-ttu-id="10f8d-111">Par conséquent, vous devez prévoir de migrer vos flux d’utilisateurs vers la nouvelle version recommandée.</span><span class="sxs-lookup"><span data-stu-id="10f8d-111">Therefore, you should plan to migrate your user flows to the new recommended version.</span></span> <span data-ttu-id="10f8d-112">La nouvelle version offre la parité des fonctionnalités ainsi que de nouvelles fonctionnalités.</span><span class="sxs-lookup"><span data-stu-id="10f8d-112">The new version provides feature parity and new features.</span></span> <span data-ttu-id="10f8d-113">La bibliothèque de modules pour Commerce version 10.0.15 ou supérieure doit être utilisée avec les flux d’utilisateurs B2C recommandés.</span><span class="sxs-lookup"><span data-stu-id="10f8d-113">The module library for Commerce version 10.0.15 or higher should be used with the recommended B2C user flows.</span></span> <span data-ttu-id="10f8d-114">Pour plus d’informations, voir [Flux d’utilisateurs dans Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/user-flow-overview).</span><span class="sxs-lookup"><span data-stu-id="10f8d-114">For more information, see [User flows in Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/user-flow-overview).</span></span>
 
 > [!NOTE]
 > <span data-ttu-id="10f8d-115">Les environnements d’évaluation de Commerce sont fournis avec un locataire Azure AD B2C à des fins de démonstration.</span><span class="sxs-lookup"><span data-stu-id="10f8d-115">Commerce evaluation environments come with a pre-loaded Azure AD B2C tenant for demonstration purposes.</span></span> <span data-ttu-id="10f8d-116">Il n’est pas nécessaire que vous chargiez votre propre locataire Azure AD B2C en suivant les étapes ci-dessous pour les environnements d’évaluation.</span><span class="sxs-lookup"><span data-stu-id="10f8d-116">Loading your own Azure AD B2C tenant using the steps below is not required for evaluation environments.</span></span>

## <a name="create-or-link-to-an-existing-aad-b2c-tenant-in-the-azure-portal"></a><span data-ttu-id="10f8d-117">Créer ou générer un lien vers un locataire AAD B2C existant dans le portail Azure</span><span class="sxs-lookup"><span data-stu-id="10f8d-117">Create or link to an existing AAD B2C tenant in the Azure portal</span></span>

1. <span data-ttu-id="10f8d-118">Connectez-vous au [portail Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="10f8d-118">Sign in to the [Azure portal](https://portal.azure.com/).</span></span>
1. <span data-ttu-id="10f8d-119">Dans le menu du portail Azure, sélectionnez **Créer une ressource**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-119">From the Azure portal menu, select **Create a resource**.</span></span> <span data-ttu-id="10f8d-120">Assurez-vous d’utiliser l’abonnement et le répertoire qui seront connectés à votre environnement Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-120">Be sure to use the subscription and directory that will be connected with your Commerce environment.</span></span>

    ![Créer une ressource dans le portail Azure](./media/B2CImage_1.png)

1. <span data-ttu-id="10f8d-122">Accédez à **Identité \> Azure Active Directory B2C**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-122">Go to **Identity \> Azure Active Directory B2C**.</span></span>
1. <span data-ttu-id="10f8d-123">Une fois sur la page **Créer un locataire B2C ou lier à un locataire existant**, utilisez une des options ci-dessous qui répond le mieux aux besoins de votre entreprise :</span><span class="sxs-lookup"><span data-stu-id="10f8d-123">Once on the **Create New B2C Tenant or Link to existing Tenant** page, use one of the options below that best suits your company's needs:</span></span>

    - <span data-ttu-id="10f8d-124">**Créer un locataire Azure AD B2C** : utilisez cette option pour créer un locataire AAD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-124">**Create a new Azure AD B2C Tenant**: Use this option to create a new AAD B2C tenant.</span></span>
        1. <span data-ttu-id="10f8d-125">Sélectionnez **Créer un locataire Azure AD B2C**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-125">Select **Create a new Azure AD B2C Tenant**.</span></span>
        1. <span data-ttu-id="10f8d-126">Sous **Nom de l’organisation**, saisissez le nom de l’organisation.</span><span class="sxs-lookup"><span data-stu-id="10f8d-126">Under **Organization name**, enter the organization name.</span></span>
        1. <span data-ttu-id="10f8d-127">Sous **Nom de domaine initial**, saisissez le nom de domaine initial.</span><span class="sxs-lookup"><span data-stu-id="10f8d-127">Under **Initial domain name**, enter the initial domain name.</span></span>
        1. <span data-ttu-id="10f8d-128">Pour **Pays ou région**, sélectionnez le pays ou la région.</span><span class="sxs-lookup"><span data-stu-id="10f8d-128">For **Country or region**, select the country or region.</span></span>
        1. <span data-ttu-id="10f8d-129">Sélectionnez **Créer** pour créer le locataire.</span><span class="sxs-lookup"><span data-stu-id="10f8d-129">Select **Create** to create the tenant.</span></span>

     ![Créer un locataire Azure AD](./media/B2CImage_2.png)

     - <span data-ttu-id="10f8d-131">**Lier un locataire Azure AD B2C existant à mon abonnement Azure** : utilisez cette option si vous avez déjà un locataire Azure AD B2C auquel vous souhaitez vous lier.</span><span class="sxs-lookup"><span data-stu-id="10f8d-131">**Link an existing Azure AD B2C Tenant to my Azure subscription**: Use this option if you already have an Azure AD B2C tenant you want to link to.</span></span>
        1. <span data-ttu-id="10f8d-132">Sélectionnez **Lier un locataire Azure AD B2C existant à mon abonnement Azure**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-132">Select **Link an existing Azure AD B2C Tenant to my Azure subscription**.</span></span>
        1. <span data-ttu-id="10f8d-133">Pour **Locataire Azure AD B2C**, sélectionnez le locataire B2C approprié.</span><span class="sxs-lookup"><span data-stu-id="10f8d-133">For **Azure AD B2C Tenant**, select the appropriate B2C tenant.</span></span> <span data-ttu-id="10f8d-134">Si le message « Aucun locataire B2C admissible trouvé » s’affiche dans la zone de sélection, vous n’avez pas de locataire B2C éligible existant et vous devez en créer un.</span><span class="sxs-lookup"><span data-stu-id="10f8d-134">If the message "No eligible B2C Tenants found" appears in the selection box, you do not have an existing eligible B2C tenant and will need to create a new one.</span></span>
        1. <span data-ttu-id="10f8d-135">Pour **Groupe de ressources**, sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-135">For **Resource group**, select **Create new**.</span></span> <span data-ttu-id="10f8d-136">Entrez un **Nom** pour le groupe de ressources qui contient le locataire, sélectionnez **Emplacement du groupe de ressources**, puis **Créer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-136">Enter a **Name** for the resource group that will contain the tenant, select the **Resource group location**, and then select **Create**.</span></span>

    ![Lier un locataire Azure AD B2C existant à l’abonnement Azure](./media/B2CImage_3.png)

1. <span data-ttu-id="10f8d-138">Une fois le nouveau répertoire Azure AD B2C créé (cela peut prendre quelques instants), un lien vers le nouveau répertoire apparaît sur le tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="10f8d-138">Once the new Azure AD B2C directory is created (this may take a few moments), a link to the new directory will appear on the dashboard.</span></span> <span data-ttu-id="10f8d-139">Ce lien vous emmène vers la page « Bienvenue dans Azure Active Directory B2C ».</span><span class="sxs-lookup"><span data-stu-id="10f8d-139">This link will direct you to the "Welcome to Azure Active Directory B2C" page.</span></span>

    ![Lier au nouveau répertoire AAD](./media/B2CImage_4.png)

> [!NOTE]
> <span data-ttu-id="10f8d-141">Si vous avez plusieurs abonnements dans votre compte Azure, ou si vous avez configuré le locataire B2C sans créer de lien vers un abonnement actif, une bannière **Résoudre les problèmes** vous demande d’associer le locataire à un abonnement.</span><span class="sxs-lookup"><span data-stu-id="10f8d-141">If you have multiple subscriptions within your Azure account or have set up the B2C tenant without linking to an active subscription, a **Troubleshoot** banner will direct you to link the tenant to a subscription.</span></span> <span data-ttu-id="10f8d-142">Sélectionnez le message de résolution du problème et suivez les instructions pour résoudre le problème d’abonnement.</span><span class="sxs-lookup"><span data-stu-id="10f8d-142">Select the troubleshooting message and follow the instructions to resolve the subscription issue.</span></span>

<span data-ttu-id="10f8d-143">L’image suivante montre un exemple d’une bannière Azure AD B2C **Résolution des problèmes**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-143">The following image shows an example of an Azure AD B2C **Troubleshoot** banner.</span></span>

![Avertissement indiquant que le répertoire n’a pas d’abonnement actif](./media/B2CImage_5.png)

## <a name="create-the-b2c-application"></a><span data-ttu-id="10f8d-145">Créer l’application B2C</span><span class="sxs-lookup"><span data-stu-id="10f8d-145">Create the B2C application</span></span>

<span data-ttu-id="10f8d-146">Une fois le locataire B2C créé, vous allez créer une application B2C au sein de votre nouveau locataire Azure AD B2C pour interagir avec Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-146">Once the B2C tenant has been created, you will create a B2C application within your new Azure AD B2C tenant to interact with Commerce.</span></span>

<span data-ttu-id="10f8d-147">Pour créer une application B2C, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-147">To create the B2C application, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-148">Dans le portail Azure, sélectionnez **Inscriptions d’application**, puis sélectionnez **Nouvelle inscription**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-148">In the Azure portal, select **App registrations**, and then select **New registration**.</span></span>
1. <span data-ttu-id="10f8d-149">Sous **Nom**, entrez le nom à donner à cette application Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-149">Under **Name**, enter the name to give this Azure AD B2C application.</span></span>
1. <span data-ttu-id="10f8d-150">Sous **Types de comptes pris en charge**, sélectionnez **Comptes dans n’importe quel fournisseur d’identité ou annuaire d’organisation (pour authentifier les utilisateurs avec les flux d’utilisateurs)**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-150">Under **Supported account types**, select **Accounts in any identity provider or organizational directory (for authenticating users with user flows)**.</span></span>
1. <span data-ttu-id="10f8d-151">Pour **URI de redirection**, entrez vos URL de réponse dédiées comme type **Web**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-151">For **Redirect URI**, enter your dedicated reply URLs as type **Web**.</span></span> <span data-ttu-id="10f8d-152">Pour plus d’informations sur les URL de réponse et leur mise en forme, reportez-vous à [URL de réponse](#reply-urls) ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="10f8d-152">For information on reply URLs and how to format them, see [Reply URLs](#reply-urls) below.</span></span>
1. <span data-ttu-id="10f8d-153">Pour **Autorisations**, sélectionnez **Accorder le consentement administrateur aux autorisations openid et offline_access**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-153">For **Permissions**, select **Grant admin consent to openid and offline_access permissions**.</span></span>
1. <span data-ttu-id="10f8d-154">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-154">Select **Register**.</span></span>
1. <span data-ttu-id="10f8d-155">Sélectionnez l’application nouvellement créée et accédez au menu **Authentification**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-155">Select the newly-created application and navigate to the **Authentication** menu.</span></span> <span data-ttu-id="10f8d-156">Ici, vous pouvez ajouter des **URI de redirection** si nécessaire (maintenant ou plus tard).</span><span class="sxs-lookup"><span data-stu-id="10f8d-156">Here you can add additional **Redirect URIs** if needed (now or later).</span></span> <span data-ttu-id="10f8d-157">Passez à l’étape suivante si vous n’en avez pas besoin actuellement.</span><span class="sxs-lookup"><span data-stu-id="10f8d-157">Continue to the next step if not currently needed.</span></span>
1. <span data-ttu-id="10f8d-158">Sous **Octroi implicite**, sélectionnez à la fois **Jetons d’accès** et **Jetons d’identité** pour les activer pour l’application.</span><span class="sxs-lookup"><span data-stu-id="10f8d-158">Under **Implicit grant**, select both **Access tokens** and **ID tokens** to enable them for the application.</span></span> <span data-ttu-id="10f8d-159">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-159">Select **Save**.</span></span>
1. <span data-ttu-id="10f8d-160">Accédez au menu **Présentation** du portail Azure et copiez l’**ID de l’application (client)**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-160">Go to the **Overview** menu of the Azure portal and copy the **Application (client) ID**.</span></span> <span data-ttu-id="10f8d-161">Notez cet ID pour les étapes de configuration ultérieures (référencé plus tard sous le nom de **GUID client**).</span><span class="sxs-lookup"><span data-stu-id="10f8d-161">Note this ID for later setup steps (referenced later as the **Client GUID**).</span></span>

<span data-ttu-id="10f8d-162">Pour plus d’informations sur les inscriptions d’applications dans Azure AD B2C, veuillez consulter [La nouvelle expérience d’inscription d’applications pour Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/app-registrations-training-guide)</span><span class="sxs-lookup"><span data-stu-id="10f8d-162">For additional reference on App Registrations in Azure AD B2C, please see [The new App registrations experience for Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/app-registrations-training-guide)</span></span>

### <a name="reply-urls"></a><span data-ttu-id="10f8d-163">URL de réponse</span><span class="sxs-lookup"><span data-stu-id="10f8d-163">Reply URLs</span></span>

<span data-ttu-id="10f8d-164">Les URL de réponse sont importantes, car elles fournissent une liste des domaines de retour lorsque votre site appelle Azure AD B2C pour authentifier un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="10f8d-164">Reply URLs are important as they provide an allow list of the return domains when your site calls Azure AD B2C to authenticate a user.</span></span> <span data-ttu-id="10f8d-165">Cela permet le retour de l’utilisateur authentifié au domaine à partir duquel il se connecte (le domaine de votre site).</span><span class="sxs-lookup"><span data-stu-id="10f8d-165">This permits the return of the authenticated user back to the domain from which they are signing into (your site domain).</span></span> 

<span data-ttu-id="10f8d-166">Dans la zone **URL de réponse** sur l’écran **Azure AD B2C - Applications \> Nouvelle application**, vous devez ajouter des lignes distinctes pour le domaine de votre site et (une fois votre environnement configuré) l’URL générée par Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-166">In the **Reply URL** box on the **Azure AD B2c - Applications \> New application** screen, you need to add separate lines for both your site domain and (once your environment is provisioned) the Commerce-generated URL.</span></span> <span data-ttu-id="10f8d-167">Ces URL doivent toujours utiliser un format d’URL valide et ne doivent être que des URL de base (pas de barres obliques de fin ni de chemins d’accès).</span><span class="sxs-lookup"><span data-stu-id="10f8d-167">These URLs must always use a valid URL format and must be base URLs only (no trailing forward slashes or paths).</span></span> <span data-ttu-id="10f8d-168">La chaîne ``/_msdyn365/authresp`` doit ensuite être ajoutée aux URL de base, comme dans les exemples suivants.</span><span class="sxs-lookup"><span data-stu-id="10f8d-168">The string ``/_msdyn365/authresp`` then needs to be appended to the base URLs, as in the following examples.</span></span>

- <span data-ttu-id="10f8d-169">``https://www.fabrikam.com/_msdyn365/authresp`` (Le domaine doit correspondre complètement au domaine de commerce électronique.</span><span class="sxs-lookup"><span data-stu-id="10f8d-169">``https://www.fabrikam.com/_msdyn365/authresp`` (The domain should match the e-commerce domain completely.</span></span> <span data-ttu-id="10f8d-170">Si vous avez plusieurs domaines, vous devez ajouter cette URL pour chaque domaine.)</span><span class="sxs-lookup"><span data-stu-id="10f8d-170">If you have multiple domains, you need to add this URL for each domain.)</span></span>
- ``https://fabrikam-prod.commerce.dynamics.com/_msdyn365/authresp``

## <a name="create-user-flow-policies"></a><span data-ttu-id="10f8d-171">Créer des stratégies de flux d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="10f8d-171">Create user flow policies</span></span>

<span data-ttu-id="10f8d-172">Les flux d’utilisateurs sont les stratégies qu’Azure AD B2C utilise pour proposer des expériences utilisateur d’inscription, de connexion, de modification de profil et de mot de passe oublié.</span><span class="sxs-lookup"><span data-stu-id="10f8d-172">User flows are the policies Azure AD B2C uses to provide secure sign in, sign up, edit profile, and forget password user experiences.</span></span> <span data-ttu-id="10f8d-173">Dynamics 365 Commerce utilise ces flux pour effectuer les actions de stratégie dans le but d’interagir avec le locataire Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-173">Dynamics 365 Commerce uses these flows to perform the policy actions to interact with the Azure AD B2C tenant.</span></span> <span data-ttu-id="10f8d-174">Lorsqu’un utilisateur interagit avec ces stratégies, il est redirigé vers le locataire Azure AD B2C pour effectuer les actions.</span><span class="sxs-lookup"><span data-stu-id="10f8d-174">When a user interacts with these policies, they are redirected to the Azure AD B2C tenant to perform the actions.</span></span>

<span data-ttu-id="10f8d-175">Azure AD B2C propose trois types de flux d’utilisateurs de base :</span><span class="sxs-lookup"><span data-stu-id="10f8d-175">Azure AD B2C provides three basic user flow types:</span></span>
- <span data-ttu-id="10f8d-176">Inscription et connexion</span><span class="sxs-lookup"><span data-stu-id="10f8d-176">Sign up and sign in</span></span>
- <span data-ttu-id="10f8d-177">Modification du profil</span><span class="sxs-lookup"><span data-stu-id="10f8d-177">Profile editing</span></span>
- <span data-ttu-id="10f8d-178">Réinitialisation du mot de passe</span><span class="sxs-lookup"><span data-stu-id="10f8d-178">Password reset</span></span>

<span data-ttu-id="10f8d-179">Vous pouvez choisir d’utiliser les flux d’utilisateurs fournis par défaut par Azure AD, qui affichera une page hébergée par AAD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-179">You can choose to use the default user flows provided by Azure AD, which will display a page hosted by AAD B2C.</span></span> <span data-ttu-id="10f8d-180">Sinon, vous pouvez créer une page HTML pour contrôler l’apparence de ces expériences de flux utilisateur.</span><span class="sxs-lookup"><span data-stu-id="10f8d-180">Alternately, you can create an HTML page to control the look and feel of these user flow experiences.</span></span> 

<span data-ttu-id="10f8d-181">Pour personnaliser les pages de stratégie utilisateur avec les pages intégrées dans Dynamics 365 Commerce, voir [Configurer des pages personnalisées pour les connexions utilisateur](custom-pages-user-logins.md).</span><span class="sxs-lookup"><span data-stu-id="10f8d-181">To customize the user policy pages with pages built in Dynamics 365 Commerce, see [Set up custom pages for user logins](custom-pages-user-logins.md).</span></span> <span data-ttu-id="10f8d-182">Pour en savoir plus, voir [Personnaliser l’interface des expériences utilisateur dans Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/tutorial-customize-ui).</span><span class="sxs-lookup"><span data-stu-id="10f8d-182">For additional information, see [Customize the interface of user experiences in Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/tutorial-customize-ui).</span></span>

### <a name="create-a-sign-up-and-sign-in-user-flow-policy"></a><span data-ttu-id="10f8d-183">Créer une stratégie de flux d’utilisateur d’inscription et de connexion</span><span class="sxs-lookup"><span data-stu-id="10f8d-183">Create a sign up and sign in user flow policy</span></span>

<span data-ttu-id="10f8d-184">Pour créer une stratégie de flux d’utilisateur d’inscription et de connexion, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-184">To create a sign up and sign in user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-185">Dans le portail Azure, sélectionnez **Flux d’utilisateurs (stratégies)** dans le volet de navigation de gauche.</span><span class="sxs-lookup"><span data-stu-id="10f8d-185">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="10f8d-186">Sur la page **Azure AD B2C - Flux d’utilisateurs (stratégies)**, sélectionnez **Nouveau flux d’utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-186">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="10f8d-187">Sélectionnez la stratégie **Inscription et connexion**, puis sélectionnez la version **Recommandée**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-187">Select the **Sign up and sign in** policy, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="10f8d-188">Sous **Nom**, entrez un nom de stratégie.</span><span class="sxs-lookup"><span data-stu-id="10f8d-188">Under **Name**, enter a policy name.</span></span> <span data-ttu-id="10f8d-189">Ce nom s’affiche ensuite avec un préfixe attribué par le portail (par exemple, « B2C_1_ »).</span><span class="sxs-lookup"><span data-stu-id="10f8d-189">This name will display afterwards with a prefix the portal assigns (for example, "B2C_1_").</span></span>
1. <span data-ttu-id="10f8d-190">Sous **Fournisseurs d’identité**, cochez la case appropriée.</span><span class="sxs-lookup"><span data-stu-id="10f8d-190">Under **Identity providers**, select the appropriate check box.</span></span>
1. <span data-ttu-id="10f8d-191">Sous **Authentification multifacteur**, sélectionnez le choix approprié pour votre entreprise.</span><span class="sxs-lookup"><span data-stu-id="10f8d-191">Under **Multifactor Authentication**, select the appropriate choice for your company.</span></span> 
1. <span data-ttu-id="10f8d-192">Sous **Attributs et revendications des utilisateurs**, sélectionnez les options pour collecter les attributs ou renvoyer les réclamations, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="10f8d-192">Under **User attributes and claims**, select options to collect attributes or return claims as appropriate.</span></span> <span data-ttu-id="10f8d-193">Commerce nécessite les options par défaut suivantes :</span><span class="sxs-lookup"><span data-stu-id="10f8d-193">Commerce requires the following default options:</span></span>

    | <span data-ttu-id="10f8d-194">**Attribut de collecte**</span><span class="sxs-lookup"><span data-stu-id="10f8d-194">**Collect  attribute**</span></span> | <span data-ttu-id="10f8d-195">**Réclamation de retour**</span><span class="sxs-lookup"><span data-stu-id="10f8d-195">**Return  claim**</span></span> |
    | ---------------------- | ----------------- |
    | <span data-ttu-id="10f8d-196">Adresse de messagerie</span><span class="sxs-lookup"><span data-stu-id="10f8d-196">Email Address</span></span>          | <span data-ttu-id="10f8d-197">Adresses e-mail</span><span class="sxs-lookup"><span data-stu-id="10f8d-197">Email Addresses</span></span>   |
    | <span data-ttu-id="10f8d-198">Prénom</span><span class="sxs-lookup"><span data-stu-id="10f8d-198">Given Name</span></span>             | <span data-ttu-id="10f8d-199">Prénom</span><span class="sxs-lookup"><span data-stu-id="10f8d-199">Given Name</span></span>        |
    |                        | <span data-ttu-id="10f8d-200">Fournisseur d’identité</span><span class="sxs-lookup"><span data-stu-id="10f8d-200">Identity Provider</span></span> |
    | <span data-ttu-id="10f8d-201">Nom de famille</span><span class="sxs-lookup"><span data-stu-id="10f8d-201">Surname</span></span>                | <span data-ttu-id="10f8d-202">Nom de famille</span><span class="sxs-lookup"><span data-stu-id="10f8d-202">Surname</span></span>           |
    |                        | <span data-ttu-id="10f8d-203">ID d’objet de l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="10f8d-203">User’s Object ID</span></span>  |

1. <span data-ttu-id="10f8d-204">Sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-204">Select **Create**.</span></span>

<span data-ttu-id="10f8d-205">L’image suivante est un exemple de flux d’utilisateur d’inscription et de connexion Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-205">The following image is an example of the Azure AD B2C sign up and sign in user flow.</span></span>

![Paramètres de la stratégie Inscription et connexion](./media/B2CImage_11.png)

<span data-ttu-id="10f8d-207">L’image suivante montre l’option **Exécuter le flux d’utilisateur** dans le flux d’utilisateur Inscription et connexion à Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-207">The following image shows the **Run user flow** option in the Azure AD B2C sign up and sign in user flow.</span></span>

![Exécuter l’option Flux d’utilisateur dans le flux de stratégie](./media/B2CImage_23.png)
   
### <a name="create-a-profile-editing-user-flow-policy"></a><span data-ttu-id="10f8d-209">Créer une stratégie de flux d’utilisateur de modification de profil</span><span class="sxs-lookup"><span data-stu-id="10f8d-209">Create a profile editing user flow policy</span></span>

<span data-ttu-id="10f8d-210">Pour créer une stratégie de flux d’utilisateur de modification de profil, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-210">To create a profile editing user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-211">Dans le portail Azure, sélectionnez **Flux d’utilisateurs (stratégies)** dans le volet de navigation de gauche.</span><span class="sxs-lookup"><span data-stu-id="10f8d-211">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="10f8d-212">Sur la page **Azure AD B2C - Flux d’utilisateurs (stratégies)**, sélectionnez **Nouveau flux d’utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-212">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="10f8d-213">Sélectionnez **Modification du profil**, puis sélectionnez la version **Recommandée**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-213">Select **Profile editing**, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="10f8d-214">Sous **Nom**, saisissez le flux d’utilisateur de modification de profil.</span><span class="sxs-lookup"><span data-stu-id="10f8d-214">Under **Name**, enter the profile editing user flow.</span></span> <span data-ttu-id="10f8d-215">Ce nom s’affiche ensuite avec un préfixe attribué par le portail (par exemple, « B2C_1_ »).</span><span class="sxs-lookup"><span data-stu-id="10f8d-215">This name will display afterwards with a prefix the portal assigns (for example, "B2C_1_").</span></span>
1. <span data-ttu-id="10f8d-216">Sous **Fournisseurs d’identité**, sélectionnez **Connexion à la messagerie**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-216">Under **Identity providers**, select **Email SignIn**.</span></span>
1. <span data-ttu-id="10f8d-217">Sous **Attributs d’utilisateur**, activez l’une des cases à cocher suivantes :</span><span class="sxs-lookup"><span data-stu-id="10f8d-217">Under **User attributes**, select the following check boxes:</span></span>
    - <span data-ttu-id="10f8d-218">**Adresses e-mail** (**Réclamation de retour** uniquement)</span><span class="sxs-lookup"><span data-stu-id="10f8d-218">**Email Addresses** (**Return claim** only)</span></span>
    - <span data-ttu-id="10f8d-219">**Prénom** (**Attribut de collecte** et **Réclamation de retour**)</span><span class="sxs-lookup"><span data-stu-id="10f8d-219">**Given Name** (**Collect attribute** and **Return claim**)</span></span>
    - <span data-ttu-id="10f8d-220">**Fournisseur d’identité** (**Réclamation de retour** uniquement)</span><span class="sxs-lookup"><span data-stu-id="10f8d-220">**Identity Provider** (**Return claim** only)</span></span>
    - <span data-ttu-id="10f8d-221">**Nom de famille** (**Attribut de collecte** et **Réclamation de retour**)</span><span class="sxs-lookup"><span data-stu-id="10f8d-221">**Surname** (**Collect attribute** and **Return claim**)</span></span>
    - <span data-ttu-id="10f8d-222">**ID d’objet de l’utilisateur** (**Réclamation de retour** uniquement)</span><span class="sxs-lookup"><span data-stu-id="10f8d-222">**User's Object ID** (**Return claim** only)</span></span>
1. <span data-ttu-id="10f8d-223">Sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-223">Select **Create**.</span></span>

<span data-ttu-id="10f8d-224">L’image suivante montre un exemple du flux d’utilisateur de modification de profil Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-224">The following image shows an example of the Azure AD B2C profile editing user flow.</span></span>

![Créer le flux d’utilisateur de modification de profil](./media/B2CImage_12.png)

### <a name="create-a-password-reset-user-flow-policy"></a><span data-ttu-id="10f8d-226">Créer une stratégie de flux d’utilisateur de réinitialisation du mot de passe</span><span class="sxs-lookup"><span data-stu-id="10f8d-226">Create a password reset user flow policy</span></span>

<span data-ttu-id="10f8d-227">Pour créer une stratégie de flux d’utilisateur de réinitialisation du mot de passe, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-227">To create a password reset user flow policy, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-228">Dans le portail Azure, sélectionnez **Flux d’utilisateurs (stratégies)** dans le volet de navigation de gauche.</span><span class="sxs-lookup"><span data-stu-id="10f8d-228">In the Azure portal, select **User flows (policies)** in the left navigation pane.</span></span>
1. <span data-ttu-id="10f8d-229">Sur la page **Azure AD B2C - Flux d’utilisateurs (stratégies)**, sélectionnez **Nouveau flux d’utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-229">On the **Azure AD B2C – User flows (policies)** page, select **New User Flow**.</span></span>
1. <span data-ttu-id="10f8d-230">Sélectionnez **Réinitialisation du mot de passe**, puis sélectionnez la version **Recommandée**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-230">Select **Password Reset**, and then select the **Recommended** version.</span></span>
1. <span data-ttu-id="10f8d-231">Sous **Nom**, entrez un nom pour le flux d’utilisateur de réinitialisation du mot de passe.</span><span class="sxs-lookup"><span data-stu-id="10f8d-231">Under **Name**, enter a name for the password reset user flow.</span></span>
1. <span data-ttu-id="10f8d-232">Sous **Fournisseurs d’identité**, sélectionnez **Réinitialiser le mot de passe à l’aide de l’adresse e-mail**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-232">Under **Identity providers**, select **Reset password using email address**.</span></span>
1. <span data-ttu-id="10f8d-233">Sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-233">Select **Create**.</span></span>
1. <span data-ttu-id="10f8d-234">Sous **Revendications de l’application**, sélectionnez l’une des cases à cocher suivantes :</span><span class="sxs-lookup"><span data-stu-id="10f8d-234">Under **Application claims**, select the following check boxes:</span></span>
    - <span data-ttu-id="10f8d-235">**Adresses e-mail**</span><span class="sxs-lookup"><span data-stu-id="10f8d-235">**Email addresses**</span></span>
    - <span data-ttu-id="10f8d-236">**Nom de famille**</span><span class="sxs-lookup"><span data-stu-id="10f8d-236">**Given Name**</span></span>
    - <span data-ttu-id="10f8d-237">**Nom de famille**</span><span class="sxs-lookup"><span data-stu-id="10f8d-237">**Surname**</span></span>
    - <span data-ttu-id="10f8d-238">**ID d’objet de l’utilisateur**</span><span class="sxs-lookup"><span data-stu-id="10f8d-238">**User's Object ID**</span></span>
1. <span data-ttu-id="10f8d-239">Sélectionnez **Créer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-239">Select **Create**.</span></span>

<span data-ttu-id="10f8d-240">L’image suivante montre où définir **Réinitialiser le mot de passe à l’aide de l’adresse e-mail** dans le flux d’utilisateur Réinitialisation du mot de passe Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-240">The following image shows where to set **Reset Password using mail address** in the Azure AD B2C password reset user flow.</span></span>

![Définir « Réinitialiser le mot de passe à l’aide de l’adresse e-mail » dans la stratégie de réinitialisation du mot de passe](./media/B2CImage_13.png)

## <a name="add-social-identity-providers-optional"></a><span data-ttu-id="10f8d-242">Ajouter des fournisseurs d’identité sociale (facultatif)</span><span class="sxs-lookup"><span data-stu-id="10f8d-242">Add social identity providers (Optional)</span></span>

<span data-ttu-id="10f8d-243">Les fournisseurs d’identité sociale permettent aux utilisateurs d’utiliser leurs comptes sociaux pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="10f8d-243">Social identity providers allow users to use their social accounts for authentication.</span></span> <span data-ttu-id="10f8d-244">L’ajout de l’authentification du fournisseur d’identité sociale est facultatif dans Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-244">Adding social identity provider authentication is optional in Dynamics 365 Commerce.</span></span> 

<span data-ttu-id="10f8d-245">Si l’authentification du fournisseur d’identité sociale n’est pas ajoutée, les profils Azure AD B2C par défaut seront les principaux profils de votre base d’utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="10f8d-245">If social identity provider authentication is not added, the default Azure AD B2C profiles will be the main profiles for your user base.</span></span> <span data-ttu-id="10f8d-246">Les utilisateurs sélectionneront leur propre nom d’utilisateur (leur adresse e-mail préférée) et définiront un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="10f8d-246">Users will select their own username (their preferred email address) and set a password.</span></span> <span data-ttu-id="10f8d-247">Azure AD B2C authentifiera directement les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="10f8d-247">Azure AD B2C will authenticate users directly.</span></span> 

<span data-ttu-id="10f8d-248">Si l’authentification du fournisseur d’identité sociale est ajoutée et si un utilisateur choisit l’un des fournisseurs d’identité sociale proposés, une entité est toujours créée dans le locataire Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-248">If social identity provider authentication is added and a user chooses one of the social identity providers offered, an entity is still created in the Azure AD B2C tenant.</span></span> <span data-ttu-id="10f8d-249">Azure AD B2C authentifiera ensuite les informations d’identification de l’utilisateur auprès du fournisseur d’identité sociale.</span><span class="sxs-lookup"><span data-stu-id="10f8d-249">Azure AD B2C will then authenticate the user's credentials with the social identity provider.</span></span>

> [!NOTE]
> <span data-ttu-id="10f8d-250">La connexion au fournisseur d’identité crée un enregistrement dans le locataire B2C, mais dans un format différent de celui des comptes locaux, car il appellera la référence du fournisseur d’identité sociale externe pour l’authentification.</span><span class="sxs-lookup"><span data-stu-id="10f8d-250">The identity provider sign in creates a record in the B2C tenant, but in a different format than local accounts since it will call the external social identity provider reference for authentication.</span></span> <span data-ttu-id="10f8d-251">L’utilisateur peut utiliser la même adresse e-mail parmi les fournisseurs d’identité sociale. Autrement dit, le nom d’utilisateur de messagerie utilisé pour l’authentification risque de ne pas être unique pour le locataire.</span><span class="sxs-lookup"><span data-stu-id="10f8d-251">The user can use the same email address across social identity providers, meaning that the email username used for authentication may not be unique to the tenant.</span></span> <span data-ttu-id="10f8d-252">Azure AD B2C appliquera uniquement les utilisateurs avec une adresse e-mail unique sur les comptes B2C locaux.</span><span class="sxs-lookup"><span data-stu-id="10f8d-252">Azure AD B2C will only enforce that users have a unique email address on local B2C accounts.</span></span>

<span data-ttu-id="10f8d-253">Avant de pouvoir ajouter un fournisseur d’identité sociale pour l’authentification, vous devez vous rendre sur le portail du fournisseur d’identité et configurer une application de fournisseur d’identité comme indiqué dans la documentation Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-253">Before you can add a social identity provider for authentication, you must go to the identity provider's portal and set up an identity provider application as instructed in the Azure AD B2C documentation.</span></span> <span data-ttu-id="10f8d-254">Une liste de liens vers la documentation est fournie ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="10f8d-254">A list of links to the documentation is provided below.</span></span>

- [<span data-ttu-id="10f8d-255">Amazon</span><span class="sxs-lookup"><span data-stu-id="10f8d-255">Amazon</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-amzn-app)
- [<span data-ttu-id="10f8d-256">Azure AD (locataire unique)</span><span class="sxs-lookup"><span data-stu-id="10f8d-256">Azure AD (Single Tenant)</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-oidc-azure-active-directory)
- [<span data-ttu-id="10f8d-257">Compte Microsoft</span><span class="sxs-lookup"><span data-stu-id="10f8d-257">Microsoft Account</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-msa-app)
- [<span data-ttu-id="10f8d-258">Facebook</span><span class="sxs-lookup"><span data-stu-id="10f8d-258">Facebook</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-fb-app)
- [<span data-ttu-id="10f8d-259">GitHub</span><span class="sxs-lookup"><span data-stu-id="10f8d-259">GitHub</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-github-app)
- [<span data-ttu-id="10f8d-260">Google</span><span class="sxs-lookup"><span data-stu-id="10f8d-260">Google</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-goog-app)
- [<span data-ttu-id="10f8d-261">LinkedIn</span><span class="sxs-lookup"><span data-stu-id="10f8d-261">LinkedIn</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-li-app)
- [<span data-ttu-id="10f8d-262">OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="10f8d-262">OpenID Connect</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-oidc-idp)
- [<span data-ttu-id="10f8d-263">Twitter</span><span class="sxs-lookup"><span data-stu-id="10f8d-263">Twitter</span></span>](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-setup-twitter-app)

### <a name="add-and-set-up-a-social-identity-provider"></a><span data-ttu-id="10f8d-264">Ajouter et configurer un fournisseur d’identité sociale</span><span class="sxs-lookup"><span data-stu-id="10f8d-264">Add and set up a social identity provider</span></span>

<span data-ttu-id="10f8d-265">Pour ajouter et configurer un fournisseur d’identité sociale, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-265">To add and set up a social identity provider, follow these steps.</span></span>  

1. <span data-ttu-id="10f8d-266">Dans le portail Azure, accédez à **Fournisseurs d’identité**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-266">In the Azure portal, navigate to **Identity Providers**.</span></span>
1. <span data-ttu-id="10f8d-267">Sélectionnez **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-267">Select **Add**.</span></span> <span data-ttu-id="10f8d-268">L’écran **Ajouter un fournisseur d’identité** apparaît.</span><span class="sxs-lookup"><span data-stu-id="10f8d-268">The **Add identity provider** screen appears.</span></span>
1. <span data-ttu-id="10f8d-269">Sous **Nom**, entrez le nom à diffuser auprès des utilisateurs sur votre écran de connexion.</span><span class="sxs-lookup"><span data-stu-id="10f8d-269">Under **Name**, enter the name to be displayed to users on your sign in screen.</span></span>
1. <span data-ttu-id="10f8d-270">Sous **Type de fournisseur d’identité**, sélectionnez un fournisseur d’identité dans la liste.</span><span class="sxs-lookup"><span data-stu-id="10f8d-270">Under **Identity provider type**, select an identity provider from the list.</span></span>
1. <span data-ttu-id="10f8d-271">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-271">Select **OK**.</span></span>
1. <span data-ttu-id="10f8d-272">Sélectionnez **Configurer ce fournisseur d’identité** pour accéder à l’écran **Configurer le fournisseur d’identité sociale**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-272">Select **Set up this identity provider** to access the **Set up the social identity provider** screen.</span></span>
1. <span data-ttu-id="10f8d-273">Sous **ID client**, entrez l’ID client obtenu à partir de la configuration de l’application du fournisseur d’identité.</span><span class="sxs-lookup"><span data-stu-id="10f8d-273">Under **Client ID**, enter the client ID as obtained from the identity provider application setup.</span></span>
1. <span data-ttu-id="10f8d-274">Sous **Secret client**, entrez le secret client obtenu à partir de la configuration de l’application du fournisseur d’identité.</span><span class="sxs-lookup"><span data-stu-id="10f8d-274">Under **Client secret**, enter the client secret as obtained from the identity provider application setup.</span></span>
1. <span data-ttu-id="10f8d-275">Associer le flux d’utilisateur pour les stratégies d’inscription et de connexion :</span><span class="sxs-lookup"><span data-stu-id="10f8d-275">Attach user flow for sign in sign up policies:</span></span>
1. <span data-ttu-id="10f8d-276">Accédez à **Azure AD B2C - Flux d’utilisateur (stratégies) \>{votre stratégies d’inscription et de connexion}\> Fournisseurs d’identité**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-276">Go to **Azure AD B2C – User flows (policies) \> {your sign-in sign-up policy} \> Identity providers**.</span></span>
1. <span data-ttu-id="10f8d-277">Pour associer la stratégie de flux d’utilisateur d’inscription et de connexion, sélectionnez chaque fournisseur d’identité que vous avez configuré pour votre compte.</span><span class="sxs-lookup"><span data-stu-id="10f8d-277">To attach the sign in/sign up user flow policy, select each identity provider you have set up for your account.</span></span> <span data-ttu-id="10f8d-278">Pour les tester, sélectionnez **Exécuter le flux d’utilisateur** pour chaque fournisseur d’identité.</span><span class="sxs-lookup"><span data-stu-id="10f8d-278">To test these, select **Run user flow** for each identity provider.</span></span> <span data-ttu-id="10f8d-279">Un nouvel onglet affiche la page de connexion présentant la nouvelle boîte de sélection du fournisseur d’identité.</span><span class="sxs-lookup"><span data-stu-id="10f8d-279">A new tab will display the sign-in page displaying the new identity provider selection box.</span></span>

<span data-ttu-id="10f8d-280">L’image suivante présente des exemples d’écrans **Ajouter un fournisseur d’identité** et **Configurer le fournisseur d’identité sociale** dans Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-280">The following image shows examples of the **Add identity provider** and **Set up the social identity provider** screens in Azure AD B2C.</span></span>

![Ajouter un fournisseur d’identité sociale à votre application](./media/B2CImage_14.png)

<span data-ttu-id="10f8d-282">L’image suivante montre un exemple de sélection des fournisseurs d’identité sur la page Azure AD B2C **Fournisseurs d’identité**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-282">The following image shows an example of how to select identity providers on the Azure AD B2C **Identity Providers** page.</span></span>

![Sélectionner chaque fournisseur d’identité sociale à activer pour votre stratégie](./media/B2CImage_16.png)

<span data-ttu-id="10f8d-284">L’image suivante montre un exemple d’écran de connexion par défaut avec un bouton de connexion du fournisseur d’identité sociale affiché.</span><span class="sxs-lookup"><span data-stu-id="10f8d-284">The following image shows an example of a default sign-in screen with a social identity provider sign-in button displayed.</span></span>

> [!NOTE]
> <span data-ttu-id="10f8d-285">Si vous utilisez les pages personnalisées créées dans Commerce pour vos flux d’utilisateurs, les boutons des fournisseurs d’identité sociale devront être ajoutés à l’aide des fonctionnalités d’extensibilité de la bibliothèque de modules Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-285">If using the custom pages built in Commerce for your user flows, the buttons for social identity providers will need to be added using the extensibility features of the Commerce module library.</span></span> <span data-ttu-id="10f8d-286">De plus, lors de la configuration de vos applications avec un fournisseur d’identité sociale spécifique, dans certains cas, les chaînes d’URL ou de configuration peuvent être sensibles à la casse.</span><span class="sxs-lookup"><span data-stu-id="10f8d-286">Additionally, when setting up your applications with a specific social identity provider, in some cases URL or configuration strings may be case sensitive.</span></span> <span data-ttu-id="10f8d-287">Reportez-vous aux instructions de connexion de votre fournisseur d’identité sociale pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="10f8d-287">Refer to your social identity provider's connection instructions for more information.</span></span>
 
![Exemple d’écran de connexion par défaut avec le bouton de connexion du fournisseur d’identité sociale affiché](./media/B2CImage_17.png)

## <a name="update-commerce-headquarters-with-the-new-azure-ad-b2c-information"></a><span data-ttu-id="10f8d-289">Mettre à jour Commerce Headquarters avec les nouvelles informations Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="10f8d-289">Update Commerce headquarters with the new Azure AD B2C information</span></span>

<span data-ttu-id="10f8d-290">Une fois les étapes d’approvisionnement Azure AD B2C ci-dessus terminées, l’application Azure AD B2C doit être enregistrée dans votre environnement Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-290">Once the Azure AD B2C provisioning steps above are completed, the Azure AD B2C application must be registered in your Dynamics 365 Commerce environment.</span></span>

<span data-ttu-id="10f8d-291">Pour mettre à jour le siège social avec les nouvelles informations Azure AD B2C, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-291">To update headquarters with the new Azure AD B2C information, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-292">Dans Commerce, accédez à **Paramètres partagés de Commerce** et sélectionnez **Fournisseurs d’identité** dans le menu de gauche.</span><span class="sxs-lookup"><span data-stu-id="10f8d-292">In Commerce, go to **Commerce Shared Parameters** and select **Identity Providers** in the left menu.</span></span>
1. <span data-ttu-id="10f8d-293">Sous **Fournisseurs d’identité**, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="10f8d-293">Under **Identity Providers**, do the following:</span></span>
    1. <span data-ttu-id="10f8d-294">Dans la zone **Émetteur**, entrez l’URL de l’émetteur du fournisseur d’identité.</span><span class="sxs-lookup"><span data-stu-id="10f8d-294">In the **Issuer** box, enter the identity provider issuer URL.</span></span> <span data-ttu-id="10f8d-295">Pour trouver l’URL de votre émetteur, consultez [Obtenir l’URL de l’émetteur](#obtain-issuer-url) ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="10f8d-295">To find your issuer URL, see [Obtain issuer URL](#obtain-issuer-url) below.</span></span>
    1. <span data-ttu-id="10f8d-296">Dans la zone **Nom**, saisissez le nom de votre enregistremnt d’émetteur.</span><span class="sxs-lookup"><span data-stu-id="10f8d-296">In the **Name** box, enter a name for your issuer record.</span></span>
    1. <span data-ttu-id="10f8d-297">Dans la zone **Type**, saisissez **Azure AD B2C (id_token)**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-297">In the **Type** box, enter **Azure AD B2C (id_token)**.</span></span>
1. <span data-ttu-id="10f8d-298">Sous **Parties utilisatrices**, avec l’élément fournisseur d’identité B2C ci-dessus sélectionné, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="10f8d-298">Under **Relying Parties**, with the above B2C identity provider item selected, do the following:</span></span>
    1. <span data-ttu-id="10f8d-299">Dans la zone **ID client**, entrez votre ID d’application B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-299">In the **ClientID** box, enter your B2C application ID.</span></span> <span data-ttu-id="10f8d-300">Vous pouvez le trouver dans la zone **ID d’application** de la page des propriétés de votre application B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-300">You can find this in the **Application ID** box of your B2C application's properties page.</span></span>
    1. <span data-ttu-id="10f8d-301">Dans la zone **Type**, saisissez **Public**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-301">In the **Type** box, enter **Public**.</span></span>
    1. <span data-ttu-id="10f8d-302">Dans la zone **Type d’utilisateur**, saisissez **Client**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-302">In the **User Type** box, enter **Customer**.</span></span>
1. <span data-ttu-id="10f8d-303">Dans le volet Actions, sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-303">On the action pane, select **Save**.</span></span>
1. <span data-ttu-id="10f8d-304">Dans la zone de recherche Commerce, recherchez **Programme de distribution**</span><span class="sxs-lookup"><span data-stu-id="10f8d-304">In the Commerce search box, search for **Distribution schedule**</span></span>
1. <span data-ttu-id="10f8d-305">Dans le menu de navigation de gauche de la page **Programmes de distribution**, sélectionnez la tâche **1110 Configuration globale**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-305">In the left navigation menu of the **Distribution schedules** page, select job **1110 Global configuration**.</span></span>
1. <span data-ttu-id="10f8d-306">Dans le volet Actions, sélectionnez **Exécuter maintenant**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-306">On the action pane, select **Run Now**.</span></span>

### <a name="obtain-issuer-url"></a><span data-ttu-id="10f8d-307">Obtenir l’URL de l’émetteur</span><span class="sxs-lookup"><span data-stu-id="10f8d-307">Obtain issuer URL</span></span>

<span data-ttu-id="10f8d-308">Pour obtenir l’URL de l’émetteur de votre fournisseur d’identité, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-308">To obtain your identity provider issuer URL, follow these steps.</span></span>
1. <span data-ttu-id="10f8d-309">Sur la page Azure AD B2C du portail Azure, accédez à votre flux d’utilisateur **Inscription et connexion**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-309">On the Azure AD B2C page of the Azure portal, navigate to your **Sign up and sign in** user flow.</span></span>
1. <span data-ttu-id="10f8d-310">Sélectionnez **Mises en page** dans le menu de navigation de gauche, sous **Nom de la mise en page** sélectionnez **Page d’inscription ou de connexion unifiée**, puis sélectionnez **Exécuter le flux utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-310">Select **Page layouts** in the left navigation menu, under **Layout name** select **Unified sign up or sign in page**, and then select **Run user flow**.</span></span>
1. <span data-ttu-id="10f8d-311">Assurez-vous que votre application est définie sur votre application Azure AD B2C créée ci-dessus, puis sélectionnez le lien sous l’en-tête **Exécuter le flux utilisateur** qui comprend ``.../.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``.</span><span class="sxs-lookup"><span data-stu-id="10f8d-311">Make sure your application is set to your intended Azure AD B2C application created above, and then select the link under the **Run user flow** header that includes ``.../.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``.</span></span>
1. <span data-ttu-id="10f8d-312">Une page de métadonnées s’affiche dans l’onglet de votre navigateur. Copiez l’URL de l’émetteur du fournisseur d’identité (la valeur de **« issuer »**).</span><span class="sxs-lookup"><span data-stu-id="10f8d-312">A metadata page is displayed in your browser tab. Copy the identity provider issuer URL (the value for **"issuer"**).</span></span>
   - <span data-ttu-id="10f8d-313">Exemple : ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span><span class="sxs-lookup"><span data-stu-id="10f8d-313">Example: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span></span>
 
<span data-ttu-id="10f8d-314">**OU** : pour créer manuellement la même URL de métadonnées, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-314">**OR**: To construct the same metadata URL manually, do the following steps.</span></span>

1. <span data-ttu-id="10f8d-315">Créez une URL d’adresse de métadonnées au format suivant à l’aide de votre stratégie et locataire B2C : ``https://<B2CTENANTNAME>.b2clogin.com/<B2CTENANTNAME>.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``</span><span class="sxs-lookup"><span data-stu-id="10f8d-315">Create a metadata address URL in the following format using your B2C tenant and policy: ``https://<B2CTENANTNAME>.b2clogin.com/<B2CTENANTNAME>.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=<B2CSIGN-INPOLICY>``</span></span>
    - <span data-ttu-id="10f8d-316">Exemple : ``https://d365plc.b2clogin.com/d365plc.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_signinup``.</span><span class="sxs-lookup"><span data-stu-id="10f8d-316">Example: ``https://d365plc.b2clogin.com/d365plc.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=B2C_1_signinup``.</span></span>
1. <span data-ttu-id="10f8d-317">Saisissez l’URL de l’adresse des métadonnées dans une barre d’adresse du navigateur.</span><span class="sxs-lookup"><span data-stu-id="10f8d-317">Enter the metadata address URL into a browser address bar.</span></span>
1. <span data-ttu-id="10f8d-318">Dans les métadonnées, copiez l’URL de l’émetteur du fournisseur d’identité (la valeur pour **« émetteur »**).</span><span class="sxs-lookup"><span data-stu-id="10f8d-318">In the metadata, copy the identity provider issuer URL (the value for **"issuer"**).</span></span>
    - <span data-ttu-id="10f8d-319">Exemple : ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span><span class="sxs-lookup"><span data-stu-id="10f8d-319">Example: ``https://login.fabrikam.com/011115c3-0113-4f43-b5e2-df01266e24ae/v2.0/``.</span></span>

## <a name="configure-your-b2c-tenant-in-commerce-site-builder"></a><span data-ttu-id="10f8d-320">Configurer votre locataire B2C dans le générateur de site Commerce</span><span class="sxs-lookup"><span data-stu-id="10f8d-320">Configure your B2C tenant in Commerce site builder</span></span>

<span data-ttu-id="10f8d-321">Une fois la configuration de votre locataire Azure AD B2C terminée, vous devez configurer le locataire B2C dans le générateur de site Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-321">Once setup of your Azure AD B2C tenant is completed, you must configure the B2C tenant in Commerce site builder.</span></span> <span data-ttu-id="10f8d-322">Les étapes de configuration incluent la collecte d’informations d’application B2C à partir du portail Azure, la saisie de ces informations d’application B2C dans le générateur de site, puis l’association de l’application B2C à votre site et votre canal.</span><span class="sxs-lookup"><span data-stu-id="10f8d-322">Configuration steps include collecting B2C application information from the Azure portal, entering that B2C application information into site builder, and then associating the B2C application with your site and channel.</span></span>

### <a name="collect-the-required-application-information"></a><span data-ttu-id="10f8d-323">Collecter les informations d’application requises</span><span class="sxs-lookup"><span data-stu-id="10f8d-323">Collect the required application information</span></span>

<span data-ttu-id="10f8d-324">Pour collecter les informations d’application requises, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-324">To collect the required application information, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-325">Dans le portail Azure, accédez à **Accueil \> Azure AD B2C - Applications**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-325">In the Azure portal, go to **Home \> Azure AD B2C - Applications**.</span></span>
1. <span data-ttu-id="10f8d-326">Sélectionnez votre application, puis dans le volet de navigation de gauche, sélectionnez **Propriétés** pour obtenir les détails de l’application.</span><span class="sxs-lookup"><span data-stu-id="10f8d-326">Select your application, and then in the left navigation pane select **Properties** to obtain the application details.</span></span>
1. <span data-ttu-id="10f8d-327">Depuis la zone **ID d’application**, collectez l’ID d’application de l’application B2C créée dans votre locataire B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-327">From the **Application ID** box, collect the application ID of the B2C application created in your B2C tenant.</span></span> <span data-ttu-id="10f8d-328">Il sera ultérieurement saisi comme le **GUID client** dans le générateur de site.</span><span class="sxs-lookup"><span data-stu-id="10f8d-328">This will later be entered as the **Client GUID** in site builder.</span></span>
1. <span data-ttu-id="10f8d-329">Sous **URL de réponse**, collectez l’URL de réponse.</span><span class="sxs-lookup"><span data-stu-id="10f8d-329">Under **Reply URL**, collect the reply URL.</span></span>
1. <span data-ttu-id="10f8d-330">Accédez à **Accueil \> Azure AD B2C - Flux d’utilisateurs (stratégies)**, puis collectez les noms de chaque stratégie de flux d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="10f8d-330">Go to **Home \> Azure AD B2C – User flows (policies)**, and then collect the names of each user flow policy.</span></span>

<span data-ttu-id="10f8d-331">L’image suivante montre un exemple de la page **Azure AD B2C - Applications**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-331">The following image shows an example of the **Azure AD B2C - Applications** page.</span></span>

![Accéder à l’application B2C au sein de votre locataire](./media/B2CImage_19.png)

<span data-ttu-id="10f8d-333">L’image suivante montre un exemple d’une page **Propriétés** de l’application dans Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-333">The following image shows an example of an application **Properties** page in Azure AD B2C.</span></span> 

![Copier l’ID d’application à partir des propriétés de l’application B2C](./media/B2CImage_21.png)

<span data-ttu-id="10f8d-335">L’image suivante montre un exemple de stratégies de flux d’utilisateur sur la page **Azure AD B2C - Flux d’utilisateur (stratégies)**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-335">The following image shows an example of user flow policies on the **Azure AD B2C – User flows (policies)** page.</span></span>

![Collecter les noms de chaque flux de stratégie B2C](./media/B2CImage_22.png)

### <a name="enter-your-aad-b2c-tenant-application-information-into-commerce"></a><span data-ttu-id="10f8d-337">Saisir les informations de votre application de locataire AAD B2C dans Commerce</span><span class="sxs-lookup"><span data-stu-id="10f8d-337">Enter your AAD B2C tenant application information into Commerce</span></span>

<span data-ttu-id="10f8d-338">Vous devez saisir les détails du locataire Azure AD B2C dans le générateur de site Commerce avant d’associer le locataire B2C à vos sites.</span><span class="sxs-lookup"><span data-stu-id="10f8d-338">You must enter details of the Azure AD B2C tenant into Commerce site builder before associating the B2C tenant with your site(s).</span></span>

<span data-ttu-id="10f8d-339">Pour ajouter vos informations d’application de locataire AAD B2C à Commerce, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-339">To add your AAD B2C tenant application information to Commerce, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-340">Connectez-vous en tant qu’administrateur au générateur de site Commerce pour votre environnement.</span><span class="sxs-lookup"><span data-stu-id="10f8d-340">Sign in as an administrator to Commerce site builder for your environment.</span></span>
1. <span data-ttu-id="10f8d-341">Dans le volet de navigation de gauche, cliquez sur **Paramètres de locataire** pour les étendre.</span><span class="sxs-lookup"><span data-stu-id="10f8d-341">In the left navigation pane, select **Tenant Settings**  to expand it.</span></span>
1. <span data-ttu-id="10f8d-342">Sous **Paramètres de locataire**, cliquez sur **Paramètres B2C**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-342">Under **Tenant Settings**, select **B2C Settings**.</span></span> 
1. <span data-ttu-id="10f8d-343">Dans la fenêtre principale suivante **Applications B2C**, sélectionnez **Gérer**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-343">In the main window next **B2C Applications**, select **Manage**.</span></span> <span data-ttu-id="10f8d-344">(Si votre locataire apparaît dans la liste des applications B2C, il a déjà été ajouté par un administrateur.</span><span class="sxs-lookup"><span data-stu-id="10f8d-344">(If your tenant appears in the B2C Applications list, then it was already added by an administrator.</span></span> <span data-ttu-id="10f8d-345">Vérifiez que les éléments de l’étape 6 ci-dessous correspondent à votre application B2C.)</span><span class="sxs-lookup"><span data-stu-id="10f8d-345">Verify that the items in step 6 below match your B2C Application.)</span></span>
1. <span data-ttu-id="10f8d-346">Sélectionnez **Ajouter une application B2C**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-346">Select **Add B2C Application**.</span></span>
1. <span data-ttu-id="10f8d-347">Entrez les éléments requis suivants dans le formulaire affiché, en utilisant les valeurs de votre locataire et application B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-347">Enter the following required items in the form displayed, using values from your B2C tenant and application.</span></span> <span data-ttu-id="10f8d-348">Les champs qui ne sont pas obligatoires (ceux sans astérisque) peuvent être laissés vides.</span><span class="sxs-lookup"><span data-stu-id="10f8d-348">Fields that are not required (those without an asterisk) may be left blank.</span></span>

    - <span data-ttu-id="10f8d-349">**Nom de l’application** : le nom de votre application B2C, par exemple « Fabrikam B2C ».</span><span class="sxs-lookup"><span data-stu-id="10f8d-349">**Application Name**: The name for your B2C Application, for example "Fabrikam B2C".</span></span>
    - <span data-ttu-id="10f8d-350">**Nom du locataire** : Le nom de votre locataire B2C (par exemple, utilisez "fabrikam" si le domaine apparaît sous la forme de "fabrikam.onmicrosoft.com" pour le locataire B2C).</span><span class="sxs-lookup"><span data-stu-id="10f8d-350">**Tenant Name**: The name of your B2C tenant (for example, use "fabrikam" if the domain appears as "fabrikam.onmicrosoft.com" for the B2C tenant).</span></span> 
    - <span data-ttu-id="10f8d-351">**ID stratégie de mot de passe oublié** : l’ID de la stratégie de flux d’utilisateur Mot de passe oublié, par exemple « B2C_1_PasswordReset ».</span><span class="sxs-lookup"><span data-stu-id="10f8d-351">**Forget Password Policy ID**: The forget password user flow policy ID, for example "B2C_1_PasswordReset".</span></span>
    - <span data-ttu-id="10f8d-352">**ID stratégie Inscription et connexion** : l’ID stratégie de flux d’utilisateur d’inscription et de connexion, par exemple « B2C_1_signup_signin ».</span><span class="sxs-lookup"><span data-stu-id="10f8d-352">**Signup Signin Policy ID**: The sign up and sign in user flow policy ID, for example "B2C_1_signup_signin".</span></span>
    - <span data-ttu-id="10f8d-353">**GUID client** : ID d’application B2C, par exemple « 22290eb2-c52e-42e9-8b35-a2b0a3bcb9e6 ».</span><span class="sxs-lookup"><span data-stu-id="10f8d-353">**Client GUID**: The B2C application ID, for example "22290eb2-c52e-42e9-8b35-a2b0a3bcb9e6".</span></span>
    - <span data-ttu-id="10f8d-354">**Modifier l’ID stratégie de profil** : l’ID stratégie de flux utilisateur de modification de profil, par exemple « B2C_1A_ProfileEdit ».</span><span class="sxs-lookup"><span data-stu-id="10f8d-354">**Edit Profile Policy ID**: The profile editing user flow policy ID, for example "B2C_1A_ProfileEdit".</span></span>

1. <span data-ttu-id="10f8d-355">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-355">Select **OK**.</span></span> <span data-ttu-id="10f8d-356">Vous devriez maintenant voir le nom de votre application B2C apparaître dans la liste.</span><span class="sxs-lookup"><span data-stu-id="10f8d-356">You should now see the name of your B2C application appear in the list.</span></span>
1. <span data-ttu-id="10f8d-357">Sélectionnez **Enregistrer** pour enregistrer les modifications.</span><span class="sxs-lookup"><span data-stu-id="10f8d-357">Select **Save** to save your changes.</span></span>

### <a name="associate-the-b2c-application-to-your-site-and-channel"></a><span data-ttu-id="10f8d-358">Associer l’application B2C à votre site et votre canal</span><span class="sxs-lookup"><span data-stu-id="10f8d-358">Associate the B2C application to your site and channel</span></span>

> [!WARNING]
> <span data-ttu-id="10f8d-359">Si votre site est déjà associé à une application B2C, le passage à une autre application B2C supprimera les références actuelles établies pour les utilisateurs déjà inscrits dans cet environnement.</span><span class="sxs-lookup"><span data-stu-id="10f8d-359">If your site is already associated with a B2C application, changing to a different B2C application will remove the current references established for users already signed up in this environment.</span></span> <span data-ttu-id="10f8d-360">Si modifiées, les informations d’identification associées à l’application B2C actuellement affectée ne seront pas disponibles pour les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="10f8d-360">If changed, any credentials associated with the currently-assigned B2C application will not be available to users.</span></span> 
> 
> <span data-ttu-id="10f8d-361">Mettez à jour l’application B2C uniquement si vous configurez l’application B2C du canal pour la première fois ou si vous avez l’intention de réinscrire les utilisateurs avec de nouvelles informations d’identification sur ce canal avec la nouvelle application B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-361">Only update the B2C application if you are setting up the channel's B2C application for the first time or if you intend to have users re-sign up with new credentials to this channel with the new B2C application.</span></span> <span data-ttu-id="10f8d-362">Soyez prudent lorsque vous associez des canaux à des applications B2C et nommez clairement les applications.</span><span class="sxs-lookup"><span data-stu-id="10f8d-362">Take caution when associating channels to B2C applications, and name applications clearly.</span></span> <span data-ttu-id="10f8d-363">Si un canal n’est pas associé à une application B2C dans les étapes ci-dessous, les utilisateurs qui se connectent à ce canal pour votre site seront entrés dans l’application B2C en indiquant **Par défaut** dans la liste **Paramètres de locataire \> Paramètres B2C** des applications B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-363">If a channel is not associated to a B2C application in the steps below, users signing into that channel for your site will be entered into the B2C application showing as **default** in the **Tenant Settings \> B2C Settings** list of B2C applications.</span></span>

<span data-ttu-id="10f8d-364">Pour associer l’application B2C à votre site et votre canal, procédez comme suit.</span><span class="sxs-lookup"><span data-stu-id="10f8d-364">To associate the B2C application to your site and channel, follow these steps.</span></span>

1. <span data-ttu-id="10f8d-365">Accédez à votre site dans le générateur de site Commerce.</span><span class="sxs-lookup"><span data-stu-id="10f8d-365">Navigate to your site in Commerce site builder.</span></span>
1. <span data-ttu-id="10f8d-366">Dans le volet de navigation de gauche, cliquez sur **Paramètres du site** pour les étendre.</span><span class="sxs-lookup"><span data-stu-id="10f8d-366">In the left navigation pane, select **Site Settings** to expand it.</span></span>
1. <span data-ttu-id="10f8d-367">Sous **Paramètres du site**, sélectionnez **Canaux**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-367">Below **Site Settings**, select **Channels**.</span></span>
1. <span data-ttu-id="10f8d-368">Dans la fenêtre principale sous **Canaux**, sélectionnez votre canal.</span><span class="sxs-lookup"><span data-stu-id="10f8d-368">In the main window under **Channels**, select your channel.</span></span>
1. <span data-ttu-id="10f8d-369">Dans le volet des propriétés du canal à droite, sélectionnez le nom de votre application B2C dans le menu déroulant **Sélectionner l’application B2C**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-369">In the channel properties pane on the right, select your B2C application name from the **Select B2C Application** drop down menu.</span></span>
1. <span data-ttu-id="10f8d-370">Sélectionnez **Fermer**, puis sélectionnez **Enregistrer et publier**.</span><span class="sxs-lookup"><span data-stu-id="10f8d-370">Select **Close**, and then select **Save and Publish**.</span></span>

## <a name="additional-b2c-information"></a><span data-ttu-id="10f8d-371">Informations B2C supplémentaires</span><span class="sxs-lookup"><span data-stu-id="10f8d-371">Additional B2C information</span></span>

### <a name="customer-migration"></a><span data-ttu-id="10f8d-372">Migration des clients</span><span class="sxs-lookup"><span data-stu-id="10f8d-372">Customer migration</span></span>

<span data-ttu-id="10f8d-373">Si vous envisagez de migrer les enregistrements clients d’une ancienne plateforme de fournisseur d’identité, veuillez utiliser l’équipe Dynamics 365 Commerce pour examiner vos besoins de migration des clients.</span><span class="sxs-lookup"><span data-stu-id="10f8d-373">If you are considering migrating customer records from a previous identity provider platform, please work with the Dynamics 365 Commerce team to review your customer migration needs.</span></span>

<span data-ttu-id="10f8d-374">Pour en savoir plus sur la documentation Azure AD B2C relative à la migration des clients, voir [Migrer les utilisateurs vers Azure Active Directory B2C ](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-user-migration).</span><span class="sxs-lookup"><span data-stu-id="10f8d-374">For additional Azure AD B2C documentation on customer migration, see [Migrate users to Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-user-migration).</span></span>

### <a name="custom-policies"></a><span data-ttu-id="10f8d-375">Stratégies personnalisées</span><span class="sxs-lookup"><span data-stu-id="10f8d-375">Custom policies</span></span>

<span data-ttu-id="10f8d-376">Pour en savoir plus sur la personnalisation des interactions Azure AD B2C et les flux de stratégies au-delà de ce qui est offert par les stratégies standard B2C, voir [Stratégies personnalisées dans Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-overview-custom).</span><span class="sxs-lookup"><span data-stu-id="10f8d-376">For additional information regarding customizing Azure AD B2C interactions and policy flows beyond what is offered by B2C standard policies, see [Custom policies in Azure Active Directory B2C](https://docs.microsoft.com/azure/active-directory-b2c/active-directory-b2c-overview-custom).</span></span> 

### <a name="secondary-admin"></a><span data-ttu-id="10f8d-377">Administrateur secondaire</span><span class="sxs-lookup"><span data-stu-id="10f8d-377">Secondary admin</span></span>

<span data-ttu-id="10f8d-378">Un compte administrateur secondaire facultatif peut être ajouté dans la section **Utilisateurs** de votre locataire B2C.</span><span class="sxs-lookup"><span data-stu-id="10f8d-378">An optional, secondary administrator account can be added in the **Users** section of your B2C tenant.</span></span> <span data-ttu-id="10f8d-379">Cela peut être un compte direct ou un compte général.</span><span class="sxs-lookup"><span data-stu-id="10f8d-379">This can be a direct account or a general account.</span></span> <span data-ttu-id="10f8d-380">Si vous devez partager un compte entre les ressources de l’équipe, un compte commun peut également être créé.</span><span class="sxs-lookup"><span data-stu-id="10f8d-380">If you need to share an account across team resources, a common account can also be created.</span></span> <span data-ttu-id="10f8d-381">En raison de la sensibilité des données stockées dans Azure AD B2C, un compte commun doit être surveillé de près conformément aux pratiques de sécurité de votre entreprise.</span><span class="sxs-lookup"><span data-stu-id="10f8d-381">Due to the sensitivity of the data stored in Azure AD B2C, a common account should be monitored closely per your company's security practices.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="10f8d-382">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="10f8d-382">Additional resources</span></span>

[<span data-ttu-id="10f8d-383">Configuration du nom de domaine</span><span class="sxs-lookup"><span data-stu-id="10f8d-383">Configure your domain name</span></span>](configure-your-domain-name.md)

[<span data-ttu-id="10f8d-384">Déployer un nouveau client e-commerce</span><span class="sxs-lookup"><span data-stu-id="10f8d-384">Deploy a new e-commerce tenant</span></span>](deploy-ecommerce-site.md)

[<span data-ttu-id="10f8d-385">Créer un site d’e-commerce</span><span class="sxs-lookup"><span data-stu-id="10f8d-385">Create an e-commerce site</span></span>](create-ecommerce-site.md)

[<span data-ttu-id="10f8d-386">Associer un site Dynamics 365 Commerce avec un canal en ligne</span><span class="sxs-lookup"><span data-stu-id="10f8d-386">Associate a Dynamics 365 Commerce site with an online channel</span></span>](associate-site-online-store.md)

[<span data-ttu-id="10f8d-387">Gérer les fichiers robots.txt</span><span class="sxs-lookup"><span data-stu-id="10f8d-387">Manage robots.txt files</span></span>](manage-robots-txt-files.md)

[<span data-ttu-id="10f8d-388">Importer des redirections d’URL en bloc</span><span class="sxs-lookup"><span data-stu-id="10f8d-388">Upload URL redirects in bulk</span></span>](upload-bulk-redirects.md)

[<span data-ttu-id="10f8d-389">Paramétrer des pages personnalisées pour les ouvertures de session utilisateur</span><span class="sxs-lookup"><span data-stu-id="10f8d-389">Set up custom pages for user logins</span></span>](custom-pages-user-logins.md)

[<span data-ttu-id="10f8d-390">Configurer plusieurs locataires B2C dans un environnement Commerce</span><span class="sxs-lookup"><span data-stu-id="10f8d-390">Configure multiple B2C tenants in a Commerce environment</span></span>](configure-multi-B2C-tenants.md)

[<span data-ttu-id="10f8d-391">Ajouter la prise en charge d’un réseau de diffusion de contenu (CDN)</span><span class="sxs-lookup"><span data-stu-id="10f8d-391">Add support for a content delivery network (CDN)</span></span>](add-cdn-support.md)

[<span data-ttu-id="10f8d-392">Activation de la détection du magasin selon l’emplacement</span><span class="sxs-lookup"><span data-stu-id="10f8d-392">Enable location-based store detection</span></span>](enable-store-detection.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
