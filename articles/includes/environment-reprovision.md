<span data-ttu-id="c6b45-101">Lors de la copie d'une base de données entre des environnements, vous devez exécuter l'outil de remise en service de l'environnement avant que la base de données copiée soit complètement fonctionnelle pour vous assurer que tous les composants de Retail sont à jour.</span><span class="sxs-lookup"><span data-stu-id="c6b45-101">When copying a database between environments, you will need to run the environment re-provisioning tool before the copied database is fully functional, to ensure that all Retail components are up-to-date.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c6b45-102">Nous vous recommandons d'exécuter cette procédure, que vous utilisiez des composants Retail ou non, car la fonctionnalité Retail est incluse dans tous les environnements.</span><span class="sxs-lookup"><span data-stu-id="c6b45-102">We recommend that you run this procedure whether you are using Retail components or not, because Retail functionality is included in all environments.</span></span> 

<span data-ttu-id="c6b45-103">Avant de continuer, vous devez vous assurer que les conditions préalables suivantes sont remplies :</span><span class="sxs-lookup"><span data-stu-id="c6b45-103">Before you continue, you must make sure that the following prerequisites are met:</span></span>
1. <span data-ttu-id="c6b45-104">Si vous mettez à niveau la version de juillet 2017 (également appelée 7.2) 7.2.11792.56024, appliquez les correctifs X++ d'application suivants dans l'environnement de destination avant de procéder à la mise à niveau des données dans cet environnement.</span><span class="sxs-lookup"><span data-stu-id="c6b45-104">If you are upgrading to the July 2017 release (also known as 7.2) 7.2.11792.56024, apply the following application X++ hotfixes in the destination environment before running the data upgrade in that environment.</span></span> <span data-ttu-id="c6b45-105">Cela empêchera que différentes erreurs se produisent lors de la mise à niveau des données :</span><span class="sxs-lookup"><span data-stu-id="c6b45-105">These will prevent various errors occurring during the data upgrade:</span></span>

    - <span data-ttu-id="c6b45-106">KB 4036156 - Mise à niveau de version mineure de Retail - « La souche de numéros de la variante n'est pas définie. »</span><span class="sxs-lookup"><span data-stu-id="c6b45-106">KB 4036156 - Retail minor version upgrade - 'Variant number sequence is not set.'</span></span> <span data-ttu-id="c6b45-107">Ce package de correctif inclut également les articles KB 4035399 et KB 4035751.</span><span class="sxs-lookup"><span data-stu-id="c6b45-107">This fix package also includes KB 4035399 and KB 4035751.</span></span> <span data-ttu-id="c6b45-108">Notez que vous devez disposer au minimum de Platform Update 9 pour utiliser ce package.</span><span class="sxs-lookup"><span data-stu-id="c6b45-108">Note that you must have a minimum of Platform Update 9 to use this package.</span></span> <span data-ttu-id="c6b45-109">Si vous n'en êtes pas certain, installez les derniers fichiers binaires.</span><span class="sxs-lookup"><span data-stu-id="c6b45-109">If you are unsure, install the latest binaries.</span></span>
    
2. <span data-ttu-id="c6b45-110">Si vous mettez à niveau depuis Microsoft Dynamics AX 2012, installez les correctifs X++ d'application suivants dans l'environnement de destination avant de procéder à la mise à niveau des données :</span><span class="sxs-lookup"><span data-stu-id="c6b45-110">If you are upgrading from Microsoft Dynamics AX 2012, install the following application X++ fixes in the destination environment before you run the data upgrade:</span></span>
    - <span data-ttu-id="c6b45-111">KB 4033183 - Échec de la mise à niveau de Dynamics AX 2012 R2 ou Dynamics AX 2012 R3 pré-CU8 avec Objet introuvable pour dbo.RETAILTILLLAYOUTZONE.</span><span class="sxs-lookup"><span data-stu-id="c6b45-111">KB 4033183 - Dynamics AX 2012 R2 or Dynamics AX 2012 R3 Pre-CU8 non-retail upgrade fails with Object not found for dbo.RETAILTILLLAYOUTZONE.</span></span>
    - <span data-ttu-id="c6b45-112">KB 4040692 - Échec de la mise à niveau de Dynamics AX 2012 R3 vers Microsoft Dynamics 365 for Operations 7.2 sur l'index en double RetailSalesLine sur SalesLineIdx.</span><span class="sxs-lookup"><span data-stu-id="c6b45-112">KB 4040692 - Dynamics AX 2012 R3 to Microsoft Dynamics 365 for Operations 7.2 upgrade fails on RetailSalesLine duplicate index on SalesLineIdx.</span></span>
    - <span data-ttu-id="c6b45-113">KB 4035490 - Problème de performances avec le script de mise à niveau du champ MainAccount de GeneralJournalAccountEntry.</span><span class="sxs-lookup"><span data-stu-id="c6b45-113">KB 4035490 - Performance issue with GeneralJournalAccountEntry MainAccount field upgrade script.</span></span>


<span data-ttu-id="c6b45-114">Procédez comme suit pour exécuter l'outil de remise en service de l'environnement.</span><span class="sxs-lookup"><span data-stu-id="c6b45-114">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="c6b45-115">Dans la bibliothèque d'actifs partagés, sélectionnez **Package logiciel déployable**.</span><span class="sxs-lookup"><span data-stu-id="c6b45-115">In the Shared asset library, select **Software deployable package**.</span></span>
2. <span data-ttu-id="c6b45-116">Téléchargez de l'outil de remise en service de l'environnement.</span><span class="sxs-lookup"><span data-stu-id="c6b45-116">Download the Environment reprovisioning tool.</span></span>
3. <span data-ttu-id="c6b45-117">Dans la bibliothèque d'actifs de votre projet, sélectionnez **Package logiciel déployable**.</span><span class="sxs-lookup"><span data-stu-id="c6b45-117">In the asset library for your project, select **Software deployable package**.</span></span>
4. <span data-ttu-id="c6b45-118">Sélectionnez **Nouveau** pour créer un package.</span><span class="sxs-lookup"><span data-stu-id="c6b45-118">Select **New** to create a new package.</span></span>
5. <span data-ttu-id="c6b45-119">Entrez un nom et une description du package.</span><span class="sxs-lookup"><span data-stu-id="c6b45-119">Enter a name and description for the package.</span></span> <span data-ttu-id="c6b45-120">Vous pouvez utiliser **Outil de remise en service de l'environnement** comme nom du package.</span><span class="sxs-lookup"><span data-stu-id="c6b45-120">You can use **Environment reprovisioning tool** as the package name.</span></span>
6. <span data-ttu-id="c6b45-121">Chargez le package que vous avez téléchargé précédemment.</span><span class="sxs-lookup"><span data-stu-id="c6b45-121">Upload the package that you downloaded earlier.</span></span>
7. <span data-ttu-id="c6b45-122">Sur la page **Détails de l'environnement** de votre environnement cible, sélectionnez **Mettre à jour** > **Appliquer les mises à jour**.</span><span class="sxs-lookup"><span data-stu-id="c6b45-122">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
8. <span data-ttu-id="c6b45-123">Sélectionnez l'outil de remise en service de l'environnement téléchargé plus tôt, puis sélectionnez **Appliquer** pour appliquer le package.</span><span class="sxs-lookup"><span data-stu-id="c6b45-123">Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
9. <span data-ttu-id="c6b45-124">Surveillez la progression du déploiement du package.</span><span class="sxs-lookup"><span data-stu-id="c6b45-124">Monitor the progress of the package deployment.</span></span> 

<span data-ttu-id="c6b45-125">Pour plus d'informations sur l'application d'un package déployable, voir [Appliquer un package déployable](../deployment/create-apply-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="c6b45-125">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="c6b45-126">Pour plus d'informations sur l'application manuellement d'un package déployable, voir [Installer un package déployable](../deployment/install-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="c6b45-126">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>
