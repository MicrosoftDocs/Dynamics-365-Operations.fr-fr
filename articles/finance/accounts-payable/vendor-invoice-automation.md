---
title: Automatisation des factures pour les documents numérisés
description: Cette rubrique explique les fonctionnalités disponibles pour l’automatisation de bout en bout des factures fournisseur, y compris les factures contenant des pièces jointes.
author: abruer
manager: AnnBe
ms.date: 05/22/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: VendEditInvoiceHeaderStagingListPage
audience: Application User
ms.reviewer: roschlom
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 05a796e7ea520e7f25be9e0a1f766b08f75254bb
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/15/2021
ms.locfileid: "5239649"
---
# <a name="invoice-automation-for-scanned-documents"></a><span data-ttu-id="7e2b1-103">Automatisation des factures pour les documents numérisés</span><span class="sxs-lookup"><span data-stu-id="7e2b1-103">Invoice automation for scanned documents</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="7e2b1-104">Cette rubrique explique les fonctionnalités disponibles pour l’automatisation de bout en bout des factures fournisseur, y compris les factures contenant des pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-104">This topic explains the features that are available for end-to-end automation of vendor invoices, even invoices that include attachments.</span></span>

<span data-ttu-id="7e2b1-105">Les organisations qui souhaitent simplifier leurs processus de compatibilité fournisseur identifient souvent le traitement des factures comme l’un des principaux domaines de processus dont l’efficacité doit être améliorée.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-105">Organizations that want to streamline their Accounts payable (AP) processes often identify invoice processing as one of the top process areas that should be more efficient.</span></span> <span data-ttu-id="7e2b1-106">Dans de nombreux cas, ces organisations confient le traitement des factures papier à un fournisseur de services de reconnaissance optique des caractères (OCR) tiers.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-106">In many cases, these organizations offload the processing of paper invoices to a third-party optical character recognition (OCR) service provider.</span></span> <span data-ttu-id="7e2b1-107">Elles reçoivent ensuite les métadonnées de facture dans un format lisible par une machine avec une image numérisée de chaque facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-107">They then receive machine-readable invoice metadata together with a scanned image of each invoice.</span></span> <span data-ttu-id="7e2b1-108">Pour faciliter l’automatisation, une solution de « dernier kilomètre » est créée pour activer la consommation de ces artefacts dans le système de facturation.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-108">To help with automation, a “last mile” solution is then built to enable consumption of these artifacts in the invoicing system.</span></span> <span data-ttu-id="7e2b1-109">L’automatisation de ce « dernier kilomètre » est maintenant activée, via une solution d’automatisation des factures.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-109">Now this “last mile” automation is enabled out of the box, through an invoice automation solution.</span></span>

## <a name="solution-context"></a><span data-ttu-id="7e2b1-110">Contexte de la solution</span><span class="sxs-lookup"><span data-stu-id="7e2b1-110">Solution context</span></span>

<span data-ttu-id="7e2b1-111">La solution d’automatisation des factures active une interface standard qui peut accepter des métadonnées de facture pour l’en-tête et les lignes de facture, ainsi que des pièces jointes applicables à la facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-111">The invoice automation solution enables a standard interface that can accept invoice metadata for the invoice header and invoice lines, and also attachments that are applicable to the invoice.</span></span> <span data-ttu-id="7e2b1-112">Tout système externe capable de générer des artefacts conformes à cette interface pourra envoyer le flux pour le traitement automatique des factures et des pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-112">Any external system that can generate artifacts that comply with this interface will be able to send the feed for automatic processing of invoices and attachments.</span></span>

<span data-ttu-id="7e2b1-113">L’illustration suivante présente un exemple de scénario d’intégration dans lequel Contoso a fait appel à un fournisseur de services OCR pour le traitement des factures fournisseur.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-113">The following illustration shows a sample integration scenario where Contoso has partnered with an OCR service provider for vendor invoice processing.</span></span> <span data-ttu-id="7e2b1-114">Les fournisseurs de Contoso envoient les factures au fournisseur de services par courrier électronique.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-114">Contoso’s vendors send invoices to the service provider by email.</span></span> <span data-ttu-id="7e2b1-115">Par le biais du traitement OCR, le fournisseur de services génère des métadonnées de facture (en-tête et/ou lignes) et une image numérisée de la facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-115">Through OCR processing, the service provider generates invoice metadata (header and/or lines) and a scanned image of the invoice.</span></span> <span data-ttu-id="7e2b1-116">Une couche d’intégration transforme ensuite ces artefacts afin qu’ils puissent être consommés.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-116">An integration layer then transforms these artifacts so that they can be consumed.</span></span>

![Exemple de scénario d’intégration](media/vendor_invoice_automation_01.png)

<span data-ttu-id="7e2b1-118">Plusieurs variations du scénario précédent sont possibles si l’intégration des factures est requise.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-118">Several variations of the preceding scenario are possible if invoice integration is required.</span></span> <span data-ttu-id="7e2b1-119">La migration des données est un autre cas d’utilisation où cette interface peut être utilisée pour créer des factures et des pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-119">Data migration is another use case where this interface can be used to create invoices and attachments.</span></span>

### <a name="solution-components"></a><span data-ttu-id="7e2b1-120">Composants de la solution</span><span class="sxs-lookup"><span data-stu-id="7e2b1-120">Solution components</span></span>

<span data-ttu-id="7e2b1-121">L’empreinte de la solution comprend les composants suivants :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-121">The solution footprint consists of the following components:</span></span>

+ <span data-ttu-id="7e2b1-122">Entités de données pour l’en-tête de facture, les lignes de facture et les pièces jointes de facture</span><span class="sxs-lookup"><span data-stu-id="7e2b1-122">Data entities for the invoice header, invoice lines, and invoice attachments</span></span>
+ <span data-ttu-id="7e2b1-123">Traitement des exceptions pour les factures</span><span class="sxs-lookup"><span data-stu-id="7e2b1-123">Exception processing for invoices</span></span>
+ <span data-ttu-id="7e2b1-124">Visionneuse de pièce jointe côte à côte dans les factures</span><span class="sxs-lookup"><span data-stu-id="7e2b1-124">A side-by-side attachment viewer in invoices</span></span>

<span data-ttu-id="7e2b1-125">Le reste de cette rubrique fournit des descriptions détaillées des composants de la solution.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-125">The rest of this topic provides detailed descriptions of these solution components.</span></span>

## <a name="data-entities"></a><span data-ttu-id="7e2b1-126">Entités de données</span><span class="sxs-lookup"><span data-stu-id="7e2b1-126">Data entities</span></span>

<span data-ttu-id="7e2b1-127">Un package de données est l’unité de travail qui doit être envoyée, afin que les en-têtes de facture, les lignes de facture et les pièces jointes de facture puissent être créés.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-127">A data package is the unit of work that must be sent so that invoice headers, invoice lines, and invoice attachments can be created.</span></span> <span data-ttu-id="7e2b1-128">Les entités de données suivantes sont utilisées pour les artefacts qui composent le package de données :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-128">The following data entities are used for the artifacts that make up the data package:</span></span>

+ <span data-ttu-id="7e2b1-129">En-tête de la facture fournisseur</span><span class="sxs-lookup"><span data-stu-id="7e2b1-129">Vendor invoice header</span></span>
+ <span data-ttu-id="7e2b1-130">Ligne de facture fournisseur</span><span class="sxs-lookup"><span data-stu-id="7e2b1-130">Vendor invoice line</span></span>
+ <span data-ttu-id="7e2b1-131">Ajout de document à la facture fournisseur</span><span class="sxs-lookup"><span data-stu-id="7e2b1-131">Vendor invoice document attachment</span></span>

<span data-ttu-id="7e2b1-132">Les pièces jointes des documents de facture fournisseur sont une nouvelle entité de données introduite dans le cadre de cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-132">Vendor invoice document attachment is a new data entity that is introduced as part of this feature.</span></span> <span data-ttu-id="7e2b1-133">L’entité En-tête de facture fournisseur a été modifiée pour prendre en charge les pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-133">The Vendor invoice header entity has been modified so that it supports attachments.</span></span> <span data-ttu-id="7e2b1-134">L’entité Ligne de facture fournisseur n’a pas été modifiée pour cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-134">The Vendor invoice line entity hasn’t been modified for this feature.</span></span>

<span data-ttu-id="7e2b1-135">Pour des informations détaillées sur les packages de données, consultez [Vue d’ensemble de la gestion des données](../../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md).</span><span class="sxs-lookup"><span data-stu-id="7e2b1-135">For detailed information about data packages, see [Data management overview](../../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md).</span></span> <span data-ttu-id="7e2b1-136">Pour plus d’informations sur la création de packages de données à l’aide de l’espace de travail de gestion des données, consultez [Traiter et consommer des packages de données dans la solution d’applications Dynamics 365 Finance and Operations](../../fin-ops-core/dev-itpro/lcs-solutions/process-data-packages-lcs-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="7e2b1-136">For information about how to create data packages using the data management workspace, see [Process and consume data packages in Dynamics 365 Finance and Operations apps solution](../../fin-ops-core/dev-itpro/lcs-solutions/process-data-packages-lcs-solutions.md).</span></span>

<span data-ttu-id="7e2b1-137">Pour générer rapidement des données de test incluant des factures et des pièces jointes, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-137">To quickly generate test data that includes invoices and attachments, follow these steps.</span></span>

1. <span data-ttu-id="7e2b1-138">Connectez-vous à votre instance.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-138">Sign in to your instance.</span></span>
1. <span data-ttu-id="7e2b1-139">Accédez à **Comptabilité fournisseur** > **Factures** > **Factures fournisseur en cours**.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-139">Go to **Accounts payables** > **Invoices** > **Pending vendor invoices**.</span></span>
1. <span data-ttu-id="7e2b1-140">Créez des factures contenant des lignes et des pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-140">Create invoices that have lines and attachments.</span></span>

    > [!NOTE]
    > <span data-ttu-id="7e2b1-141">Les pièces jointes doivent être des pièces jointes d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-141">The attachments must be header attachments.</span></span> <span data-ttu-id="7e2b1-142">Pour le moment, l’entité Pièces jointes des documents de facture fournisseur ne prend pas en charge les pièces jointes de ligne.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-142">Currently, the Vendor invoice document attachment entity doesn’t support line attachments.</span></span>

1. <span data-ttu-id="7e2b1-143">Ouvrez l’espace de travail **Gestion des données**.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-143">Open the **Data management** workspace.</span></span>
1. <span data-ttu-id="7e2b1-144">Créez une tâche d’exportation contenant les entités En-tête de facture fournisseur, Ligne de facture fournisseur et Pièces jointes des documents de facture fournisseur.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-144">Create an export job that includes the Vendor invoice header, Vendor invoice line, and Vendor invoice document attachment entities.</span></span>
1. <span data-ttu-id="7e2b1-145">Exportez les données.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-145">Export the data.</span></span>
1. <span data-ttu-id="7e2b1-146">Téléchargez les données exportées en tant que package.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-146">Download the exported data as a package.</span></span> <span data-ttu-id="7e2b1-147">Vous pouvez à présent utiliser le package pour importer des données dans les instances cibles à des fins de test.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-147">You can now use the package to import data into target instances for testing purposes.</span></span>

### <a name="determining-the-legal-entity-for-an-invoice"></a><span data-ttu-id="7e2b1-148">Détermination de l’entité juridique pour une facture</span><span class="sxs-lookup"><span data-stu-id="7e2b1-148">Determining the legal entity for an invoice</span></span>

<span data-ttu-id="7e2b1-149">Les factures importées via des packages de données peuvent être associées à l’entité juridique d’appartenance de deux manières :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-149">Invoices that are imported via data packages can be associated with the legal entity that they belong to in two ways:</span></span>

+ <span data-ttu-id="7e2b1-150">La tâche d’importation qui traite la facture l’importe dans la même société que celle dans laquelle la tâche a été planifiée dans l’espace de travail **Gestion des données**.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-150">The import job that processes the invoice imports it into the same company in which the job was scheduled in the **Data management** workspace.</span></span> <span data-ttu-id="7e2b1-151">En d’autres termes, la société de la tâche détermine la société à laquelle la facture appartient.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-151">In other words, the company of the job determines the company that the invoice belongs to.</span></span>
+ <span data-ttu-id="7e2b1-152">Lorsque le package de données contenant des factures est envoyé dans Finance, l’appelant (c’est-à-dire, l’application d’intégration qui s’exécute en dehors de Finance) peut explicitement mentionner l’ID de société dans la requête HTTP.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-152">When the data package that contains invoices is sent to Finance, the caller (that is, the integration application that runs outside of Finance) can explicitly mention the company ID in the HTTP request.</span></span> <span data-ttu-id="7e2b1-153">Dans ce cas, le contexte de société dans lequel la tâche de traitement s’exécute dans Finance est remplacé, et les factures sont importées dans la société transmise via la requête HTTP.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-153">In this case, the company context in which the processing job runs in Finance is overridden, and the invoices are imported into the company that was passed via the HTTP request.</span></span>

> [!NOTE]
> <span data-ttu-id="7e2b1-154">Ce comportement est le comportement de gestion des données standard.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-154">This behavior is standard data management behavior.</span></span> <span data-ttu-id="7e2b1-155">Il est expliqué ici, dans le contexte des factures, par souci d’exhaustivité.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-155">It’s explained here, in the context of invoices, just for the sake of completeness.</span></span>

## <a name="exception-processing"></a><span data-ttu-id="7e2b1-156">Traitement des exceptions</span><span class="sxs-lookup"><span data-stu-id="7e2b1-156">Exception processing</span></span>

<span data-ttu-id="7e2b1-157">Dans les scénarios où les factures fournisseur sont envoyées dans Finance and Operations par le biais de l’intégration, un membre de l’équipe de la comptabilité fournisseur doit pouvoir traiter facilement les exceptions ou les factures ayant échoué, et créer des factures en attente à partir des factures ayant échoué.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-157">In scenarios where vendor invoices come into Finance and Operations via integration, there must be an easy way for an Accounts payable team member to process exceptions or failed invoices, and to create pending invoices out of failed invoices.</span></span> <span data-ttu-id="7e2b1-158">Ce traitement des exceptions pour les factures fournisseur fait désormais partie de Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-158">This exception processing for vendor invoices is now part of Finance and Operations.</span></span>

### <a name="exceptions-list-page"></a><span data-ttu-id="7e2b1-159">Page de liste des exceptions</span><span class="sxs-lookup"><span data-stu-id="7e2b1-159">Exceptions list page</span></span>

<span data-ttu-id="7e2b1-160">La nouvelle page de liste pour les exceptions de facture est disponible sous **Comptabilité fournisseur** > **Factures** > **Échecs d’importation** > **Factures fournisseur qui n’ont pas été importées**.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-160">The new list page for invoice exceptions is available at **Accounts payable** > **Invoices** > **Import failures** > **Vendor invoices that failed to import**.</span></span> <span data-ttu-id="7e2b1-161">Cette page affiche tous les enregistrements d’en-tête de facture fournisseur à partir de la table intermédiaire de l’entité de données En-tête de facture fournisseur.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-161">This page shows all the vendor invoice header records from the staging table of the Vendor invoice header data entity.</span></span> <span data-ttu-id="7e2b1-162">Notez que vous pouvez afficher les mêmes enregistrements à partir de l’espace de travail **Gestion des données**, où vous pouvez également exécuter les mêmes actions que celles fournies dans la fonction de gestion des exceptions.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-162">Note that you can view the same records from the **Data management** workspace, where you can also perform the same actions that are provided in the exception handling feature.</span></span> <span data-ttu-id="7e2b1-163">Toutefois, l’interface utilisateur fournie par la fonction de gestion des exceptions est optimisée pour un utilisateur fonctionnel.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-163">However, the UI that the exception handling feature provides is optimized for a functional user.</span></span>

![Page de liste des exceptions](media/vendor_invoice_automation_02.png)

<span data-ttu-id="7e2b1-165">Cette page de liste contient les champs suivants qui sont disponibles via le flux :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-165">This list page includes the following fields that come in via the feed:</span></span>

+ <span data-ttu-id="7e2b1-166">**Société** – Société à laquelle la facture appartient.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-166">**Company** – The company that the invoice belongs to</span></span>
+ <span data-ttu-id="7e2b1-167">**Message d’erreur** – Message d’erreur généré par l’infrastructure de gestion des données pour expliquer la raison pour laquelle la facture n’a pas pu être créée</span><span class="sxs-lookup"><span data-stu-id="7e2b1-167">**Error message** – The error message that the data management framework issues to explain why the invoice could not be created</span></span>
+ <span data-ttu-id="7e2b1-168">**Numéro** – Numéro de la facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-168">**Number** – The invoice number</span></span>
+ <span data-ttu-id="7e2b1-169">**Compte de facturation**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-169">**Invoice account**</span></span>
+ <span data-ttu-id="7e2b1-170">**Nom** – Nom du fournisseur</span><span class="sxs-lookup"><span data-stu-id="7e2b1-170">**Name** – The vendor’s name</span></span>
+ <span data-ttu-id="7e2b1-171">**Compte fournisseur**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-171">**Vendor account**</span></span>
+ <span data-ttu-id="7e2b1-172">**Commande fournisseur** – Numéro de la commande fournisseur pour la facture</span><span class="sxs-lookup"><span data-stu-id="7e2b1-172">**Purchase order** – The purchase order (PO) number for the invoice</span></span>
+ <span data-ttu-id="7e2b1-173">**Date de validation**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-173">**Posting date**</span></span>
+ <span data-ttu-id="7e2b1-174">**Date de facture**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-174">**Invoice date**</span></span>
+ <span data-ttu-id="7e2b1-175">**Description de la facture**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-175">**Invoice description**</span></span>
+ <span data-ttu-id="7e2b1-176">**Devise**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-176">**Currency**</span></span>
+ <span data-ttu-id="7e2b1-177">**Journal**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-177">**Log**</span></span>
+ <span data-ttu-id="7e2b1-178">**Référence de ligne** – Identificateur provenant du système externe</span><span class="sxs-lookup"><span data-stu-id="7e2b1-178">**Line reference** – The identifier that comes from the external system</span></span>

    > [!NOTE]
    > <span data-ttu-id="7e2b1-179">La référence de ligne n’est pas l’ID de facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-179">The line reference isn’t the invoice ID.</span></span>

<span data-ttu-id="7e2b1-180">Cette page de liste a également un volet d’aperçu que vous pouvez utiliser de plusieurs manières :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-180">This list page also has a preview pane that you can used in the following ways:</span></span>

+ <span data-ttu-id="7e2b1-181">Affichez l’ensemble du message d’erreur, afin qu’il ne soit pas nécessaire de développer la colonne **Message d’erreur** de la grille.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-181">View the whole error message, so that you don’t have to expand the **Error message** column in the grid.</span></span>
+ <span data-ttu-id="7e2b1-182">Affichez l’ensemble de la liste des pièces jointes pour la facture, si des documents sont joints à la facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-182">View the whole list of attachments for the invoice, if any attachments came with the invoice.</span></span>

<span data-ttu-id="7e2b1-183">La page de liste prend en charge les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-183">The list page supports the following actions:</span></span>

+ <span data-ttu-id="7e2b1-184">**Modifier** – Ouvrez l’enregistrement d’exception en mode Édition, afin de résoudre les problèmes.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-184">**Edit** – Open the exception record in edit mode, so that you can fix the issues.</span></span>
+ <span data-ttu-id="7e2b1-185">**Options** – Accédez aux options standard disponibles dans les pages de liste.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-185">**Options** – Access the standard options that are available on list pages.</span></span> <span data-ttu-id="7e2b1-186">Vous pouvez utiliser l’option **Ajouter à l’espace de travail** pour épingler la page de liste des exceptions à votre espace de travail en tant que liste ou vignette.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-186">You can use the **Add to workspace** option to pin the exceptions list page to your workspace as a list or tile.</span></span>

### <a name="exception-details-page"></a><span data-ttu-id="7e2b1-187">Page des détails de l’exception</span><span class="sxs-lookup"><span data-stu-id="7e2b1-187">Exception details page</span></span>

<span data-ttu-id="7e2b1-188">Lorsque vous activez le mode Édition, la page des détails de l’exception pour la facture posant problème s’affiche.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-188">When you start edit mode, the exception details page for the invoice that has issues appears.</span></span> <span data-ttu-id="7e2b1-189">Si des documents sont joints, la facture et les pièces jointes par défaut s’affichent côte à côte sur la page des détails de l’exception.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-189">If there are any attachments, the invoice and the default attachment appear side by side on the exception details page.</span></span>

![Page des détails de l’exception](media/vendor_invoice_automation_03.png)

<span data-ttu-id="7e2b1-191">Dans l’illustration précédente, aucune ligne n’était disponible pour l’en-tête de facture fournisseur fourni.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-191">In the preceding illustration, there weren’t any lines for the vendor invoice header that came in.</span></span> <span data-ttu-id="7e2b1-192">Par conséquent, la section Lignes est vide.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-192">Therefore, the lines section is empty.</span></span>

<span data-ttu-id="7e2b1-193">La page des détails de l’exception prend en charge l’opération suivante :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-193">The exception details page supports the following operation:</span></span>

+ <span data-ttu-id="7e2b1-194">**Créer une facture en attente** – Après avoir résolu les problèmes sur la facture dans le cadre du traitement des exceptions, vous pouvez cliquer sur ce bouton pour créer la facture en attente.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-194">**Create pending invoice** – After you’ve fixed the issues on the invoice as part of exception processing, you can click this button to create the pending invoice.</span></span> <span data-ttu-id="7e2b1-195">Les factures en attente sont créées en arrière-plan (comme une opération asynchrone).</span><span class="sxs-lookup"><span data-stu-id="7e2b1-195">The creation of pending invoices occurs in the background (as an asynchronous operation).</span></span>

### <a name="shared-service-vs-organization-based-exception-processing"></a><span data-ttu-id="7e2b1-196">Traitement des exceptions basées sur les services partagés et les organisations</span><span class="sxs-lookup"><span data-stu-id="7e2b1-196">Shared service vs. organization-based exception processing</span></span>

<span data-ttu-id="7e2b1-197">La page de liste des exceptions prend en charge les constructions de sécurité standard prises en charge par l’espace de travail **Gestion des données** pour le traitement des enregistrements intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-197">The exceptions list page supports the standard security constructs that the **Data management** workspace supports for the processing of staging records.</span></span> <span data-ttu-id="7e2b1-198">La tâche d’importation de facture peut être sécurisée de plusieurs manières :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-198">The invoice import job can be secured in the following ways:</span></span>

+ <span data-ttu-id="7e2b1-199">Par rôle d’utilisateur</span><span class="sxs-lookup"><span data-stu-id="7e2b1-199">By user role</span></span>
+ <span data-ttu-id="7e2b1-200">Par utilisateur</span><span class="sxs-lookup"><span data-stu-id="7e2b1-200">By user</span></span>
+ <span data-ttu-id="7e2b1-201">Par entité juridique</span><span class="sxs-lookup"><span data-stu-id="7e2b1-201">By legal entity</span></span>

![Importer une tâche sécurisée par rôle d’utilisateur et entité juridique](media/vendor_invoice_automation_04.png)

<span data-ttu-id="7e2b1-203">Si la sécurité est configurée pour la tâche d’importation de facture, la page de liste des exceptions honore ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-203">If security is configured for the invoice import job, the exceptions list page honors those settings.</span></span> <span data-ttu-id="7e2b1-204">Les utilisateurs pourront visualiser uniquement les enregistrements d’exception de facture que ce paramétrage les autorise à voir.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-204">Users will be able to see only the invoice exception records that this setup allows them to see.</span></span>

<span data-ttu-id="7e2b1-205">Par exemple, Contoso a décidé de traiter les exceptions de facture par entité juridique.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-205">For example, Contoso has decided to process invoice exceptions by legal entity.</span></span> <span data-ttu-id="7e2b1-206">Par conséquent, la sécurité est configurée sur la tâche d’importation de facture de telle sorte qu’un utilisateur de l’entité juridique A puisse consulter uniquement les exceptions de facture dans l’entité juridique A, tandis qu’un utilisateur de l’entité juridique B peut consulter uniquement les exceptions de facture dans l’entité juridique B. Ce paramétrage permet la répartition des tâches de gestion des exceptions de facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-206">Therefore, security is configured on the invoice import job in such a way that a user in legal entity A can see only invoice exceptions in legal entity A, whereas a user in legal entity B can see only invoice exceptions in legal entity B. This setup enables segregation of duties for the management of invoice exceptions.</span></span>

<span data-ttu-id="7e2b1-207">Contoso peut également décider de ne pas appliquer de sécurité, afin que les mêmes utilisateurs puissent traiter les exceptions pour toutes les entités juridiques.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-207">Contoso could also decide not to enforce any security, so that the same users can process invoice exceptions for all legal entities.</span></span> <span data-ttu-id="7e2b1-208">Ce paramétrage active un scénario de services partagés pour la gestion des exceptions de facture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-208">This setup enables a shared services scenario for the management of invoice exceptions.</span></span>

## <a name="side-by-side-attachment-viewer"></a><span data-ttu-id="7e2b1-209">Visionneuse de pièce jointe côte à côte</span><span class="sxs-lookup"><span data-stu-id="7e2b1-209">Side-by-side attachment viewer</span></span>

<span data-ttu-id="7e2b1-210">Pour faciliter l’affichage des pièces jointes pour les factures fournisseur, les pages suivantes utilisées dans le processus de facturation fournissent désormais une visionneuse de pièce jointe :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-210">To help you easily view the attachments for vendor invoices, the following pages that are used in the invoicing process now provide an attachment viewer:</span></span>

+ <span data-ttu-id="7e2b1-211">**Traitement des exceptions**</span><span class="sxs-lookup"><span data-stu-id="7e2b1-211">**Exception handling**</span></span>
+ <span data-ttu-id="7e2b1-212">Page **Factures fournisseur en attente** (également disponible dans le processus de vérification des factures)</span><span class="sxs-lookup"><span data-stu-id="7e2b1-212">**Pending vendor invoices** page (also available in the invoice review process)</span></span>
+ <span data-ttu-id="7e2b1-213">Page **Journal des factures** (pour les factures validées)</span><span class="sxs-lookup"><span data-stu-id="7e2b1-213">**Invoice journal** inquiry page (for posted invoices)</span></span>

<span data-ttu-id="7e2b1-214">Voici les principales fonctionnalités fournies par la visionneuse de pièce jointe :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-214">Here is the main functionality that the attachment viewer provides:</span></span>

+ <span data-ttu-id="7e2b1-215">Afficher tous les types de pièces jointes pris en charge par le module Gestion des documents (fichiers, images, URL et notes).</span><span class="sxs-lookup"><span data-stu-id="7e2b1-215">View all attachment types that Document management supports (files, images, URLs, and notes).</span></span>
+ <span data-ttu-id="7e2b1-216">Afficher les fichiers TIFF sur plusieurs pages.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-216">View multi-page TIFF files.</span></span>
+ <span data-ttu-id="7e2b1-217">Exécuter les actions suivantes sur les fichiers image :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-217">Perform the following actions on image files:</span></span>
  + <span data-ttu-id="7e2b1-218">Mettre en surbrillance des parties de l’image.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-218">Highlight parts of the image.</span></span>
  + <span data-ttu-id="7e2b1-219">Bloquer des parties de l’image.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-219">Block parts of the image.</span></span>
  + <span data-ttu-id="7e2b1-220">Ajouter des annotations à l’image.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-220">Add annotations to the image.</span></span>
  + <span data-ttu-id="7e2b1-221">Effectuer un zoom avant ou arrière sur l’image.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-221">Zoom in and out on the image.</span></span>
  + <span data-ttu-id="7e2b1-222">Effectuer un panoramique de l’image.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-222">Pan the image.</span></span>
  + <span data-ttu-id="7e2b1-223">Annuler et répéter des actions.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-223">Undo and redo actions.</span></span>
  + <span data-ttu-id="7e2b1-224">Ajuster l’image à la taille.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-224">Fit the image to size.</span></span>

> [!NOTE]
> <span data-ttu-id="7e2b1-225">Ces actions sont disponibles uniquement pour les fichiers image (JPEG, tiff, PNG, etc.).</span><span class="sxs-lookup"><span data-stu-id="7e2b1-225">These actions are available only for image files (JPEG, TIFF, PNG, and so on).</span></span> <span data-ttu-id="7e2b1-226">Les modifications apportées à une image à l’aide de ces actions sont enregistrées dans le fichier image.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-226">Any changes that you make to an image by using these actions are saved to the image file.</span></span> <span data-ttu-id="7e2b1-227">Pour le moment, la visionneuse de pièce jointe n’inclut pas les fonctions de contrôle de versions et d’audit.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-227">Currently, the attachment viewer doesn’t include versioning or auditing capabilities.</span></span>

### <a name="default-attachment"></a><span data-ttu-id="7e2b1-228">Pièce jointe par défaut</span><span class="sxs-lookup"><span data-stu-id="7e2b1-228">Default attachment</span></span>

<span data-ttu-id="7e2b1-229">Si une facture fournisseur contient plusieurs pièces jointes, vous pouvez définir un des documents comme pièce jointe par défaut sur la page **Documents joints**.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-229">If a vendor invoice has more than one attachment, you can set one of the documents as the default attachment on the **Attachments** page.</span></span> <span data-ttu-id="7e2b1-230">L’option **Pièce jointe par défaut** est une nouvelle option qui a été ajoutée dans le cadre de cette fonctionnalité.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-230">The **Is default attachment** option is a new option that was added as part of this feature.</span></span> <span data-ttu-id="7e2b1-231">Cette option est également exposée dans l’entité de données Pièces jointes des documents de facture fournisseur.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-231">This option is also exposed in the Vendor invoice document attachment data entity.</span></span> <span data-ttu-id="7e2b1-232">Par conséquent, la pièce jointe par défaut peut être définie par le biais des intégrations.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-232">Therefore, the default attachment can be set through integrations.</span></span>

<span data-ttu-id="7e2b1-233">Un seul document peut être défini comme pièce jointe par défaut.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-233">Only one document can be set as the default attachment.</span></span> <span data-ttu-id="7e2b1-234">Après avoir défini un document comme pièce jointe par défaut, il s’affiche automatiquement dans la visionneuse de pièce jointe lorsque la facture est ouverte.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-234">After you set a document as the default attachment, it’s automatically shown in the attachment viewer when the invoice is opened.</span></span> <span data-ttu-id="7e2b1-235">Si vous ne définissez pas de document comme pièce jointe par défaut, la visionneuse n’affiche pas automatiquement de pièce jointe lorsque la facture est ouverte.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-235">If you don’t set any document as the default attachment, the viewer doesn’t automatically show any attachment when the invoice is opened.</span></span>

### <a name="showhide-invoice-attachments"></a><span data-ttu-id="7e2b1-236">Afficher/masquer les pièces jointes de facture</span><span class="sxs-lookup"><span data-stu-id="7e2b1-236">Show/hide invoice attachments</span></span>

<span data-ttu-id="7e2b1-237">Un nouveau bouton disponible sur les pages de recherche **Traitement des exceptions**, **Facture en attente** et **Journal des factures** permet d’afficher ou de masquer la visionneuse de pièce jointe.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-237">A new button that is available on the **Exception processing**, **Pending invoice**, and **Invoice journal** inquiry pages lets you show or hide the attachment viewer.</span></span>

### <a name="security"></a><span data-ttu-id="7e2b1-238">Sécurité</span><span class="sxs-lookup"><span data-stu-id="7e2b1-238">Security</span></span>

<span data-ttu-id="7e2b1-239">Les actions suivantes dans la visionneuse de pièce jointe sont contrôlées via la sécurité basée sur les rôles :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-239">The following actions in the attachment viewer are controlled via role-based security:</span></span>

+ <span data-ttu-id="7e2b1-240">Mise en surbrillance</span><span class="sxs-lookup"><span data-stu-id="7e2b1-240">Highlighting</span></span>
+ <span data-ttu-id="7e2b1-241">Bloquer</span><span class="sxs-lookup"><span data-stu-id="7e2b1-241">Block</span></span>
+ <span data-ttu-id="7e2b1-242">Annotation</span><span class="sxs-lookup"><span data-stu-id="7e2b1-242">Annotation</span></span>

### <a name="pending-vendor-invoices-page"></a><span data-ttu-id="7e2b1-243">Page Factures fournisseur en attente</span><span class="sxs-lookup"><span data-stu-id="7e2b1-243">Pending vendor invoices page</span></span>

<span data-ttu-id="7e2b1-244">Les privilèges suivants donnent un accès en lecture seule ou un accès en lecture/écriture à la visionneuse de pièce jointe pour les actions de mise en surbrillance, de blocage et d’ajout d’annotations :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-244">The following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions:</span></span>

+ <span data-ttu-id="7e2b1-245">**Tenir à jour l’image de la facture fournisseur** – Ce privilège offre un accès en lecture/écriture.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-245">**Maintain vendor invoice image** – This privilege provides read/write access.</span></span>
+ <span data-ttu-id="7e2b1-246">**Afficher l’image de la facture fournisseur** – Ce privilège offre un accès en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-246">**View vendor invoice image** – This privilege provides read-only access.</span></span>

<span data-ttu-id="7e2b1-247">Les droits suivants donnent un accès en lecture seule ou un accès en lecture/écriture à la visionneuse de pièce jointe pour ces actions :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-247">The following duties provide read-only access or read/write access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e2b1-248">**Tenir à jour les factures fournisseur** – Le privilège Tenir à jour l’image de la facture fournisseur est affecté à ce droit.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-248">**Maintain vendor invoices** – The Maintain vendor invoice image privilege is assigned to this duty.</span></span>
+ <span data-ttu-id="7e2b1-249">**Recherche dans le statut des factures fournisseur** – Le privilège Afficher l’image de la facture fournisseur est affecté à ce droit.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-249">**Inquire into vendor invoice status** – The View vendor invoice image privilege is assigned to this duty.</span></span>

<span data-ttu-id="7e2b1-250">Les rôles suivants donnent un accès en lecture seule ou un accès en lecture/écriture à la visionneuse de pièce jointe pour ces actions :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-250">The following roles provide read-only access or read/write access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e2b1-251">**Commis à la comptabilité fournisseur** et **Responsable Comptabilité fournisseur** – Le droit Tenir à jour les factures fournisseur est affecté à ces rôles.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-251">**Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles.</span></span>
+ <span data-ttu-id="7e2b1-252">**Commis à la comptabilité fournisseur**, **Responsable Comptabilité fournisseur**, **Commis au paiement centralisé de la comptabilité fournisseur** et **Commis au paiement de la comptabilité fournisseur** – Le privilège Recherche dans le statut des factures fournisseur est affecté à ces rôles.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-252">**Accounts payable clerk**, **Accounts payable manager**, **Accounts payable centralized payments clerk**, and **Accounts payable payments clerk** – The Inquire into vendor invoice status duty is assigned to these roles.</span></span>

### <a name="invoice-exception-details-page"></a><span data-ttu-id="7e2b1-253">Page des détails d’exception de facture</span><span class="sxs-lookup"><span data-stu-id="7e2b1-253">Invoice exception details page</span></span>

<span data-ttu-id="7e2b1-254">Les privilèges suivants donnent un accès en lecture seule ou un accès en lecture/écriture à la visionneuse de pièce jointe pour les actions de mise en surbrillance, de blocage et d’ajout d’annotations.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-254">The following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions.</span></span>

> [!NOTE]
> <span data-ttu-id="7e2b1-255">Les rôles mentionnés dans cette section donnent automatiquement un accès en lecture seule aux images de facture dans la visionneuse de pièce jointe.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-255">Out of the box, the roles that are mentioned in this section provide read-only access to the invoice images in the attachment viewer.</span></span> <span data-ttu-id="7e2b1-256">Si un rôle doit également avoir un accès en écriture aux images, vous pouvez accorder un accès en écriture à ce rôle à l’aide du privilège et du droit décrits ici.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-256">If a role must also have write access to the images, you can grant write access to that role by using the privilege and duty that are described here.</span></span>

+ <span data-ttu-id="7e2b1-257">**Tenir à jour l’image de l’entité En-tête du journal des factures fournisseur** – Ce privilège donne un accès en lecture/écriture aux images de facture dans la visionneuse de pièce jointe.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-257">**Maintain vendor invoice header entity image** – This privilege provides read/write access to the invoice images in the attachment viewer.</span></span>
+ <span data-ttu-id="7e2b1-258">**Afficher l’image de l’entité En-tête du journal des factures fournisseur** – Ce privilège donne un accès en lecture seule aux images de facture dans la visionneuse de pièce jointe.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-258">**View vendor invoice header entity image** – This privilege provides read-only view to the invoice image in the attachment viewer.</span></span>

<span data-ttu-id="7e2b1-259">Les droits suivants donnent un accès en lecture seule à la visionneuse de pièce jointe pour ces actions :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-259">The following duties provide read-only access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e2b1-260">**Tenir à jour les factures fournisseur** – Le privilège Tenir à jour l’image de l’entité En-tête du journal des factures fournisseur est affecté à ce droit.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-260">**Maintain vendor invoices** – The Maintain vendor invoice header entity image privilege is assigned to this duty.</span></span>

<span data-ttu-id="7e2b1-261">Les rôles suivants donnent un accès en lecture seule à la visionneuse de pièce jointe pour ces actions :</span><span class="sxs-lookup"><span data-stu-id="7e2b1-261">The following roles provide read-only access to the attachment viewer for those actions:</span></span>

+ <span data-ttu-id="7e2b1-262">**Commis à la comptabilité fournisseur** et **Responsable Comptabilité fournisseur** – Le droit Tenir à jour les factures fournisseur est affecté à ces rôles.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-262">**Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles.</span></span>

<span data-ttu-id="7e2b1-263">Par défaut, si le rôle d’utilisateur donne des droits de modification sur n’importe quelle page, l’utilisateur aura également des droits de modification sur la visionneuse de pièce jointe pour les actions de mise en surbrillance, de blocage et d’ajout d’annotations.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-263">By default, if the user role provides edit rights on any page, the user will also have edit rights on the attachments viewer for the highlighting, block, and annotation actions.</span></span> <span data-ttu-id="7e2b1-264">Toutefois, s’il existe des scénarios où un rôle spécifique doit avoir des droits de modification sur la page mais pas sur la visionneuse de pièce jointe, les privilèges appropriés de la liste précédente peuvent être utilisés pour respecter le cas d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="7e2b1-264">However, if there are scenarios where a specific role should have edit rights on the page but not on the attachment viewer, the appropriate privileges from the preceding list can be used to satisfy the use case.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]