---
title: Résultats des modèles Machine Learning (version préliminaire)
description: Cette rubrique traite des matrices de confusion, des problèmes de classification et de la précision des modèles de Machine Learning (ML). Le but est d’améliorer votre compréhension de la précision des résultats de prédiction ML.
author: ShivamPandey-msft
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: a9642bd21ffc0770be61677220e0e72986586047
ms.sourcegitcommit: cabd991fda2bfcabb55db84c225b24a7bb061631
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/12/2021
ms.locfileid: "6028201"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="c63c9-104">Résultats des modèles Machine Learning (version préliminaire)</span><span class="sxs-lookup"><span data-stu-id="c63c9-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="c63c9-105">Cette rubrique traite des matrices de confusion, des problèmes de classification et de la précision des modèles de Machine Learning (ML).</span><span class="sxs-lookup"><span data-stu-id="c63c9-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="c63c9-106">Le but est d’améliorer votre compréhension de la précision des résultats de prédiction ML.</span><span class="sxs-lookup"><span data-stu-id="c63c9-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="c63c9-107">Le public cible comprend des ingénieurs, des analystes et des gestionnaires qui souhaitent développer leurs connaissances et leurs compétences en science des données.</span><span class="sxs-lookup"><span data-stu-id="c63c9-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="c63c9-108">Matrice de confusion</span><span class="sxs-lookup"><span data-stu-id="c63c9-108">Confusion matrix</span></span>
<span data-ttu-id="c63c9-109">Une fois qu’un problème de ML supervisé est formé sur un jeu de données historiques, il est testé à l’aide de données qui ne sont pas conservées dans le processus de formation.</span><span class="sxs-lookup"><span data-stu-id="c63c9-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="c63c9-110">De cette manière, vous pouvez comparer les prédictions du modèle formé avec les valeurs réelles.</span><span class="sxs-lookup"><span data-stu-id="c63c9-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="c63c9-111">La matrice de confusion fournit un moyen d’évaluer le succès d’un problème de classification et où il fait des erreurs (c’est-à-dire où il devient "confus").</span><span class="sxs-lookup"><span data-stu-id="c63c9-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="c63c9-112">Par exemple, votre objectif est de prédire si un animal de compagnie est un chien ou un chat, sur la base de certains attributs physiques et comportementaux.</span><span class="sxs-lookup"><span data-stu-id="c63c9-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="c63c9-113">Si vous disposez d’un jeu de données de test contenant 30 chiens et 20 chats, la matrice de confusion peut ressembler à l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="c63c9-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Exemple de prédiction d’espèce](media/species-prediction-matrix.png)

<span data-ttu-id="c63c9-115">Les nombres dans les cellules vertes représentent des prédictions correctes.</span><span class="sxs-lookup"><span data-stu-id="c63c9-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="c63c9-116">Comme vous pouvez le voir, le modèle a prédit correctement un pourcentage plus élevé de chats réels.</span><span class="sxs-lookup"><span data-stu-id="c63c9-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="c63c9-117">La précision globale du modèle est facile à calculer.</span><span class="sxs-lookup"><span data-stu-id="c63c9-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="c63c9-118">Dans ce cas, c’est 42 ÷ 50, soit 0,84.</span><span class="sxs-lookup"><span data-stu-id="c63c9-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="c63c9-119">Classificateurs multi-classes dans une matrice de confusion</span><span class="sxs-lookup"><span data-stu-id="c63c9-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="c63c9-120">La plupart des discussions sur la matrice de confusion se concentrent sur les classificateurs binaires, comme dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="c63c9-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="c63c9-121">Ce cas est un cas particulier où d’autres métriques peuvent être envisagées, telles que la sensibilité et le rappel.</span><span class="sxs-lookup"><span data-stu-id="c63c9-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="c63c9-122">Ensuite, nous examinerons un problème de classification pour un scénario financier à trois états.</span><span class="sxs-lookup"><span data-stu-id="c63c9-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="c63c9-123">Le modèle prédit si une facture client sera payée à temps, en retard ou très tard.</span><span class="sxs-lookup"><span data-stu-id="c63c9-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="c63c9-124">Par exemple, sur 100 factures tests, 50 sont payées à temps, 35 sont payées en retard et 15 sont payées très tard.</span><span class="sxs-lookup"><span data-stu-id="c63c9-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="c63c9-125">Dans ce cas, un modèle peut produire une matrice de confusion semblable à l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="c63c9-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![Modèle 1](media/payment-prediction-matrix.png)<span data-ttu-id="c63c9-127">]</span><span class="sxs-lookup"><span data-stu-id="c63c9-127">]</span></span>

<span data-ttu-id="c63c9-128">Une matrice de confusion fournit beaucoup plus d’informations qu’une simple métrique de précision.</span><span class="sxs-lookup"><span data-stu-id="c63c9-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="c63c9-129">Cependant, c’est encore relativement facile à comprendre.</span><span class="sxs-lookup"><span data-stu-id="c63c9-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="c63c9-130">Une matrice de confusion vous indique si vous avez un ensemble de données équilibré où les classes de résultats ont des nombres similaires.</span><span class="sxs-lookup"><span data-stu-id="c63c9-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="c63c9-131">Pour le scénario multi-classes, il vous indique à quelle distance une prédiction peut être lorsque les classes de sortie sont ordinales, comme dans l’exemple précédent sur les paiements des clients.</span><span class="sxs-lookup"><span data-stu-id="c63c9-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="c63c9-132">Précision du modèle</span><span class="sxs-lookup"><span data-stu-id="c63c9-132">Model accuracy</span></span> 
<span data-ttu-id="c63c9-133">Différentes métriques de précision ont l’avantage de quantifier la qualité du modèle.</span><span class="sxs-lookup"><span data-stu-id="c63c9-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="c63c9-134">La précision étant une métrique facile à comprendre, c’est un bon point de départ pour expliquer un modèle à d’autres personnes, en particulier aux utilisateurs du modèle qui ne sont pas des spécialistes des données.</span><span class="sxs-lookup"><span data-stu-id="c63c9-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="c63c9-135">Aucune compréhension des statistiques n’est requise pour comprendre l’exactitude du modèle.</span><span class="sxs-lookup"><span data-stu-id="c63c9-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="c63c9-136">Lorsqu’une matrice de confusion est disponible, elle fournit des informations supplémentaires sur les performances du modèle.</span><span class="sxs-lookup"><span data-stu-id="c63c9-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="c63c9-137">Cependant, pour une compréhension plus approfondie, il convient de noter plusieurs contraintes associés à la précision.</span><span class="sxs-lookup"><span data-stu-id="c63c9-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="c63c9-138">L’utilité de la métrique dépend du contexte du problème.</span><span class="sxs-lookup"><span data-stu-id="c63c9-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="c63c9-139">Une question qui se pose souvent en relation avec les performances du modèle est : "Quelle est la qualité du modèle ? »</span><span class="sxs-lookup"><span data-stu-id="c63c9-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="c63c9-140">Cependant, la réponse à cette question n’est pas nécessairement simple.</span><span class="sxs-lookup"><span data-stu-id="c63c9-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="c63c9-141">Considérez la matrice de confusion suivante (modèle 2).</span><span class="sxs-lookup"><span data-stu-id="c63c9-141">Consider the following confusion matrix (model 2).</span></span>

![Exemple de prévision de paiement avec un échantillon plus large](media/payment-prediction-matrix-2.png)

<span data-ttu-id="c63c9-143">Un calcul rapide montre que la précision de ce modèle est de (70 + 10 + 3) ÷ 100, ou 0,83.</span><span class="sxs-lookup"><span data-stu-id="c63c9-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="c63c9-144">En apparence, ce résultat semble meilleur que celui du modèle multi-classes précédent (modèle 1), qui a une précision de 0,73.</span><span class="sxs-lookup"><span data-stu-id="c63c9-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="c63c9-145">Mais est-ce mieux ?</span><span class="sxs-lookup"><span data-stu-id="c63c9-145">But is it better?</span></span>

<span data-ttu-id="c63c9-146">Pour commencer à répondre à cette question, considérez l’exactitude d’une supposition naïve.</span><span class="sxs-lookup"><span data-stu-id="c63c9-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="c63c9-147">Pour un problème de classification, une simple estimation prédira toujours la classe la plus courante.</span><span class="sxs-lookup"><span data-stu-id="c63c9-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="c63c9-148">Pour le modèle 1, cette estimation sera "ponctuelle" et produira une précision de 0,50.</span><span class="sxs-lookup"><span data-stu-id="c63c9-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="c63c9-149">L’estimation pour le modèle 2 sera "ponctuelle" et produira une précision de 0,80.</span><span class="sxs-lookup"><span data-stu-id="c63c9-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="c63c9-150">Comme le modèle 1 améliore la supposition naïve de 0,73 – 0,50 = 0,23, tandis que le modèle 2 améliore la supposition naïve de 0,83 – 0,80 = 0,03, le modèle 1 est un meilleur modèle, même s’il a une précision moindre.</span><span class="sxs-lookup"><span data-stu-id="c63c9-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="c63c9-151">Le calcul révèle qu’une évaluation efficace de la qualité d’un modèle nécessite plus de contexte que la valeur de précision.</span><span class="sxs-lookup"><span data-stu-id="c63c9-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="c63c9-152">Un autre aspect mérite d’être noté.</span><span class="sxs-lookup"><span data-stu-id="c63c9-152">Another aspect is worth noting.</span></span> <span data-ttu-id="c63c9-153">Prenons un scénario dans lequel un test médical est utilisé pour détecter une maladie chez un patient.</span><span class="sxs-lookup"><span data-stu-id="c63c9-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="c63c9-154">Ce problème est un problème de classification binaire où un résultat positif indique que le patient a la maladie.</span><span class="sxs-lookup"><span data-stu-id="c63c9-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="c63c9-155">Dans ce scénario, vous devez réfléchir à l’impact des erreurs suivantes :</span><span class="sxs-lookup"><span data-stu-id="c63c9-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="c63c9-156">Faux positifs, où le test indique qu’une patiente a la maladie, mais que la patiente ne l’a pas vraiment.</span><span class="sxs-lookup"><span data-stu-id="c63c9-156">False positives, where the test says that a patient has the disease, but the patient doesn't really have it.</span></span>
- <span data-ttu-id="c63c9-157">Faux négatifs, où le test indique qu’un patient a la maladie, mais que la patiente ne l’a pas vraiment.</span><span class="sxs-lookup"><span data-stu-id="c63c9-157">False negatives, where the test says that a patient doesn't have the disease, but the patient really does have it.</span></span>

<span data-ttu-id="c63c9-158">De toute évidence, les deux types d’erreur ne sont pas souhaitables, mais laquelle est pire ?</span><span class="sxs-lookup"><span data-stu-id="c63c9-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="c63c9-159">Encore une fois, cela dépend.</span><span class="sxs-lookup"><span data-stu-id="c63c9-159">Again, it depends.</span></span> <span data-ttu-id="c63c9-160">Dans le cas d’une maladie potentiellement mortelle qui nécessite un traitement rapide, la minimisation des faux négatifs (avec un peu de chance, suivie de tests supplémentaires) est prioritaire.</span><span class="sxs-lookup"><span data-stu-id="c63c9-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="c63c9-161">Dans d’autres situations moins critiques, les créateurs de modèles peuvent plutôt minimiser les faux positifs.</span><span class="sxs-lookup"><span data-stu-id="c63c9-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="c63c9-162">Quoi qu’il en soit, une conclusion raisonnable est que pour déterminer efficacement la qualité d’un modèle, vous devez disposer de plus d’informations qu’une mesure de précision n’en fournit.</span><span class="sxs-lookup"><span data-stu-id="c63c9-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="c63c9-163">Recommandations</span><span class="sxs-lookup"><span data-stu-id="c63c9-163">Recommendations</span></span>

<span data-ttu-id="c63c9-164">La précision est un outil important pour communiquer avec des spécialistes du domaine qui ne sont pas familiarisés avec les statistiques.</span><span class="sxs-lookup"><span data-stu-id="c63c9-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="c63c9-165">Cependant, pour rendre les informations utiles, il est essentiel que le contexte supplémentaire soit fourni avec la valeur de précision.</span><span class="sxs-lookup"><span data-stu-id="c63c9-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="c63c9-166">Pour le scénario de prédiction de paiement, vous pouvez définir une cible pour le modèle ML qui inclut des facteurs dans différents comportements de paiement.</span><span class="sxs-lookup"><span data-stu-id="c63c9-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="c63c9-167">L’objectif est que le modèle s’améliore sur une estimation naïve en réduisant le nombre de réponses incorrectes d’au moins 50 pour cent.</span><span class="sxs-lookup"><span data-stu-id="c63c9-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="c63c9-168">En d’autres termes, vous voulez une précision cible qui divise la différence entre la précision d’une estimation naïve et 100 %.</span><span class="sxs-lookup"><span data-stu-id="c63c9-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="c63c9-169">Le tableau suivant résume ce principe pour les matrices de confusion de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="c63c9-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="c63c9-170">Modèle</span><span class="sxs-lookup"><span data-stu-id="c63c9-170">Model</span></span>   | <span data-ttu-id="c63c9-171">Supposition naïve</span><span class="sxs-lookup"><span data-stu-id="c63c9-171">Naïve guess</span></span> | <span data-ttu-id="c63c9-172">Cible</span><span class="sxs-lookup"><span data-stu-id="c63c9-172">Target</span></span> | <span data-ttu-id="c63c9-173">Précision du modèle</span><span class="sxs-lookup"><span data-stu-id="c63c9-173">Model accuracy</span></span> | <span data-ttu-id="c63c9-174">L’objectif est-il atteint ?</span><span class="sxs-lookup"><span data-stu-id="c63c9-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="c63c9-175">Modèle 1</span><span class="sxs-lookup"><span data-stu-id="c63c9-175">Model 1</span></span> | <span data-ttu-id="c63c9-176">0.50</span><span class="sxs-lookup"><span data-stu-id="c63c9-176">0.50</span></span>        | <span data-ttu-id="c63c9-177">0.75</span><span class="sxs-lookup"><span data-stu-id="c63c9-177">0.75</span></span>   | <span data-ttu-id="c63c9-178">0.73</span><span class="sxs-lookup"><span data-stu-id="c63c9-178">0.73</span></span>           | <span data-ttu-id="c63c9-179">Presque.</span><span class="sxs-lookup"><span data-stu-id="c63c9-179">Almost.</span></span> <span data-ttu-id="c63c9-180">Ce modèle améliore considérablement la supposition.</span><span class="sxs-lookup"><span data-stu-id="c63c9-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="c63c9-181">Modèle 2</span><span class="sxs-lookup"><span data-stu-id="c63c9-181">Model 2</span></span> | <span data-ttu-id="c63c9-182">0.80</span><span class="sxs-lookup"><span data-stu-id="c63c9-182">0.80</span></span>        | <span data-ttu-id="c63c9-183">0.90</span><span class="sxs-lookup"><span data-stu-id="c63c9-183">0.90</span></span>   | <span data-ttu-id="c63c9-184">0.83</span><span class="sxs-lookup"><span data-stu-id="c63c9-184">0.83</span></span>           | <span data-ttu-id="c63c9-185">N°</span><span class="sxs-lookup"><span data-stu-id="c63c9-185">No.</span></span> <span data-ttu-id="c63c9-186">Une amélioration est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="c63c9-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="c63c9-187">Précision de classification F1</span><span class="sxs-lookup"><span data-stu-id="c63c9-187">Classification F1 accuracy</span></span>

<span data-ttu-id="c63c9-188">La considération finale dans cette rubrique est une mesure plus avancée des performances de classification ML, connue sous le nom de précision F1.</span><span class="sxs-lookup"><span data-stu-id="c63c9-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="c63c9-189">Avant que la précision F1 ne puisse être définie, deux mesures supplémentaires doivent être introduites : la précision et le rappel.</span><span class="sxs-lookup"><span data-stu-id="c63c9-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="c63c9-190">La précision indique combien du nombre total de prédictions spécifiées comme positives sont correctement affectées.</span><span class="sxs-lookup"><span data-stu-id="c63c9-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="c63c9-191">Cette métrique est également connue sous le nom de valeur prédictive positive.</span><span class="sxs-lookup"><span data-stu-id="c63c9-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="c63c9-192">Le rappel est le nombre total de cas positifs réels qui ont été correctement prédits.</span><span class="sxs-lookup"><span data-stu-id="c63c9-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="c63c9-193">Cette métrique est également connue sous le nom de sensibilité.</span><span class="sxs-lookup"><span data-stu-id="c63c9-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="c63c9-194">[![Vrais résultats contre faux résultats](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="c63c9-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="c63c9-195">Dans la matrice de confusion de l’illustration précédente, ces métriques sont calculées de la manière suivante :</span><span class="sxs-lookup"><span data-stu-id="c63c9-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="c63c9-196">Précision = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="c63c9-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="c63c9-197">Rappel = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="c63c9-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="c63c9-198">La mesure F1 combine précision et rappel.</span><span class="sxs-lookup"><span data-stu-id="c63c9-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="c63c9-199">Le résultat est la moyenne harmonique des deux valeurs.</span><span class="sxs-lookup"><span data-stu-id="c63c9-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="c63c9-200">Il est calculé comme suit :</span><span class="sxs-lookup"><span data-stu-id="c63c9-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="c63c9-201">F1 = 2 × (Précision × Rappel) ÷ (Précision + Rappel)</span><span class="sxs-lookup"><span data-stu-id="c63c9-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="c63c9-202">Regardons un exemple concret.</span><span class="sxs-lookup"><span data-stu-id="c63c9-202">Let's look at a concrete example.</span></span> <span data-ttu-id="c63c9-203">Plus tôt dans ce sujet, il y avait un exemple de modèle qui prédisait si un animal était un chien ou un chat.</span><span class="sxs-lookup"><span data-stu-id="c63c9-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="c63c9-204">L’illustration est répétée ici.</span><span class="sxs-lookup"><span data-stu-id="c63c9-204">The illustration is repeated here.</span></span>

<span data-ttu-id="c63c9-205">[![Exemple de prédiction d’espèce (périodique)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="c63c9-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="c63c9-206">Voici les résultats si "Chien" est utilisé comme réponse positive.</span><span class="sxs-lookup"><span data-stu-id="c63c9-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="c63c9-207">Précision = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="c63c9-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="c63c9-208">Rappel = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="c63c9-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="c63c9-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="c63c9-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="c63c9-210">Comme vous pouvez le voir, la valeur F1 se situe entre les valeurs de précision et de rappel.</span><span class="sxs-lookup"><span data-stu-id="c63c9-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="c63c9-211">Bien que la précision F1 ne soit pas aussi facile à comprendre, elle ajoute de la nuance au nombre de précision de base.</span><span class="sxs-lookup"><span data-stu-id="c63c9-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="c63c9-212">Cela peut également aider avec des jeux de données déséquilibrés, comme le montre la discussion suivante.</span><span class="sxs-lookup"><span data-stu-id="c63c9-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="c63c9-213">La section [Précision du modèle](#model-accuracy) de cette rubrique a comparé les deux matrices de confusion suivantes.</span><span class="sxs-lookup"><span data-stu-id="c63c9-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="c63c9-214">Même si le premier modèle était moins précis, il a été considéré comme un modèle plus utile car il montrait plus d’amélioration que l’estimation par défaut d’un paiement à temps.</span><span class="sxs-lookup"><span data-stu-id="c63c9-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Exemple de prédiction de paiement contre réel](media/payment-prediction-matrix.png)

![Exemple de prévision de paiement avec un échantillon plus large (périodique)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="c63c9-217">Voyons comment ces deux modèles se comparent lorsque le score F1 est utilisé.</span><span class="sxs-lookup"><span data-stu-id="c63c9-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="c63c9-218">Le score F1 prend en compte la précision et le rappel pour chaque état, et le calcul de la macro F1 fait ensuite la moyenne du score F1 à travers les états pour déterminer un score F1 global.</span><span class="sxs-lookup"><span data-stu-id="c63c9-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="c63c9-219">Il existe d’autres variantes de F1, mais il est plus intéressant de considérer la version macro, étant donné la considération égale qui est accordée aux trois états.</span><span class="sxs-lookup"><span data-stu-id="c63c9-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="c63c9-220">Pour simplifier les calculs, des exemples de tableaux ont été créés pour correspondre aux valeurs réelles et prévues.</span><span class="sxs-lookup"><span data-stu-id="c63c9-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="c63c9-221">Ces tableaux utilisaient la bibliothèque de métriques de sklearn en Python pour calculer les valeurs.</span><span class="sxs-lookup"><span data-stu-id="c63c9-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="c63c9-222">Voici le résultat.</span><span class="sxs-lookup"><span data-stu-id="c63c9-222">Here is the result.</span></span>

| <span data-ttu-id="c63c9-223">Modèle</span><span class="sxs-lookup"><span data-stu-id="c63c9-223">Model</span></span>   | <span data-ttu-id="c63c9-224">Supposition naïve</span><span class="sxs-lookup"><span data-stu-id="c63c9-224">Naive guess</span></span> | <span data-ttu-id="c63c9-225">Précision</span><span class="sxs-lookup"><span data-stu-id="c63c9-225">Accuracy</span></span> | <span data-ttu-id="c63c9-226">Macro F1</span><span class="sxs-lookup"><span data-stu-id="c63c9-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="c63c9-227">Modèle 1</span><span class="sxs-lookup"><span data-stu-id="c63c9-227">Model 1</span></span> | <span data-ttu-id="c63c9-228">0.5</span><span class="sxs-lookup"><span data-stu-id="c63c9-228">0.5</span></span>         | <span data-ttu-id="c63c9-229">0.73</span><span class="sxs-lookup"><span data-stu-id="c63c9-229">0.73</span></span>     | <span data-ttu-id="c63c9-230">0.67</span><span class="sxs-lookup"><span data-stu-id="c63c9-230">0.67</span></span>     |
| <span data-ttu-id="c63c9-231">Modèle 2</span><span class="sxs-lookup"><span data-stu-id="c63c9-231">Model 2</span></span> | <span data-ttu-id="c63c9-232">0.80</span><span class="sxs-lookup"><span data-stu-id="c63c9-232">0.80</span></span>        | <span data-ttu-id="c63c9-233">0.83</span><span class="sxs-lookup"><span data-stu-id="c63c9-233">0.83</span></span>     | <span data-ttu-id="c63c9-234">0.66</span><span class="sxs-lookup"><span data-stu-id="c63c9-234">0.66</span></span>     |

<span data-ttu-id="c63c9-235">Pour plus de détails sur le fonctionnement de ce calcul, voici le rapport de classification sklearn.metrics pour le modèle 1.</span><span class="sxs-lookup"><span data-stu-id="c63c9-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="c63c9-236">Les trois états, "À l’heure", "En retard" et "Très tard", sont représentés par les lignes étiquetées 1, 2 et 3, respectivement.</span><span class="sxs-lookup"><span data-stu-id="c63c9-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="c63c9-237">La moyenne de la macro n’est que la moyenne de la colonne "f1-score".</span><span class="sxs-lookup"><span data-stu-id="c63c9-237">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="c63c9-238">précision</span><span class="sxs-lookup"><span data-stu-id="c63c9-238">precision</span></span> | <span data-ttu-id="c63c9-239">rappel</span><span class="sxs-lookup"><span data-stu-id="c63c9-239">recall</span></span>   | <span data-ttu-id="c63c9-240">f1-score</span><span class="sxs-lookup"><span data-stu-id="c63c9-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="c63c9-241">**1**</span><span class="sxs-lookup"><span data-stu-id="c63c9-241">**1**</span></span>     | <span data-ttu-id="c63c9-242">0.83</span><span class="sxs-lookup"><span data-stu-id="c63c9-242">0.83</span></span>      | <span data-ttu-id="c63c9-243">0.80</span><span class="sxs-lookup"><span data-stu-id="c63c9-243">0.80</span></span>     | <span data-ttu-id="c63c9-244">0.82</span><span class="sxs-lookup"><span data-stu-id="c63c9-244">0.82</span></span>     |
| <span data-ttu-id="c63c9-245">**2**</span><span class="sxs-lookup"><span data-stu-id="c63c9-245">**2**</span></span>     | <span data-ttu-id="c63c9-246">0.68</span><span class="sxs-lookup"><span data-stu-id="c63c9-246">0.68</span></span>      | <span data-ttu-id="c63c9-247">0.71</span><span class="sxs-lookup"><span data-stu-id="c63c9-247">0.71</span></span>     | <span data-ttu-id="c63c9-248">0.69</span><span class="sxs-lookup"><span data-stu-id="c63c9-248">0.69</span></span>     |
| <span data-ttu-id="c63c9-249">**3**</span><span class="sxs-lookup"><span data-stu-id="c63c9-249">**3**</span></span>     | <span data-ttu-id="c63c9-250">0.50</span><span class="sxs-lookup"><span data-stu-id="c63c9-250">0.50</span></span>      | <span data-ttu-id="c63c9-251">0.50</span><span class="sxs-lookup"><span data-stu-id="c63c9-251">0.50</span></span>     | <span data-ttu-id="c63c9-252">0.50</span><span class="sxs-lookup"><span data-stu-id="c63c9-252">0.50</span></span>     |

<span data-ttu-id="c63c9-253">Comme le montrent ces résultats, les deux modèles ont des scores de précision macro F1 presque identiques.</span><span class="sxs-lookup"><span data-stu-id="c63c9-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="c63c9-254">Dans ce cas et dans bien d’autres, la précision F1 fournit un meilleur indicateur de la capacité d’un modèle.</span><span class="sxs-lookup"><span data-stu-id="c63c9-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="c63c9-255">Pour ce qui est de la précision, l’interprétation des résultats nécessite que vous compreniez ce qu’il est le plus important de prendre en compte dans le modèle.</span><span class="sxs-lookup"><span data-stu-id="c63c9-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="c63c9-256">Avis de confidentialité</span><span class="sxs-lookup"><span data-stu-id="c63c9-256">Privacy notice</span></span>
<span data-ttu-id="c63c9-257">Les versions préliminaires (1) peuvent utiliser moins de mesures de confidentialité et de sécurité que le service Dynamics 365 Finance and Operations, (2) ne sont pas inclus dans le contrat de niveau de service (SLA) pour ce service, (3) ne doivent pas être utilisés pour traiter des données personnelles ou autres données soumises à des exigences de conformité juridique ou réglementaire, et (4) bénéficient d’un support limité.</span><span class="sxs-lookup"><span data-stu-id="c63c9-257">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]