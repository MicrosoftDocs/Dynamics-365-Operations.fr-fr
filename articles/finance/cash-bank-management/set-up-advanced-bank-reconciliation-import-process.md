---
title: Paramétrage du processus d'importation du rapprochement bancaire avancé
description: La fonctionnalité de rapprochement bancaire avancé permet d'importer des relevés bancaires électroniques et de les rapprocher automatiquement avec des transactions bancaires dans Microsoft Dynamics 365 Finance. Cet article explique comment configurer la fonctionnalité d’importation de vos relevés bancaires.
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: BankStatementFormat
audience: Application User
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.custom: 106853
ms.assetid: 45dae275-ea45-4c7e-b38f-89297c7b5352
ms.search.region: Global
ms.author: saraschi
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: aba85b63abc11c9f32023e8499a02728dfc86bd1
ms.sourcegitcommit: 3ba95d50b8262fa0f43d4faad76adac4d05eb3ea
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/27/2019
ms.locfileid: "2188255"
---
# <a name="set-up-the-advanced-bank-reconciliation-import-process"></a><span data-ttu-id="316f1-104">Paramétrage du processus d'importation du rapprochement bancaire avancé</span><span class="sxs-lookup"><span data-stu-id="316f1-104">Set up the advanced bank reconciliation import process</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="316f1-105">La fonctionnalité de rapprochement bancaire avancé permet d'importer des relevés bancaires électroniques et de les rapprocher automatiquement avec des transactions bancaires dans Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="316f1-105">The Advanced bank reconciliation feature lets you import electronic bank statements and automatically reconcile them with bank transactions in Dynamics 365 Finance.</span></span> <span data-ttu-id="316f1-106">Cet article explique comment configurer la fonctionnalité d’importation de vos relevés bancaires.</span><span class="sxs-lookup"><span data-stu-id="316f1-106">This article explains how to set up the import functionality for your bank statements.</span></span> 

<span data-ttu-id="316f1-107">Le paramétrage de l’importation de relevé bancaire varie selon le format de votre relevé bancaire électronique.</span><span class="sxs-lookup"><span data-stu-id="316f1-107">The setup for bank statement import varies, depending on the format of your electronic bank statement.</span></span> <span data-ttu-id="316f1-108">Finance prend en charge trois formats de relevés bancaires prêts à l'emploi : ISO20022, MT940 et BAI2.</span><span class="sxs-lookup"><span data-stu-id="316f1-108">Finance supports three bank statement formats out of the box: ISO20022, MT940, and BAI2.</span></span>

## <a name="set-time-zone-preference"></a><span data-ttu-id="316f1-109">Définir la préférence de fuseau horaire</span><span class="sxs-lookup"><span data-stu-id="316f1-109">Set time zone preference</span></span>
<span data-ttu-id="316f1-110">Lorsque vous configurez les paramètres d'importation de relevé bancaire, il peut se révéler important de tenir compte du fuseau horaire des données de date/heure dans les fichiers de relevés bancaires qui seront importés.</span><span class="sxs-lookup"><span data-stu-id="316f1-110">When you configure the bank statement import settings, it can be important to consider the time zone of the date-time data within the bank statement files that will be imported.</span></span> <span data-ttu-id="316f1-111">La valeur par défaut consiste à supposer que toute valeur de date/heure sont déjà dans le fuseau horaire UTC et qu'aucune conversion du fuseau horaire ne s'appliquera lors de l'importation des données.</span><span class="sxs-lookup"><span data-stu-id="316f1-111">The default is to assume any date and time values are already in Coordinated Universal Time (UTC) and so no time zone conversion will be applied when you import the data.</span></span> 

<span data-ttu-id="316f1-112">Une option est disponible pour préciser un fuseau horaire à utiliser pour importer les données.</span><span class="sxs-lookup"><span data-stu-id="316f1-112">There is an option available to specify a time zone to use for importing data.</span></span> <span data-ttu-id="316f1-113">Cette option est disponible dans le champ **Préférence de fuseau horaire** sur chaque page **Détails de format de données source** (organisateur **Espace de travail de gestion des données > Configurer les sources de données > Sélectionner un format de données > Paramètres régionaux**).</span><span class="sxs-lookup"><span data-stu-id="316f1-113">This option is availble in the **Time zone preference** field on each **Source data format details** page (**Data management workspace > Configure data sources > Select a data format > Regional settings** FastTab).</span></span> <span data-ttu-id="316f1-114">Cette préférence de fuseau horaire que vous entrez s'applique à toutes les importations qui utilisent ce format de données source.</span><span class="sxs-lookup"><span data-stu-id="316f1-114">This time zone preference you enter will apply to all the imports that use that source data format.</span></span> <span data-ttu-id="316f1-115">Vous pouvez créer autant de formats de source de données que nécessaire pour importer des données provenant de plusieurs fuseaux horaires.</span><span class="sxs-lookup"><span data-stu-id="316f1-115">You can create as many data source formats as needed for importing data from multiple time zones.</span></span> <span data-ttu-id="316f1-116">La préférence de fuseau horaire doit être le fuseau horaire des données de date et d'heure dans le fichier d'importation.</span><span class="sxs-lookup"><span data-stu-id="316f1-116">The time zone preference should be the local time zone of the date and time data in the import file.</span></span> <span data-ttu-id="316f1-117">La préférence de fuseau horaire doit être le fuseau horaire des données de date et d'heure dans le fichier d'importation.</span><span class="sxs-lookup"><span data-stu-id="316f1-117">The time zone preference should be the local time zone of the date-time data in the import file.</span></span> 

<span data-ttu-id="316f1-118">Ce fuseau horaire ne peut pas être le même que le fuseau horaire d'un utilisateur ou d'une société, aussi veillez à préciser quel fuseau horaire les données de date et d'heure utilisent.</span><span class="sxs-lookup"><span data-stu-id="316f1-118">This time zone might not be the same as a user’s or company’s time zone, so be sure to clarify what time zone the date and time data is using.</span></span> <span data-ttu-id="316f1-119">Nous vous recommandons de tenir compte des points suivants lors de la définition d'une préférence de fuseau horaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-119">We recommend that you consider the following points when setting a time zone preference.</span></span> 

 - <span data-ttu-id="316f1-120">La préférence de fuseau horaire s'applique à toutes les importations qui utilisent ce format de données source.</span><span class="sxs-lookup"><span data-stu-id="316f1-120">The time zone preference will apply to all imports using that source data format.</span></span> <span data-ttu-id="316f1-121">Vous pouvez créer autant de formats de source de données que nécessaire pour gérer l'importation des données provenant de plusieurs fuseaux horaires.</span><span class="sxs-lookup"><span data-stu-id="316f1-121">You can create as many data source formats as needed to handle importing data from multiple time zones.</span></span> 
 
 - <span data-ttu-id="316f1-122">La préférence de fuseau horaire doit être le fuseau horaire des données de date et d'heure dans le fichier d'importation.</span><span class="sxs-lookup"><span data-stu-id="316f1-122">The time zone preference should be the local time zone of the date and time data in the import file.</span></span> 
 
 - <span data-ttu-id="316f1-123">Le fuseau horaire des données de date et d'heure peut ne pas être identique au fuseau horaire d'un d'utilisateur ou d'une société.</span><span class="sxs-lookup"><span data-stu-id="316f1-123">The time zone of the date and time data might not be the same as a user’s or company’s time zone.</span></span>
 
 - <span data-ttu-id="316f1-124">Les utilisateurs peuvent modifier leur propre fuseau horaire avec leur **Options d'utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="316f1-124">Users can adjust their own time zone using their **User options**.</span></span>

<span data-ttu-id="316f1-125">Notez que les actions suivantes permettent de réduire les éventuels conflits de date et d'heure lorsque vous importez des relevés bancaires.</span><span class="sxs-lookup"><span data-stu-id="316f1-125">Note that the following actions can help minimize potential date and time conflicts when you import bank statements.</span></span> 

 - <span data-ttu-id="316f1-126">Évitez de modifier les préférences de fuseau horaire pour tous les comptes bancaires qui ont déjà importé des relevés.</span><span class="sxs-lookup"><span data-stu-id="316f1-126">Avoid changing the time zone preferences for any bank accounts that have already had statements imported.</span></span> <span data-ttu-id="316f1-127">La modification de la préférence de fuseau horaire peut affecter l'ordre des nouveaux relevés par rapport aux relevés existants en raison de l'ajustement du fuseau horaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-127">Changing the time zone preference could impact the ordering of new statements relative to existing statements due to the time zone adjustment.</span></span> 
 
 - <span data-ttu-id="316f1-128">Examinez toutes les importations qui utilisent le format source des données sélectionnées.</span><span class="sxs-lookup"><span data-stu-id="316f1-128">Review all the imports that use the selected data source format.</span></span> <span data-ttu-id="316f1-129">La préférence de fuseau horaire spécifiée pour le format s'appliquera à tous les projets d'importation qui utilisent ce format.</span><span class="sxs-lookup"><span data-stu-id="316f1-129">The time zone preference specified for the format will apply to all the import projects that use that format.</span></span> <span data-ttu-id="316f1-130">Vérifiez que la préférence de fuseau horaire est appropriée pour tous les projets d'importation qui utilisent ce format.</span><span class="sxs-lookup"><span data-stu-id="316f1-130">Verify that the time zone preference is appropriate for all the import projects that use that format.</span></span>

## <a name="sample-files"></a><span data-ttu-id="316f1-131">Exemples de fichiers</span><span class="sxs-lookup"><span data-stu-id="316f1-131">Sample files</span></span>
<span data-ttu-id="316f1-132">Pour les trois formats, vous devez disposer de fichiers qui traduisent le relevé bancaire électronique de son format d’origine vers un format que Finance peut utiliser.</span><span class="sxs-lookup"><span data-stu-id="316f1-132">For all three formats, you must have files that translate the electronic bank statement from the original format to a format that Finance can use.</span></span> <span data-ttu-id="316f1-133">Vous pouvez trouver les fichiers de ressources requis sous le nœud **Ressources** dans l’Explorateur d’application dans Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="316f1-133">You can find the required resource files under the **Resources** node in Application Explorer in Microsoft Visual Studio.</span></span> <span data-ttu-id="316f1-134">Après avoir trouvé les fichiers, copiez-les à un emplacement unique, afin que de pouvoir les télécharger plus facilement au cours du processus d’installation.</span><span class="sxs-lookup"><span data-stu-id="316f1-134">After you find the files, copy them to a single known location, so that you can more easily upload them during the setup process.</span></span>

| <span data-ttu-id="316f1-135">Nom de la ressource</span><span class="sxs-lookup"><span data-stu-id="316f1-135">Resource name</span></span>                                           | <span data-ttu-id="316f1-136">Nom de fichier</span><span class="sxs-lookup"><span data-stu-id="316f1-136">File name</span></span>                            |
|---------------------------------------------------------|--------------------------------------|
| <span data-ttu-id="316f1-137">BankStmtImport\_BAI2CSV\_to\_BAI2XML\_xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-137">BankStmtImport\_BAI2CSV\_to\_BAI2XML\_xslt</span></span>              | <span data-ttu-id="316f1-138">BAI2CSV-to-BAI2XML.xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-138">BAI2CSV-to-BAI2XML.xslt</span></span>              |
| <span data-ttu-id="316f1-139">BankStmtImport\_BAI2XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-139">BankStmtImport\_BAI2XML\_to\_Reconciliation\_xslt</span></span>       | <span data-ttu-id="316f1-140">BAI2XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-140">BAI2XML-to-Reconciliation.xslt</span></span>       |
| <span data-ttu-id="316f1-141">BankStmtImport\_BankReconciliation\_to\_Composite\_xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-141">BankStmtImport\_BankReconciliation\_to\_Composite\_xslt</span></span> | <span data-ttu-id="316f1-142">BankReconciliation-to-Composite.xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-142">BankReconciliation-to-Composite.xslt</span></span> |
| <span data-ttu-id="316f1-143">BankStmtImport\_ISO20022XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-143">BankStmtImport\_ISO20022XML\_to\_Reconciliation\_xslt</span></span>   | <span data-ttu-id="316f1-144">ISO20022XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-144">ISO20022XML-to-Reconciliation.xslt</span></span>   |
| <span data-ttu-id="316f1-145">BankStmtImport\_MT940TXT\_to\_MT940XML\_xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-145">BankStmtImport\_MT940TXT\_to\_MT940XML\_xslt</span></span>            | <span data-ttu-id="316f1-146">MT940TXT-to-MT940XML.xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-146">MT940TXT-to-MT940XML.xslt</span></span>            |
| <span data-ttu-id="316f1-147">BankStmtImport\_MT940XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-147">BankStmtImport\_MT940XML\_to\_Reconciliation\_xslt</span></span>      | <span data-ttu-id="316f1-148">MT940XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="316f1-148">MT940XML-to-Reconciliation.xslt</span></span>      |
| <span data-ttu-id="316f1-149">BankStmtImport\_SampleBankCompositeEntity\_xml</span><span class="sxs-lookup"><span data-stu-id="316f1-149">BankStmtImport\_SampleBankCompositeEntity\_xml</span></span>          | <span data-ttu-id="316f1-150">SampleBankCompositeEntity.xml</span><span class="sxs-lookup"><span data-stu-id="316f1-150">SampleBankCompositeEntity.xml</span></span>        |

## <a name="examples-of-bank-statement-formats-and-technical-layouts"></a><span data-ttu-id="316f1-151">Exemples de formats de relevé bancaire et de mises en page techniques</span><span class="sxs-lookup"><span data-stu-id="316f1-151">Examples of bank statement formats and technical layouts</span></span>
<span data-ttu-id="316f1-152">Voici des exemples de définitions de mise en page techniques de fichier d'importation de rapprochement bancaire avancé et trois fichiers d'exemples de relevé bancaire associés : https://mbs.microsoft.com/customersource/northamerica/AX/learning/documentation/how-to-articles/exofbankstfotechlayouts</span><span class="sxs-lookup"><span data-stu-id="316f1-152">Below are examples of the advanced bank reconciliation import file technical layout definitions and three related bank statement example files: https://mbs.microsoft.com/customersource/northamerica/AX/learning/documentation/how-to-articles/exofbankstfotechlayouts</span></span>  

| <span data-ttu-id="316f1-153">Définition de mise en page technique</span><span class="sxs-lookup"><span data-stu-id="316f1-153">Technical layout definition</span></span>                             | <span data-ttu-id="316f1-154">Fichier d'exemple de relevé bancaire</span><span class="sxs-lookup"><span data-stu-id="316f1-154">Bank statement example file</span></span>          |
|---------------------------------------------------------|--------------------------------------|
| <span data-ttu-id="316f1-155">DynamicsAXMT940Layout</span><span class="sxs-lookup"><span data-stu-id="316f1-155">DynamicsAXMT940Layout</span></span>                                   | <span data-ttu-id="316f1-156">MT940StatementExample</span><span class="sxs-lookup"><span data-stu-id="316f1-156">MT940StatementExample</span></span>                |
| <span data-ttu-id="316f1-157">DynamicsAXISO20022Layout</span><span class="sxs-lookup"><span data-stu-id="316f1-157">DynamicsAXISO20022Layout</span></span>                                | <span data-ttu-id="316f1-158">ISO20022StatementExample</span><span class="sxs-lookup"><span data-stu-id="316f1-158">ISO20022StatementExample</span></span>             |
| <span data-ttu-id="316f1-159">DynamicsAXBAI2Layout</span><span class="sxs-lookup"><span data-stu-id="316f1-159">DynamicsAXBAI2Layout</span></span>                                    | <span data-ttu-id="316f1-160">BAI2StatementExample</span><span class="sxs-lookup"><span data-stu-id="316f1-160">BAI2StatementExample</span></span>                 |



## <a name="set-up-the-import-of-iso20022-bank-statements"></a><span data-ttu-id="316f1-161">Paramétrer l'importation des relevés bancaires ISO20022</span><span class="sxs-lookup"><span data-stu-id="316f1-161">Set up the import of ISO20022 bank statements</span></span>
<span data-ttu-id="316f1-162">Tout d’abord, vous devez définir le groupe de traitement du format du relevé bancaire pour les relevés bancaires ISO20022 à l’aide de l’infrastructure d’entité de données.</span><span class="sxs-lookup"><span data-stu-id="316f1-162">First, you must define the bank statement format processing group for ISO20022 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="316f1-163">Accédez à **Espaces de travail** &gt; **Gestion des données**.</span><span class="sxs-lookup"><span data-stu-id="316f1-163">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="316f1-164">Cliquez sur **Importer**.</span><span class="sxs-lookup"><span data-stu-id="316f1-164">Click **Import**.</span></span>
3.  <span data-ttu-id="316f1-165">Entrez un nom pour le format, comme **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="316f1-165">Enter a name for the format, such as **ISO20022**.</span></span>
4.  <span data-ttu-id="316f1-166">Définissez le champ **Format des données sources** sur **XML-Element**.</span><span class="sxs-lookup"><span data-stu-id="316f1-166">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="316f1-167">Définissez champ **Nom de l'entité** sur **Relevés bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-167">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="316f1-168">Pour télécharger les fichiers d’importation, cliquez sur **Télécharger**, puis accédez au fichier **SampleBankCompositeEntity.xml** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-168">To upload the import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="316f1-169">Une fois l’entité de relevés bancaires téléchargée et la mise en correspondance terminée, cliquez sur l'action **Afficher le mappage** pour l’entité.</span><span class="sxs-lookup"><span data-stu-id="316f1-169">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="316f1-170">L’entité de relevés bancaires est une entité composite qui se compose de quatre entités distinctes.</span><span class="sxs-lookup"><span data-stu-id="316f1-170">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="316f1-171">Dans la liste, sélectionnez **BankStatementDocumentEntity**, puis cliquez sur l'action **Afficher le mappage**.</span><span class="sxs-lookup"><span data-stu-id="316f1-171">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="316f1-172">Sous l'onglet **Transformations**, cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-172">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="316f1-173">Pour le numéro de souche 1, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **ISO20022XML-to-Reconciliation.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-173">For sequence number 1, click **Upload file**, and select the **ISO20022XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="316f1-174">**Remarque :** les fichiers de transformation sont générés pour le format standard.</span><span class="sxs-lookup"><span data-stu-id="316f1-174">**Note:** Transformation files are built for the standard format.</span></span> <span data-ttu-id="316f1-175">Dans la mesure où les banques ont souvent des formats différents, vous devrez peut-être mettre à jour le fichier de transformation pour le mettre en correspondance avec votre format de relevé bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-175">Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.</span></span> <!-- For details about the expected format for ISO20022, see [Dynamics AX ISO20022 Layout](./media/dynamicsaxiso20022layout1.xlsx).-->
11. <span data-ttu-id="316f1-176">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-176">Click **New**.</span></span>
12. <span data-ttu-id="316f1-177">Pour le numéro de souche 2, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **BankReconciliation-to-Composite.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-177">For sequence number 2, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
13. <span data-ttu-id="316f1-178">Cliquez sur **Appliquer les transformations**.</span><span class="sxs-lookup"><span data-stu-id="316f1-178">Click **Apply transforms**.</span></span>

<span data-ttu-id="316f1-179">Une fois que le groupe de traitement du format est configuré, l’étape suivante consiste à définir les règles de format de relevé bancaire pour les relevés bancaires ISO20022.</span><span class="sxs-lookup"><span data-stu-id="316f1-179">After the format processing group is set up, the next step is to define the bank statement format rules for ISO20022 bank statements.</span></span>

1.  <span data-ttu-id="316f1-180">Accédez à **Gestion de la trésorerie et de la banque** &gt; **Paramétrage** &gt; **Configuration du rapprochement bancaire avancé** &gt; **Format de relevé bancaire**.</span><span class="sxs-lookup"><span data-stu-id="316f1-180">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="316f1-181">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-181">Click **New**.</span></span>
3.  <span data-ttu-id="316f1-182">Spécifiez un format de relevé, tel que **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="316f1-182">Specify a statement format, such as **ISO20022**.</span></span>
4.  <span data-ttu-id="316f1-183">Entrez un nom pour le format.</span><span class="sxs-lookup"><span data-stu-id="316f1-183">Enter a name for the format.</span></span>
5.  <span data-ttu-id="316f1-184">Définissez le champ **Groupe de traitement** sur le groupe que vous avez défini précédemment, tel que **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="316f1-184">Set the **Processing group** field to the group that you defined earlier, such as **ISO20022**.</span></span>
6.  <span data-ttu-id="316f1-185">Activez la case à cocher **Fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="316f1-185">Select the **XML file** check box.</span></span>

<span data-ttu-id="316f1-186">La dernière étape consiste à activer le rapprochement bancaire avancé et à définir le format de relevé sur le compte bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-186">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="316f1-187">Accédez à **Gestion de la trésorerie et de la banque** &gt; **Comptes bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-187">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="316f1-188">Sélectionnez le compte bancaire et ouvrez-le pour afficher les détails.</span><span class="sxs-lookup"><span data-stu-id="316f1-188">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="316f1-189">Sur l'onglet **Rapprochement**, définissez l'option **Rapprochement bancaire avancé** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="316f1-189">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="316f1-190">Définissez le champ **Format de relevé** sur le format que vous avez créé précédemment, tel que **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="316f1-190">Set the **Statement format** field to the format that you created earlier, such as **ISO20022**.</span></span>

## <a name="set-up-the-import-of-mt940-bank-statements"></a><span data-ttu-id="316f1-191">Paramétrer l'importation des relevés bancaires MT940</span><span class="sxs-lookup"><span data-stu-id="316f1-191">Set up the import of MT940 bank statements</span></span>
<span data-ttu-id="316f1-192">Tout d’abord, vous devez définir le groupe de traitement du format du relevé bancaire pour les relevés bancaires MT940 à l’aide de l’infrastructure d’entité de données.</span><span class="sxs-lookup"><span data-stu-id="316f1-192">First, you must define the bank statement format processing group for MT940 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="316f1-193">Accédez à **Espaces de travail** &gt; **Gestion des données**.</span><span class="sxs-lookup"><span data-stu-id="316f1-193">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="316f1-194">Cliquez sur **Importer**.</span><span class="sxs-lookup"><span data-stu-id="316f1-194">Click **Import**.</span></span>
3.  <span data-ttu-id="316f1-195">Entrez un nom pour le format, comme **MT940**.</span><span class="sxs-lookup"><span data-stu-id="316f1-195">Enter a name for the format, such as **MT940**.</span></span>
4.  <span data-ttu-id="316f1-196">Définissez le champ **Format des données sources** sur **XML-Element**.</span><span class="sxs-lookup"><span data-stu-id="316f1-196">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="316f1-197">Définissez champ **Nom de l'entité** sur **Relevés bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-197">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="316f1-198">Pour télécharger les fichiers d’importation, cliquez sur **Télécharger**, puis accédez au fichier **SampleBankCompositeEntity.xml** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-198">To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="316f1-199">Une fois l’entité de relevés bancaires téléchargée et la mise en correspondance terminée, cliquez sur l'action **Afficher le mappage** pour l’entité.</span><span class="sxs-lookup"><span data-stu-id="316f1-199">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="316f1-200">L’entité de relevés bancaires est une entité composite qui se compose de quatre entités distinctes.</span><span class="sxs-lookup"><span data-stu-id="316f1-200">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="316f1-201">Dans la liste, sélectionnez **BankStatementDocumentEntity**, puis cliquez sur l'action **Afficher le mappage**.</span><span class="sxs-lookup"><span data-stu-id="316f1-201">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="316f1-202">Sous l'onglet **Transformations**, cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-202">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="316f1-203">Pour le numéro de souche 1, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **MT940TXT-to-MT940XML.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-203">For sequence number 1, click **Upload file**, and select the **MT940TXT-to-MT940XML.xslt** file that you saved earlier.</span></span>
11. <span data-ttu-id="316f1-204">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-204">Click **New**.</span></span>
12. <span data-ttu-id="316f1-205">Pour le numéro de souche 2, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **MT940XML-to-Reconciliation.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-205">For sequence number 2, click **Upload file**, and select the **MT940XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="316f1-206">**Remarque :** les fichiers de transformation sont générés pour le format standard.</span><span class="sxs-lookup"><span data-stu-id="316f1-206">**Note:** Transformation files are built for the standard format.</span></span> <span data-ttu-id="316f1-207">Dans la mesure où les banques ont souvent des formats différents, vous devrez peut-être mettre à jour le fichier de transformation pour le mettre en correspondance avec votre format de relevé bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-207">Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.</span></span> <!--- For details about the expected format for MT940, see [Dynamics AX MT940 Layout](./media/dynamicsaxmt940layout1.xlsx)-->
13. <span data-ttu-id="316f1-208">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-208">Click **New**.</span></span>
14. <span data-ttu-id="316f1-209">Pour le numéro de souche 3, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **BankReconciliation-to-Composite.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-209">For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
15. <span data-ttu-id="316f1-210">Cliquez sur **Appliquer les transformations**.</span><span class="sxs-lookup"><span data-stu-id="316f1-210">Click **Apply transforms**.</span></span>

<span data-ttu-id="316f1-211">Une fois que le groupe de traitement du format est configuré, l’étape suivante consiste à définir les règles de format de relevé bancaire pour les relevés bancaires MT940.</span><span class="sxs-lookup"><span data-stu-id="316f1-211">After the format processing group is set up, the next step is to define the bank statement format rules for MT940 bank statements.</span></span>

1.  <span data-ttu-id="316f1-212">Accédez à **Gestion de la trésorerie et de la banque** &gt; **Paramétrage** &gt; **Configuration du rapprochement bancaire avancé** &gt; **Format de relevé bancaire**.</span><span class="sxs-lookup"><span data-stu-id="316f1-212">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="316f1-213">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-213">Click **New**.</span></span>
3.  <span data-ttu-id="316f1-214">Spécifiez un format de relevé, tel que **MT940**.</span><span class="sxs-lookup"><span data-stu-id="316f1-214">Specify a statement format, such as **MT940**.</span></span>
4.  <span data-ttu-id="316f1-215">Entrez un nom pour le format.</span><span class="sxs-lookup"><span data-stu-id="316f1-215">Enter a name for the format.</span></span>
5.  <span data-ttu-id="316f1-216">Définissez le champ **Groupe de traitement** sur le groupe que vous avez défini précédemment, tel que **MT940**.</span><span class="sxs-lookup"><span data-stu-id="316f1-216">Set the **Processing group** field to the group that you defined earlier, such as **MT940**.</span></span>
6.  <span data-ttu-id="316f1-217">Définissez le champ **Type de fichier** sur **txt**.</span><span class="sxs-lookup"><span data-stu-id="316f1-217">Set the **File type** field to **txt**.</span></span>

<span data-ttu-id="316f1-218">La dernière étape consiste à activer le rapprochement bancaire avancé et à définir le format de relevé sur le compte bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-218">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="316f1-219">Accédez à **Gestion de la trésorerie et de la banque** &gt; **Comptes bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-219">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="316f1-220">Sélectionnez le compte bancaire et ouvrez-le pour afficher les détails.</span><span class="sxs-lookup"><span data-stu-id="316f1-220">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="316f1-221">Sur l'onglet **Rapprochement**, définissez l'option **Rapprochement bancaire avancé** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="316f1-221">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="316f1-222">Lorsque vous êtes invité à confirmer votre sélection et à activer le rapprochement bancaire avancé, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="316f1-222">When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.</span></span>
5.  <span data-ttu-id="316f1-223">Définissez le champ **Format de relevé** sur le format que vous avez créé précédemment, tel que **MT940**.</span><span class="sxs-lookup"><span data-stu-id="316f1-223">Set the **Statement format** field to the format that you created earlier, such as **MT940**.</span></span>

## <a name="set-up-the-import-of-bai2-bank-statements"></a><span data-ttu-id="316f1-224">Paramétrer l'importation des relevés bancaires BAI2</span><span class="sxs-lookup"><span data-stu-id="316f1-224">Set up the import of BAI2 bank statements</span></span>
<span data-ttu-id="316f1-225">Tout d’abord, vous devez définir le groupe de traitement du format du relevé bancaire pour les relevés bancaires BAI2 à l’aide de l’infrastructure d’entité de données.</span><span class="sxs-lookup"><span data-stu-id="316f1-225">First, you must define the bank statement format processing group for BAI2 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="316f1-226">Accédez à **Espaces de travail** &gt; **Gestion des données**.</span><span class="sxs-lookup"><span data-stu-id="316f1-226">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="316f1-227">Cliquez sur **Importer**.</span><span class="sxs-lookup"><span data-stu-id="316f1-227">Click **Import**.</span></span>
3.  <span data-ttu-id="316f1-228">Entrez un nom pour le format, comme **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="316f1-228">Enter a name for the format, such as **BAI2**.</span></span>
4.  <span data-ttu-id="316f1-229">Définissez le champ **Format des données sources** sur **XML-Element**.</span><span class="sxs-lookup"><span data-stu-id="316f1-229">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="316f1-230">Définissez champ **Nom de l'entité** sur **Relevés bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-230">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="316f1-231">Pour télécharger les fichiers d’importation, cliquez sur **Télécharger**, puis accédez au fichier **SampleBankCompositeEntity.xml** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-231">To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="316f1-232">Une fois l’entité de relevés bancaires téléchargée et la mise en correspondance terminée, cliquez sur l'action **Afficher le mappage** pour l’entité.</span><span class="sxs-lookup"><span data-stu-id="316f1-232">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="316f1-233">L’entité de relevés bancaires est une entité composite qui se compose de quatre entités distinctes.</span><span class="sxs-lookup"><span data-stu-id="316f1-233">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="316f1-234">Dans la liste, sélectionnez **BankStatementDocumentEntity**, puis cliquez sur l'action **Afficher le mappage**.</span><span class="sxs-lookup"><span data-stu-id="316f1-234">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="316f1-235">Sous l'onglet **Transformations**, cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-235">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="316f1-236">Pour le numéro de souche 1, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **BAI2CSV-to-BAI2XML.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-236">For sequence number 1, click **Upload file**, and select the **BAI2CSV-to-BAI2XML.xslt** file that you saved earlier.</span></span>
11. <span data-ttu-id="316f1-237">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-237">Click **New**.</span></span>
12. <span data-ttu-id="316f1-238">Pour le numéro de souche 2, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **BAI2XML-to-Reconciliation.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-238">For sequence number 2, click **Upload file**, and select the **BAI2XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="316f1-239">**Remarque :** les fichiers de transformation sont générés pour le format standard.</span><span class="sxs-lookup"><span data-stu-id="316f1-239">**Note:** Transformation files are built for the standard format.</span></span> <span data-ttu-id="316f1-240">Dans la mesure où les banques ont souvent des formats différents, vous devrez peut-être mettre à jour le fichier de transformation pour le mettre en correspondance avec votre format de relevé bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-240">Because banks often diverge from this format, and you may have to update the transformation file to map to your bank statement format.</span></span> <!--- For details about the expected format for BAI2, see [Dynamics AX BAI2 Layout](./media/dynamicsaxbai2layout1.xlsx).-->
13. <span data-ttu-id="316f1-241">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-241">Click **New**.</span></span>
14. <span data-ttu-id="316f1-242">Pour le numéro de souche 3, cliquez sur **Télécharger le fichier** et sélectionnez le fichier **BankReconciliation-to-Composite.xslt** que vous avez enregistré précédemment.</span><span class="sxs-lookup"><span data-stu-id="316f1-242">For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
15. <span data-ttu-id="316f1-243">Cliquez sur **Appliquer les transformations**.</span><span class="sxs-lookup"><span data-stu-id="316f1-243">Click **Apply transforms**.</span></span>

<span data-ttu-id="316f1-244">Une fois que le groupe de traitement du format est configuré, l’étape suivante consiste à définir les règles de format de relevé bancaire pour les relevés bancaires BAI2.</span><span class="sxs-lookup"><span data-stu-id="316f1-244">After the format processing group is set up, the next step is to define the bank statement format rules for BAI2 bank statements.</span></span>

1.  <span data-ttu-id="316f1-245">Accédez à **Gestion de la trésorerie et de la banque** &gt; **Paramétrage** &gt; **Configuration du rapprochement bancaire avancé** &gt; **Format de relevé bancaire**.</span><span class="sxs-lookup"><span data-stu-id="316f1-245">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="316f1-246">Cliquez sur **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="316f1-246">Click **New**.</span></span>
3.  <span data-ttu-id="316f1-247">Spécifiez un format de relevé, tel que **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="316f1-247">Specify a statement format, such as **BAI2**.</span></span>
4.  <span data-ttu-id="316f1-248">Entrez un nom pour le format.</span><span class="sxs-lookup"><span data-stu-id="316f1-248">Enter a name for the format.</span></span>
5.  <span data-ttu-id="316f1-249">Définissez le champ **Groupe de traitement** sur le groupe que vous avez défini précédemment, tel que **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="316f1-249">Set the **Processing group** field to the group that you defined earlier, such as **BAI2**.</span></span>
6.  <span data-ttu-id="316f1-250">Définissez le champ **Type de fichier** sur **txt**.</span><span class="sxs-lookup"><span data-stu-id="316f1-250">Set the **File type** field to **txt**.</span></span>

<span data-ttu-id="316f1-251">La dernière étape consiste à activer le rapprochement bancaire avancé et à définir le format de relevé sur le compte bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-251">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="316f1-252">Accédez à **Gestion de la trésorerie et de la banque** &gt; **Comptes bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-252">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="316f1-253">Sélectionnez le compte bancaire et ouvrez-le pour afficher les détails.</span><span class="sxs-lookup"><span data-stu-id="316f1-253">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="316f1-254">Sur l'onglet **Rapprochement**, définissez l'option **Rapprochement bancaire avancé** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="316f1-254">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="316f1-255">Lorsque vous êtes invité à confirmer votre sélection et à activer le rapprochement bancaire avancé, cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="316f1-255">When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.</span></span>
5.  <span data-ttu-id="316f1-256">Définissez le champ **Format de relevé** sur le format que vous avez créé précédemment, tel que **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="316f1-256">Set the **Statement format** field to the format that you created earlier, such as **BAI2**.</span></span>

## <a name="test-the-bank-statement-import"></a><span data-ttu-id="316f1-257">Tester l'importation des relevés bancaires</span><span class="sxs-lookup"><span data-stu-id="316f1-257">Test the bank statement import</span></span>
<span data-ttu-id="316f1-258">La dernière étape consiste à tester l'importation de votre relevé bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-258">The final step is to test that you can import your bank statement.</span></span>

1.  <span data-ttu-id="316f1-259">Accédez à **Gestion de la trésorerie et de la banque** &gt; **Comptes bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-259">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="316f1-260">Sélectionnez le compte bancaire pour lequel la fonctionnalité de rapprochement bancaire avancé est activée.</span><span class="sxs-lookup"><span data-stu-id="316f1-260">Select the bank account that Advanced bank reconciliation functionality is enabled for.</span></span>
3.  <span data-ttu-id="316f1-261">Sur l'onglet **Rapprocher**, cliquez sur **Relevés bancaires**.</span><span class="sxs-lookup"><span data-stu-id="316f1-261">On the **Reconcile** tab, click **Bank statements**.</span></span>
4.  <span data-ttu-id="316f1-262">Sur la page **Relevés bancaires**, cliquez sur **Importer le relevé**.</span><span class="sxs-lookup"><span data-stu-id="316f1-262">On the **Bank statement** page, click **Import statement**.</span></span>
5.  <span data-ttu-id="316f1-263">Définissez le champ **Compte bancaire** sur le compte bancaire sélectionné.</span><span class="sxs-lookup"><span data-stu-id="316f1-263">Set the **Bank account** field to the selected bank account.</span></span> <span data-ttu-id="316f1-264">Le champ **Format du relevé** est défini automatiquement, en fonction du paramètre du compte bancaire.</span><span class="sxs-lookup"><span data-stu-id="316f1-264">The **Statement format** field will be set automatically, based on the setting on the bank account.</span></span>
6.  <span data-ttu-id="316f1-265">Cliquez sur **Parcourir**, puis sélectionnez votre fichier de relevé bancaire électronique.</span><span class="sxs-lookup"><span data-stu-id="316f1-265">Click **Browse**, and select your electronic bank statement file.</span></span>
7.  <span data-ttu-id="316f1-266">Cliquez sur **Charger**.</span><span class="sxs-lookup"><span data-stu-id="316f1-266">Click **Upload**.</span></span>
8.  <span data-ttu-id="316f1-267">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="316f1-267">Click **OK**.</span></span>

<span data-ttu-id="316f1-268">Si l’importation réussit, vous recevrez un message indiquant que votre relevé a été importé.</span><span class="sxs-lookup"><span data-stu-id="316f1-268">If the import is successful, you will receive a message that states that your statement was imported.</span></span> <span data-ttu-id="316f1-269">Si l’importation n’était pas réussie, dans l'espace de travail **Gestion des données**, dans la section **Historique des travaux**, recherchez la tâche.</span><span class="sxs-lookup"><span data-stu-id="316f1-269">If the import wasn't successful, in the **Data management** workspace, in the **Job history** section, find the job.</span></span> <span data-ttu-id="316f1-270">Cliquez sur **Détails de l’exécution** de la tâche pour ouvrir la page **Résumé d’exécution**, puis cliquez sur **Afficher le journal d’exécution** pour afficher les erreurs d’importation.</span><span class="sxs-lookup"><span data-stu-id="316f1-270">Click **Execution details** for the job to open the **Execution summary** page, and then click **View execution log** to view the import errors.</span></span>



