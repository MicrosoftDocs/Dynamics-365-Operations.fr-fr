---
title: Suivez l'exécution du format d'ER pour résoudre les problèmes de performances
description: Cette rubrique fournit des informations sur l'utilisation de la fonctionnalité de suivi des performances dans la gestion des états électroniques (ER) pour résoudre les problèmes de performances.
author: NickSelin
manager: AnnBe
ms.date: 06/12/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 220314
ms.assetid: 2685df16-5ec8-4fd7-9495-c0f653e82567
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.1
ms.openlocfilehash: 97511e23f0ea2842e625799c0a2c1e51b5832feb
ms.sourcegitcommit: 3ba95d50b8262fa0f43d4faad76adac4d05eb3ea
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/27/2019
ms.locfileid: "2182138"
---
# <a name="trace-the-execution-of-er-formats-to-troubleshoot-performance-issues"></a><span data-ttu-id="ae761-103">Suivez l'exécution des formats d'ER pour résoudre les problèmes de performances</span><span class="sxs-lookup"><span data-stu-id="ae761-103">Trace the execution of ER formats to troubleshoot performance issues</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="ae761-104">Dans le cadre du processus de concevoir des configurations de gestion des états électroniques (ER) pour générer des documents électroniques, vous définissez la méthode utilisée pour obtenir des données de l'application et pour les entrer dans la sortie qui est générée.</span><span class="sxs-lookup"><span data-stu-id="ae761-104">As part of the process of designing Electronic reporting (ER) configurations to generate electronic documents, you define the method that is used to get data out of the application and enter it in the output that is generated.</span></span> <span data-ttu-id="ae761-105">La fonctionnalité de suivi des performances ER réduit considérablement le temps et les coûts impliquées dans la collecte les détails de l'exécution du format ER et dans leur utilisation pour résoudre les problèmes de performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-105">The ER performance trace feature helps significantly reduce the time and cost that are involved in collecting the details of ER format execution and using them to troubleshoot performance issues.</span></span> <span data-ttu-id="ae761-106">Ce didacticiel fournit des instructions sur la procédure sur le suivi des performances pour des formats ER exécutés, et sur l'utilisation des informations de ce suivi pour améliorer les performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-106">This tutorial provides guidelines about how to take performance traces for executed ER formats, and how to use the information from these traces to help improve performance.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ae761-107">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="ae761-107">Prerequisites</span></span>

<span data-ttu-id="ae761-108">Pour exécuter les exemples décrits dans ce didacticiel, vous devez disposer de l'accès suivant :</span><span class="sxs-lookup"><span data-stu-id="ae761-108">To complete the examples in this tutorial, you must have the following access:</span></span>

- <span data-ttu-id="ae761-109">Accédez à l'un des rôles suivants :</span><span class="sxs-lookup"><span data-stu-id="ae761-109">Access to one of the following roles:</span></span>

    - <span data-ttu-id="ae761-110">Développeur d'états électroniques</span><span class="sxs-lookup"><span data-stu-id="ae761-110">Electronic reporting developer</span></span>
    - <span data-ttu-id="ae761-111">Consultant fonctionnel des états électroniques</span><span class="sxs-lookup"><span data-stu-id="ae761-111">Electronic reporting functional consultant</span></span>
    - <span data-ttu-id="ae761-112">Administrateur système</span><span class="sxs-lookup"><span data-stu-id="ae761-112">System administrator</span></span>

- <span data-ttu-id="ae761-113">Accès à l'instance de Regulatory Configuration Service (RCS) qui a été mise en service pour le même locataire que l'application, pour un des rôles suivants :</span><span class="sxs-lookup"><span data-stu-id="ae761-113">Access to the instance of Regulatory Configuration Services (RCS) that has been provisioned for the same tenant as the application, for one of the following roles:</span></span>

    - <span data-ttu-id="ae761-114">Développeur d'états électroniques</span><span class="sxs-lookup"><span data-stu-id="ae761-114">Electronic reporting developer</span></span>
    - <span data-ttu-id="ae761-115">Consultant fonctionnel des états électroniques</span><span class="sxs-lookup"><span data-stu-id="ae761-115">Electronic reporting functional consultant</span></span>
    - <span data-ttu-id="ae761-116">Administrateur système</span><span class="sxs-lookup"><span data-stu-id="ae761-116">System administrator</span></span>

<span data-ttu-id="ae761-117">Vous devez également télécharger et localement enregistrer les fichiers suivants.</span><span class="sxs-lookup"><span data-stu-id="ae761-117">You must also download and locally store the following files.</span></span>

| <span data-ttu-id="ae761-118">Fichier</span><span class="sxs-lookup"><span data-stu-id="ae761-118">File</span></span>                                  | <span data-ttu-id="ae761-119">Contenu</span><span class="sxs-lookup"><span data-stu-id="ae761-119">Content</span></span>                               |
|---------------------------------------|---------------------------------------|
| <span data-ttu-id="ae761-120">Suivi des performances model.version.1</span><span class="sxs-lookup"><span data-stu-id="ae761-120">Performance trace model.version.1</span></span>     | [<span data-ttu-id="ae761-121">Exemple de configuration de modèle de données ER</span><span class="sxs-lookup"><span data-stu-id="ae761-121">Sample ER data model configuration</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg)    |
| <span data-ttu-id="ae761-122">Suivi des performances metadata.version.1</span><span class="sxs-lookup"><span data-stu-id="ae761-122">Performance trace metadata.version.1</span></span>  | [<span data-ttu-id="ae761-123">Exemple de configuration de métadonnées ER</span><span class="sxs-lookup"><span data-stu-id="ae761-123">Sample ER metadata configuration</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg)      |
| <span data-ttu-id="ae761-124">Suivi des performances mapping.version.1</span><span class="sxs-lookup"><span data-stu-id="ae761-124">Performance trace mapping.version.1.1</span></span> | [<span data-ttu-id="ae761-125">Exemple de configuration de mappage de modèles ER</span><span class="sxs-lookup"><span data-stu-id="ae761-125">Sample ER model mapping configuration</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="ae761-126">Suivi des performances format.version.1</span><span class="sxs-lookup"><span data-stu-id="ae761-126">Performance trace format.version.1.1</span></span>  | [<span data-ttu-id="ae761-127">Exemple de configuration de format ER</span><span class="sxs-lookup"><span data-stu-id="ae761-127">Sample ER format configuration</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg)       |

### <a name="configure-er-parameters"></a><span data-ttu-id="ae761-128">Configurer les paramètres ER</span><span class="sxs-lookup"><span data-stu-id="ae761-128">Configure ER parameters</span></span>

<span data-ttu-id="ae761-129">Chaque suivi des performances ER généré dans l'application est enregistré comme pièce jointe de l'enregistrement de journal d'exécution.</span><span class="sxs-lookup"><span data-stu-id="ae761-129">Each ER performance trace that is generated in the application is stored as an attachment of the execution log record.</span></span> <span data-ttu-id="ae761-130">Le cadre de Gestion des documents est utilisé pour traiter ces pièces jointes.</span><span class="sxs-lookup"><span data-stu-id="ae761-130">The Document management (DM) framework is used to manage these attachments.</span></span> <span data-ttu-id="ae761-131">Vous devez configurer les paramètres ER à l'avance, pour spécifier le type de document de Gestion des documents qui doit être utilisé pour associer les suivis des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-131">You must configure ER parameters in advance, to specify the DM document type that should be used to attach performance traces.</span></span> <span data-ttu-id="ae761-132">Dans l'espace de travail **Génération des états électroniques**, sélectionnez **Paramètres de gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="ae761-132">In the **Electronic reporting** workspace, select **Electronic reporting parameters**.</span></span> <span data-ttu-id="ae761-133">Puis, dans la page **Paramètres de la gestion des états électroniques**, sous l'onglet **Pièces jointes**, dans le champ **Autres**, sélectionnez le type de document de Gestion des documents à utiliser pour les suivis des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-133">Then, on the **Electronic reporting parameters** page, on the **Attachments** tab, in the **Others** field, select the DM document type to use for performance traces.</span></span>

![Page Paramètres de la gestion des états électroniques](./media/GER-PerfTrace-GER-Parameters-DocumentType.png)

<span data-ttu-id="ae761-135">Pour être disponible dans le champ de recherche **Autres**, un type de document de gestion des documents doit être configuré de la façon suivante dans la page **Types de documents** (**Administration d'organisation \> Gestion des documents \> Types de document**) :</span><span class="sxs-lookup"><span data-stu-id="ae761-135">To be available in the **Others** lookup field, a DM document type must be configured in the following manner on the **Document types** page (**Organization administration \> Document management \> Document types**):</span></span>

- <span data-ttu-id="ae761-136">**Classe** : Associer un fichier</span><span class="sxs-lookup"><span data-stu-id="ae761-136">**Class:** Attach file</span></span>
- <span data-ttu-id="ae761-137">**Groupe :** Fichier</span><span class="sxs-lookup"><span data-stu-id="ae761-137">**Group:** File</span></span>

![Page Types de documents](./media/GER-PerfTrace-DM-DocumentType.png)

> [!NOTE]
> <span data-ttu-id="ae761-139">Le type de document sélectionné doit être disponible dans chaque société de l'instance actuelle, car les pièces jointes de gestion des documents sont spécifiques à la société.</span><span class="sxs-lookup"><span data-stu-id="ae761-139">The selected document type must be available in every company of the current instance, because DM attachments are company-specific.</span></span>

### <a name="configure-rcs-parameters"></a><span data-ttu-id="ae761-140">Configurer les paramètres RCS</span><span class="sxs-lookup"><span data-stu-id="ae761-140">Configure RCS parameters</span></span>

<span data-ttu-id="ae761-141">Les suivis des performances ER générés sont importées dans RCS pour analyse à l'aide du concepteur de format ER et du concepteur de mise en correspondance ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-141">ER performance traces that are generated will be imported into RCS for analysis by using the ER format designer and the ER mapping designer.</span></span> <span data-ttu-id="ae761-142">Comme les suivis des performances ER sont stockées en tant que pièces jointes de l'enregistrement de journal d'exécution associé au format ER, vous devez configurer les paramètres RCS à l'avance, pour spécifier le type de document de gestion des documents qui doit être utilisé pour associer les suivis des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-142">Because ER performance traces are stored as attachments of the execution log record that is related to the ER format, you must configure RCS parameters in advance, to specify the DM document type that should be used to attach performance traces.</span></span> <span data-ttu-id="ae761-143">Dans l'instance de RCS qui a été mise en service dans votre société, dans l'espace de travail **Génération d'états électronique**, sélectionnez **Paramètres de la gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="ae761-143">In the instance of RCS that has been provisioned for your company, in the **Electronic reporting** workspace, select **Electronic reporting parameters**.</span></span> <span data-ttu-id="ae761-144">Puis, dans la page **Paramètres de la gestion des états électroniques**, sous l'onglet **Pièces jointes**, dans le champ **Autres**, sélectionnez le type de document de Gestion des documents à utiliser pour les suivis des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-144">Then, on the **Electronic reporting parameters** page, on the **Attachments** tab, in the **Others** field, select the DM document type to use for performance traces.</span></span>

![Page Paramètres de la gestion des états électroniques dans RCS](./media/GER-PerfTrace-RCS-Parameters-DocumentType.png)

<span data-ttu-id="ae761-146">Pour être disponible dans le champ de recherche **Autres**, un type de document de gestion des documents doit être configuré de la façon suivante dans la page **Types de documents** (**Administration d'organisation \> Gestion des documents \> Types de document**) :</span><span class="sxs-lookup"><span data-stu-id="ae761-146">To be available in the **Others** lookup field, a DM document type must be configured in the following manner on the **Document types** page (**Organization administration \> Document management \> Document types**):</span></span>

- <span data-ttu-id="ae761-147">**Classe** : Associer un fichier</span><span class="sxs-lookup"><span data-stu-id="ae761-147">**Class:** Attach file</span></span>
- <span data-ttu-id="ae761-148">**Groupe :** Fichier</span><span class="sxs-lookup"><span data-stu-id="ae761-148">**Group:** File</span></span>

## <a name="design-an-er-solution"></a><span data-ttu-id="ae761-149">Conception d'une solution ER</span><span class="sxs-lookup"><span data-stu-id="ae761-149">Design an ER solution</span></span>

<span data-ttu-id="ae761-150">Supposons que vous avez commencé à créer une solution ER pour générer un nouvel état qui affiche les transactions fournisseur.</span><span class="sxs-lookup"><span data-stu-id="ae761-150">Assume that you've started to design a new ER solution to generate a new report that presents vendor transactions.</span></span> <span data-ttu-id="ae761-151">Actuellement, vous pouvez trouver les transactions d'un fournisseur sélectionné dans la page **Transactions fournisseur** (accédez à **Comptabilité fournisseur \> Fournisseurs \> Tous les fournisseurs**, sélectionnez un fournisseur, puis, dans le volet Actions, sous l'onglet **Fournisseur**, dans le groupe **Transactions**, sélectionnez **Transactions**).</span><span class="sxs-lookup"><span data-stu-id="ae761-151">Currently, you can find the transactions for a selected vendor on the **Vendor transactions** page (go to **Account payable \> Vendors \> All vendors**, select a vendor, and then, on the Action Pane, on the **Vendor** tab, in the **Transactions** group, select **Transactions**).</span></span> <span data-ttu-id="ae761-152">Toutefois, vous souhaitez avoir toutes les transactions fournisseur en même temps dans un document électronique au format XML.</span><span class="sxs-lookup"><span data-stu-id="ae761-152">However, you want to have all vendor transaction at the same time in one electronic document in XML format.</span></span> <span data-ttu-id="ae761-153">Cette solution se composera de plusieurs configurations ER contenant le modèle de données requis, les métadonnées, la mise en correspondance de modèles, et les composants de format.</span><span class="sxs-lookup"><span data-stu-id="ae761-153">This solution will consist of several ER configurations that contain the required data model, metadata, model mapping, and format components.</span></span>

1. <span data-ttu-id="ae761-154">Connectez-vous à l'instance de RCS qui a été mise en service dans votre société.</span><span class="sxs-lookup"><span data-stu-id="ae761-154">Sign in to the instance of RCS that has been provisioned for your company.</span></span>
2. <span data-ttu-id="ae761-155">Dans ce didacticiel, vous créerez et modifierez les configurations pour la société fictive, **Litware, Inc**.</span><span class="sxs-lookup"><span data-stu-id="ae761-155">In this tutorial, you will create and modify configurations for the **Litware, Inc.** sample company.</span></span> <span data-ttu-id="ae761-156">Par conséquent, veillez à ce que ce fournisseur de configuration ait été ajouté à RCS et sélectionné comme actif.</span><span class="sxs-lookup"><span data-stu-id="ae761-156">Therefore, make sure that this configuration provider has been added to RCS and selected as active.</span></span> <span data-ttu-id="ae761-157">Pour obtenir des instructions, voir la procédure [Créer des fournisseurs de configuration et les marquer comme actif](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/tasks/er-configuration-provider-mark-it-active-2016-11).</span><span class="sxs-lookup"><span data-stu-id="ae761-157">For instructions, see the [Create configuration providers and mark them as active](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/tasks/er-configuration-provider-mark-it-active-2016-11) procedure.</span></span>
3. <span data-ttu-id="ae761-158">Dans l'espace de travail **Génération des états électronique**, sélectionnez la vignette **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="ae761-158">In the **Electronic reporting** workspace, select the **Reporting configurations** tile.</span></span>
4. <span data-ttu-id="ae761-159">Dans la page **Configurations**, importez les configurations ER que vous avez téléchargées comme condition préalable dans RCS, dans l'ordre suivant : modèle de données, métadonnées, mise en correspondance modèles, format.</span><span class="sxs-lookup"><span data-stu-id="ae761-159">On the **Configurations** page, import the ER configurations that you downloaded as a prerequisite into RCS, in the following order: data model, metadata, model mapping, format.</span></span> <span data-ttu-id="ae761-160">Pour chaque configuration, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="ae761-160">For each configuration, follow these steps:</span></span>

    1. <span data-ttu-id="ae761-161">Sur le volet Action, sélectionnez **Exchange \> Charger depuis le fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="ae761-161">On the Action Pane, select **Exchange \> Load from XML file**.</span></span>
    2. <span data-ttu-id="ae761-162">Sélectionnez **Parcourir** pour sélectionner le fichier approprié pour la configuration ER requise ER au format XML.</span><span class="sxs-lookup"><span data-stu-id="ae761-162">Select **Browse** to select the appropriate file for the required ER configuration in XML format.</span></span>
    3. <span data-ttu-id="ae761-163">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ae761-163">Select **OK**.</span></span>

    ![Page Configurations dans RCS](./media/GER-PerfTrace-RCS-ImportedConfigurations.png)

## <a name="run-the-er-solution-to-trace-execution"></a><span data-ttu-id="ae761-165">Exécutez la solution ER pour suivre l'exécution</span><span class="sxs-lookup"><span data-stu-id="ae761-165">Run the ER solution to trace execution</span></span>

<span data-ttu-id="ae761-166">Supposons que vous avez terminé de configurer la première version de la solution ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-166">Assume that you've finished designing the first version of the ER solution.</span></span> <span data-ttu-id="ae761-167">Vous souhaitez à présent la tester dans l'instance et analyser les performances d'exécution.</span><span class="sxs-lookup"><span data-stu-id="ae761-167">You now want to test it in your instance and analyze execution performance.</span></span>

### <a id='import-configuration'></a><span data-ttu-id="ae761-168">Importer une configuration ER de RCS dans Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="ae761-168">Import an ER configuration from RCS into Finance and Operations</span></span>

1. <span data-ttu-id="ae761-169">Connectez-vous à votre instance d'application.</span><span class="sxs-lookup"><span data-stu-id="ae761-169">Sign in to your application instance.</span></span>
2. <span data-ttu-id="ae761-170">Pour ce didacticiel, vous importez des configurations de votre instance de RCS (dans laquelle vous concevez vos composants ER) vers l'instance (dans laquelle vous les utilisez et enfin vous les testez).</span><span class="sxs-lookup"><span data-stu-id="ae761-170">For this tutorial, you will import configurations from your RCS instance (where you design your ER components) into your instance (where you test and finally use them).</span></span> <span data-ttu-id="ae761-171">Par conséquent, vous devez vous assurer que les artefacts requis ont été préparés.</span><span class="sxs-lookup"><span data-stu-id="ae761-171">Therefore, you must make sure that all the required artifacts have been prepared.</span></span> <span data-ttu-id="ae761-172">Pour plus d'instructions, voir la procédure [Importer les configurations des états électroniques (ER) depuis Regulatory Configuration Service (RCS)](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/rcs-download-configurations).</span><span class="sxs-lookup"><span data-stu-id="ae761-172">For instructions, see the [Import Electronic reporting (ER) configurations from Regulatory Configuration Services (RCS)](https://docs.microsoft.com/dynamics365/unified-operations/dev-itpro/analytics/rcs-download-configurations) procedure.</span></span>
3. <span data-ttu-id="ae761-173">Procédez comme suit pour importer les configurations de RCS vers l'application :</span><span class="sxs-lookup"><span data-stu-id="ae761-173">Follow these steps to import the configurations from RCS into the application:</span></span>

    1. <span data-ttu-id="ae761-174">Dans l'espace de travail **Génération d'états électroniques**, sur la vignette du fournisseur de configuration **Litware, Inc.**, sélectionnez **Référentiels**.</span><span class="sxs-lookup"><span data-stu-id="ae761-174">In the **Electronic reporting** workspace, on the tile for the **Litware, Inc.** configuration provider, select **Repositories**.</span></span>
    2. <span data-ttu-id="ae761-175">Sur la page **Référentiel de configuration**, sélectionnez le référentiel de type **RCS**, puis sélectionnez **Ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="ae761-175">On the **Configuration repository** page, select the repository of the **RCS** type, and then select **Open**.</span></span>
    3. <span data-ttu-id="ae761-176">Dans l'organisateur **Configurations**, sélectionnez la configuration **Format de suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-176">On the **Configurations** FastTab, select the **Performance trace format** configuration.</span></span>
    4. <span data-ttu-id="ae761-177">Dans l'organisateur **Versions**, sélectionnez la version **1.1** de la configuration sélectionnée, puis sélectionnez **Importer**.</span><span class="sxs-lookup"><span data-stu-id="ae761-177">On the **Versions** FastTab, select version **1.1** of the selected configuration, and then select **Import**.</span></span>

    ![Page du référentiel de configuration](./media/GER-PerfTrace-GER-ImportedConfigurations.png)

<span data-ttu-id="ae761-179">Les versions correspondantes des configurations de modèle de données et de mise en correspondance de modèle sont importées automatiquement comme conditions préalables à la configuration de format ER importée.</span><span class="sxs-lookup"><span data-stu-id="ae761-179">The corresponding versions of the data model and model mapping configurations are automatically imported as prerequisites for the imported ER format configuration.</span></span>

### <a name="turn-on-the-er-performance-trace"></a><span data-ttu-id="ae761-180">Activer les performances de suivi ER</span><span class="sxs-lookup"><span data-stu-id="ae761-180">Turn on the ER performance trace</span></span>

1. <span data-ttu-id="ae761-181">Accédez à **Administration d'organisation \> États électroniques \> Configurations**.</span><span class="sxs-lookup"><span data-stu-id="ae761-181">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
2. <span data-ttu-id="ae761-182">Dans la page **Configurations**, dans le volet Actions, sous l'onglet **Configurations**, dans le groupe **Paramètres avancés**, sélectionnez **Paramètres utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="ae761-182">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="ae761-183">Dans la boîte de dialogue **Paramètres utilisateur**, dans la section **Suivi d'exécution**, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="ae761-183">In the **User parameters** dialog box, in the **Execution tracing** section, follow these steps:</span></span>

    1. <span data-ttu-id="ae761-184">Dans le champ **Format du suivi de l'exécution**, sélectionnez **Déboguer le format de suivi** pour commencer à collecter les détails de l'exécution de format ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-184">In the **Execution trace format** field, select **Debug trace format** to start to collect the details of ER format execution.</span></span> <span data-ttu-id="ae761-185">Lorsque cette valeur est activée, le suivi des performances collecte des informations sur le temps passé sur les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="ae761-185">When this value is selected, the performance trace will collect information about the time that is spent on the following actions:</span></span>

        - <span data-ttu-id="ae761-186">Exécution de chaque source de données dans la mise en correspondance de modèle appelée pour obtenir des données</span><span class="sxs-lookup"><span data-stu-id="ae761-186">Running each data source in the model mapping that is called to get data</span></span>
        - <span data-ttu-id="ae761-187">Traitement de chaque élément de format pour entrer des données dans la sortie qui est générée</span><span class="sxs-lookup"><span data-stu-id="ae761-187">Processing each format item to enter data in the output that is generated</span></span>

        <span data-ttu-id="ae761-188">Vous utilisez le champ **Format du suivi de l'exécution** pour spécifier le format du suivi des performances généré dans lequel les détails de l'exécution sont enregistrés pour les éléments de format et de mise en correspondance ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-188">You use the **Execution trace format** field to specify the format of the generated performance trace that the execution details are stored in for ER format and mapping elements.</span></span> <span data-ttu-id="ae761-189">En sélectionnant **Déboguer le format de suivi** comme valeur, vous pourrez analyser le contenu du suivi dans le Concepteur d'opération ER, puis consultez les éléments de format ou de mise en correspondance ER mentionnés dans le suivi.</span><span class="sxs-lookup"><span data-stu-id="ae761-189">By selecting **Debug trace format** as the value, you will be able to analyze the content of the trace in ER Operation designer, and see the ER format or mapping elements that are mentioned in the trace.</span></span>

    2. <span data-ttu-id="ae761-190">Définissez les options suivantes sur **Oui** pour collecter les détails spécifiques de l'exécution des composants de mise en correspondance de modèle ER et de format ER :</span><span class="sxs-lookup"><span data-stu-id="ae761-190">Set the following options to **Yes** to collect specific details of the execution of the ER model mapping and ER format components:</span></span>

        - <span data-ttu-id="ae761-191">**Collecter les statistiques sur les requêtes** – Lorsque cette option est activée, le suivi des performances collecte les informations suivantes :</span><span class="sxs-lookup"><span data-stu-id="ae761-191">**Collect query statistics** – When this option is turned on, the performance trace will collect the following information:</span></span>

            - <span data-ttu-id="ae761-192">Nombre d'appels de base de données effectués par des sources de données</span><span class="sxs-lookup"><span data-stu-id="ae761-192">The number of database calls that were made by data sources</span></span>
            - <span data-ttu-id="ae761-193">Nombre d'appels en double à la base de données</span><span class="sxs-lookup"><span data-stu-id="ae761-193">The number of duplicate calls to the database</span></span>
            - <span data-ttu-id="ae761-194">Détails des instructions SQL utilisées pour les appels de base de données</span><span class="sxs-lookup"><span data-stu-id="ae761-194">Details of the SQL statements that were used to make database calls</span></span>

        - <span data-ttu-id="ae761-195">**Suivre l'accès de la mise en cache** – Lorsque cette option est activée, le suivi des performances collecte des informations sur l'utilisation du cache de la mise en correspondance de modèle ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-195">**Trace access of caching** – When this option is turned on, the performance trace will collect information about the ER model mapping's cache usage.</span></span>
        - <span data-ttu-id="ae761-196">**Suivre l'accès aux données** – Lorsque cette option est activée, le suivi des performances collecte des informations sur le nombre d'appels à la base de données pour les sources de données exécutées de type de liste d'enregistrements.</span><span class="sxs-lookup"><span data-stu-id="ae761-196">**Trace data access** – When this option is turned on, the performance trace will collect information about the number of calls to the database for executed data sources of the record list type.</span></span>
        - <span data-ttu-id="ae761-197">**Énumération de la liste de suivi** – Lorsque cette option est activée, le suivi des performances collecte des informations sur le nombre d'enregistrements demandés à la base de données pour les sources de données exécutées de type de liste d'enregistrements.</span><span class="sxs-lookup"><span data-stu-id="ae761-197">**Trace list enumeration** – When this option is turned on, the performance trace will collect information about the number of records that are requested from data sources of the record list type.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ae761-198">Les paramètres dans la boîte de dialogue **Paramètres utilisateur** sont spécifiques à l'utilisateur et à la société actuelle.</span><span class="sxs-lookup"><span data-stu-id="ae761-198">The parameters in the **User parameters** dialog box are specific to the user and the current company.</span></span>

    ![Boîte de dialogue Paramètres utilisateur](./media/GER-PerfTrace-GER-UserParameters.png)

### <a id='run-format'></a><span data-ttu-id="ae761-200">Exécuter le format ER</span><span class="sxs-lookup"><span data-stu-id="ae761-200">Run the ER format</span></span>

1. <span data-ttu-id="ae761-201">Sélectionnez la société **DEMF**.</span><span class="sxs-lookup"><span data-stu-id="ae761-201">Select the **DEMF** company.</span></span>
2. <span data-ttu-id="ae761-202">Accédez à **Administration d'organisation \> États électroniques \> Configurations**.</span><span class="sxs-lookup"><span data-stu-id="ae761-202">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
3. <span data-ttu-id="ae761-203">Sur la page **Configurations**, dans l'arborescence de configuration, sélectionnez l'élément **Format de suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-203">On the **Configurations** page, in the configuration tree, select the **Performance trace format** item.</span></span>
4. <span data-ttu-id="ae761-204">Dans le volet Actions, sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="ae761-204">On the Action Pane, select **Run**.</span></span>

<span data-ttu-id="ae761-205">Notez que le fichier qui est généré présente des informations sur 265 transactions pour six fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="ae761-205">Notice that the file that is generated presents information about 265 transactions for six vendors.</span></span>

## <a name="review-the-execution-trace"></a><span data-ttu-id="ae761-206">Examiner le suivi de l'exécution</span><span class="sxs-lookup"><span data-stu-id="ae761-206">Review the execution trace</span></span>

### <a id='export-trace'></a><span data-ttu-id="ae761-207">Exporter le suivi généré depuis l'application</span><span class="sxs-lookup"><span data-stu-id="ae761-207">Export the generated trace from the application</span></span>

<span data-ttu-id="ae761-208">Les suivis des performances ci-dessous sont découplés du format ER source et peuvent être sérialisés dans un fichier zip externe.</span><span class="sxs-lookup"><span data-stu-id="ae761-208">Performance traces are decoupled from the source ER format and can be serialized to an external zip file.</span></span>

1. <span data-ttu-id="ae761-209">Accédez à **Administration d'organisation \> États électroniques \> Journaux de débogage des configurations**.</span><span class="sxs-lookup"><span data-stu-id="ae761-209">Go to **Organization administration \> Electronic reporting \> Configuration debug logs**.</span></span>
2. <span data-ttu-id="ae761-210">Dans la page **Journaux d'exécution d'états électroniques**, dans le volet gauche, dans le champ **Nom de la configuration**, sélectionnez **Format de suivi des performances** pour rechercher les enregistrements de journal générés par l'exécution de la configuration **Format de suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-210">On the **Electronic reporting run logs** page, in the left pane, in the **Configuration name** field, select **Performance trace format** to find the log records that have been generated by the execution of the **Performance trace format** configuration.</span></span>
3. <span data-ttu-id="ae761-211">Sélectionnez le bouton **Pièces jointes** (le symbole du trombone) dans le coin supérieur droit de la page, ou appuyez sur **Ctrl+Maj+A**.</span><span class="sxs-lookup"><span data-stu-id="ae761-211">Select the **Attachments** button (the paper clip symbol) in the upper-right corner of the page, or press **Ctrl+Shift+A**.</span></span>

    ![Bouton Pièces jointes sur la page Journaux d'exécution d'états électronique](./media/GER-PerfTrace-GER-DebugLog.png)

4. <span data-ttu-id="ae761-213">Dans la page **Documents joints des journaux d'exécution d'états électroniques**, dans le volet Actions, sélectionnez **Ouvrir** pour obtenir le suivi des performances comme fichier zip et l'enregistrer localement.</span><span class="sxs-lookup"><span data-stu-id="ae761-213">On the **Attachments for Electronic reporting run logs** page, on the Action Pane, select **Open** to get the performance trace as a zip file and store it locally.</span></span>

    ![Pièces jointes pour les journaux d'exécution des états électroniques](./media/GER-PerfTrace-GER-DebugLog-AttachedTrace.png)

> [!NOTE]
> <span data-ttu-id="ae761-215">Le suivi généré a une référence à l'état ER source via un identificateur d'état unique au format **GUID** uniquement.</span><span class="sxs-lookup"><span data-stu-id="ae761-215">The trace that is generated has a reference to the source ER report via a unique report identifier in **GUID** format only.</span></span> <span data-ttu-id="ae761-216">La numérotation de version du format n'est pas prise en compte.</span><span class="sxs-lookup"><span data-stu-id="ae761-216">The version numbering of the format isn't considered.</span></span>

<span data-ttu-id="ae761-217">Notez que l'association entre le suivi des performances généré pour le format ER exécuté et la mise en correspondance de modèle ER est basée sur le descripteur racine utilisé et le modèle de données commun.</span><span class="sxs-lookup"><span data-stu-id="ae761-217">Notice that the association between the performance trace that has been generated for the executed ER format and the ER model mapping is based on the root descriptor that was used and the common data model.</span></span> <span data-ttu-id="ae761-218">La numérotation de version du format et la mise en correspondance de modèle n'est pas prise en compte.</span><span class="sxs-lookup"><span data-stu-id="ae761-218">The version numbering of the format and model mapping isn't considered.</span></span> <span data-ttu-id="ae761-219">Le paramètre de l'indicateur **Valeur par défaut de la mise en correspondance de modèle** pour la mise en correspondance de modèle n'est également pas pris en considération.</span><span class="sxs-lookup"><span data-stu-id="ae761-219">The setting of the **Default for model mapping** flag for the model mapping also isn't considered.</span></span>

### <a id='import-trace'></a><span data-ttu-id="ae761-220">Importer le suivi généré dans RCS</span><span class="sxs-lookup"><span data-stu-id="ae761-220">Import the generated trace into RCS</span></span>

1. <span data-ttu-id="ae761-221">Dans RCS, dans l'espace de travail **Génération des états électronique**, sélectionnez la vignette **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="ae761-221">In RCS, in the **Electronic reporting** workspace, select the **Reporting configurations** tile.</span></span>
2. <span data-ttu-id="ae761-222">Dans la page **Configurations**, dans l'arborescence de configuration, développez l'élément **Modèle de suivi des performances**, puis sélectionnez l'élément **Format du suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-222">On the **Configurations** page, in the configuration tree, expand the **Performance trace model** item, and select the **Performance trace format** item.</span></span>
3. <span data-ttu-id="ae761-223">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="ae761-223">On the Action Pane, select **Designer**.</span></span>
4. <span data-ttu-id="ae761-224">Sur la page **Concepteur de formats**, sur le volet Actions, sélectionnez **Suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-224">On the **Format designer** page, on the Action Pane, select **Performance trace**.</span></span>
5. <span data-ttu-id="ae761-225">Dans la boîte de dialogue **Paramètres des résultats du sui des performances**, sélectionnez **Importer le suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-225">In the **Performance trace result settings** dialog box, select **Import performance trace**.</span></span>
6. <span data-ttu-id="ae761-226">Sélectionnez **Parcourir**, puis sélectionnez le fichier compressé que vous exporté précédemment.</span><span class="sxs-lookup"><span data-stu-id="ae761-226">Select **Browse** to select the zip file that you exported earlier.</span></span>
7. <span data-ttu-id="ae761-227">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ae761-227">Select **OK**.</span></span>

    ![Boîte de dialogue Paramètres des résultats du suivi des performances dans RCS](./media/GER-PerfTrace-RCS-ImportedPerfTrace.png)

### <a name="use-the-performance-trace-for-analysis-in-rcs--format-execution"></a><span data-ttu-id="ae761-229">Utilisez le suivi des performances à des fins d'analyse dans RCS – Exécution du format</span><span class="sxs-lookup"><span data-stu-id="ae761-229">Use the performance trace for analysis in RCS – Format execution</span></span>

1. <span data-ttu-id="ae761-230">Dans RCS, dans la page **Concepteur de formats**, sélectionnez **Développer/réduire** pour développer le contenu de tous les éléments de format.</span><span class="sxs-lookup"><span data-stu-id="ae761-230">In RCS, on the **Format designer** page, select **Expand/collapse** to expand the content of all format items.</span></span>

    <span data-ttu-id="ae761-231">Notez que des informations supplémentaires sont affichées pour certains éléments du format actuel :</span><span class="sxs-lookup"><span data-stu-id="ae761-231">Notice that additional information is shown for some items of the current format:</span></span>

    - <span data-ttu-id="ae761-232">Le temps réel consacré à la saisie de données dans la sortie générée à l'aide de l'élément de format</span><span class="sxs-lookup"><span data-stu-id="ae761-232">The actual time that was spent entering data in the generated output by using the format item</span></span>
    - <span data-ttu-id="ae761-233">Le même temps exprimé en pourcentage du temps total consacré à la génération de l'ensemble de la sortie</span><span class="sxs-lookup"><span data-stu-id="ae761-233">The same time expressed as a percentage of the total time that was spent generating the whole output</span></span>

    ![Page Concepteur de formats dans RCS](./media/GER-PerfTrace-RCS-TraceInfoInFormat.png)

2. <span data-ttu-id="ae761-235">Fermez la page **Concepteur de formats**.</span><span class="sxs-lookup"><span data-stu-id="ae761-235">Close **Format designer** page.</span></span>

### <a id='use-trace'></a><span data-ttu-id="ae761-236">Utilisez le suivi des performances à des fins d'analyse dans RCS – Mise en correspondance de modèle</span><span class="sxs-lookup"><span data-stu-id="ae761-236">Use the performance trace for analysis in RCS – Model mapping</span></span>

1. <span data-ttu-id="ae761-237">Dans RCS, sur la page **Configurations**, dans l'arborescence de configuration, sélectionnez l'élément **Mise en correspondance de suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-237">In RCS, on the **Configurations** page, in the configuration tree, select the **Performance trace mapping** item.</span></span>
2. <span data-ttu-id="ae761-238">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="ae761-238">On the Action Pane, select **Designer**.</span></span>
3. <span data-ttu-id="ae761-239">Sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="ae761-239">Select **Designer**.</span></span>
4. <span data-ttu-id="ae761-240">Sur la page **Concepteur de mise en correspondance des modèles**, sur le volet Actions, sélectionnez **Suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-240">On the **Model mapping designer** page, on the Action Pane, select **Performance trace**.</span></span>
5. <span data-ttu-id="ae761-241">Sélectionnez le suivi que vous avez importé précédemment.</span><span class="sxs-lookup"><span data-stu-id="ae761-241">Select the trace that you imported earlier.</span></span>
6. <span data-ttu-id="ae761-242">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ae761-242">Select **OK**.</span></span>

<span data-ttu-id="ae761-243">Notez que les nouvelles informations deviennent disponibles pour certains éléments de la source de données de la mise en correspondance de modèles actuelle :</span><span class="sxs-lookup"><span data-stu-id="ae761-243">Notice that new information becomes available for some data source items of the current model mapping:</span></span>

- <span data-ttu-id="ae761-244">Le temps réel consacré à obtenir des données à l'aide de la source de données</span><span class="sxs-lookup"><span data-stu-id="ae761-244">The actual time that was spent getting data by using the data source</span></span>
- <span data-ttu-id="ae761-245">Le même temps exprimé en pourcentage du temps total consacré à l'exécution de l'ensemble de la mise en correspondance de modèles</span><span class="sxs-lookup"><span data-stu-id="ae761-245">The same time expressed as a percentage of the total time that was spent running the whole model mapping</span></span>

<span data-ttu-id="ae761-246">Notez que ER vous indique que la mise en correspondance de modèles actuelle duplique des demandes de base de données pendant la source de données VendTable/\<Relations/VendTrans.VendTable\_AccountNum est exécutée.</span><span class="sxs-lookup"><span data-stu-id="ae761-246">Notice that ER informs you that the current model mapping duplicates database requests while the VendTable/\<Relations/VendTrans.VendTable\_AccountNum data source is run.</span></span> <span data-ttu-id="ae761-247">Cette duplication se produit, car la liste des transactions fournisseur est appelée deux fois pour chaque enregistrement de fournisseur itéré :</span><span class="sxs-lookup"><span data-stu-id="ae761-247">This duplication occurs because the list of vendor transactions is called two times for each iterated vendor record:</span></span>

- <span data-ttu-id="ae761-248">Un appel est effectué pour entrer les détails de chaque transaction dans le modèle de données, selon les liaisons configurées.</span><span class="sxs-lookup"><span data-stu-id="ae761-248">One call is made to enter details of each transaction in the data model, based on configured bindings.</span></span>
- <span data-ttu-id="ae761-249">Un appel est effectué pour entrer le nombre calculé de transactions par fournisseur dans le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="ae761-249">One call is made to enter the calculated number of transactions per vendor in the data model.</span></span>

![Message sur les demandes de base de données en double dans la page Concepteur de mise en correspondance de modèles dans RCS](./media/GER-PerfTrace-RCS-TraceInfoInMapping1.png)

<span data-ttu-id="ae761-251">La valeur **\[Q:530\]** indique que la table VendTrans a été appelée 530 fois pour renvoyer un enregistrement de cette table à la source de données VendTable/\<Relations/VendTrans.VendTable\_AccountNum.</span><span class="sxs-lookup"><span data-stu-id="ae761-251">The value **\[Q:530\]** indicates that the VendTrans table was called 530 times to return a record from that table to the VendTable/\<Relations/VendTrans.VendTable\_AccountNum data source.</span></span> <span data-ttu-id="ae761-252">La valeur **\[530\]** indique que la source de données VendTable/\<Relations/VendTrans.VendTable\_AccountNum a été appelée 530 fois pour renvoyer un enregistrement de cette source de données et entrer les détails de celui-ci dans le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="ae761-252">The value **\[530\]** indicates that the VendTable/\<Relations/VendTrans.VendTable\_AccountNum data source was called 530 times to return a record from that data source and enter the details from it in the data model.</span></span>

<span data-ttu-id="ae761-253">Il est recommandé d'utiliser pour la mise en cache pour la source de données VendTable/\<Relations/VendTrans.VendTable\_AccountNum, afin de réduire le nombre d'appels effectués pour obtenir les détails des 265 transactions et pour améliorer les performances de la mise en correspondance de modèles.</span><span class="sxs-lookup"><span data-stu-id="ae761-253">We recommend that you use caching for the VendTable/\<Relations/VendTrans.VendTable\_AccountNum data source, to reduce the number of calls that are made to get the details for 265 transactions and help improve the performance of the model mapping.</span></span>

<span data-ttu-id="ae761-254">Il peut également être utile de réduire le nombre d'appels effectués à la source de données LedgerTransTypeList.</span><span class="sxs-lookup"><span data-stu-id="ae761-254">It can also be useful to reduce the number of calls that are made to the LedgerTransTypeList data source.</span></span> <span data-ttu-id="ae761-255">Cette source de données permet d'associer chaque valeur de l'énumération **LedgerTransType** avec son étiquette.</span><span class="sxs-lookup"><span data-stu-id="ae761-255">This data source is used to associate each value of the **LedgerTransType** enumeration with its label.</span></span> <span data-ttu-id="ae761-256">Grâce à cette source de données, vous pouvez trouver une étiquette appropriée et l'entrer dans le modèle de données de chaque transaction fournisseur.</span><span class="sxs-lookup"><span data-stu-id="ae761-256">By using this data source, you can find an appropriate label and enter it in the data model for each vendor transaction.</span></span> <span data-ttu-id="ae761-257">Le nombre actuel d'appels à cette source de données (9 027) est assez élevé pour 265 transactions.</span><span class="sxs-lookup"><span data-stu-id="ae761-257">The current number of calls to this data source (9,027) is quite high for 265 transactions.</span></span>

![Page Concepteur de mise en correspondance de modèles dans RCS, affichant 9 027 appels à la source de données](./media/GER-PerfTrace-RCS-TraceInfoInMapping1a.png)

## <a name="improve-the-model-mapping-based-on-information-from-the-execution-trace"></a><span data-ttu-id="ae761-259">Améliorer la mise en correspondance de modèles en fonction des informations du suivi d'exécution</span><span class="sxs-lookup"><span data-stu-id="ae761-259">Improve the model mapping based on information from the execution trace</span></span>

### <a name="modify-the-logic-of-the-model-mapping"></a><span data-ttu-id="ae761-260">Modifier la logique de la mise en correspondance de modèles</span><span class="sxs-lookup"><span data-stu-id="ae761-260">Modify the logic of the model mapping</span></span>

1. <span data-ttu-id="ae761-261">Procédez comme suit pour utiliser la mise en cache, afin d'empêcher de dupliquer des appels à la base de données :</span><span class="sxs-lookup"><span data-stu-id="ae761-261">Follow these steps to use caching, to help prevent duplicate calls to the database:</span></span>

    1. <span data-ttu-id="ae761-262">Dans RCS, sur la page **Concepteur de mise en correspondance de modèles**, dans le volet **Sources de données**, sélectionnez l'élément **VendTable**.</span><span class="sxs-lookup"><span data-stu-id="ae761-262">In RCS, on the **Model mapping designer** page, in the **Data sources** pane, select the **VendTable** item.</span></span>
    2. <span data-ttu-id="ae761-263">Sélectionnez **Mettre en cache**.</span><span class="sxs-lookup"><span data-stu-id="ae761-263">Select **Cache**.</span></span>
    3. <span data-ttu-id="ae761-264">Développez l'élément **VendTable**, développez la liste des relations un-à-plusieurs de la source de données VendTable (l'élément **\<Relations**), puis sélectionnez l'élément **VendTrans.VendTable\_AccountNum**.</span><span class="sxs-lookup"><span data-stu-id="ae761-264">Expand the **VendTable** item, expand the list of one-to-many relations for the VendTable data source (the **\<Relations** item), and select the **VendTrans.VendTable\_AccountNum** item.</span></span>
    4. <span data-ttu-id="ae761-265">Sélectionnez **Mettre en cache**.</span><span class="sxs-lookup"><span data-stu-id="ae761-265">Select **Cache**.</span></span>

    ![Paramétrage de la mise en cache pour empêcher les appels en double](./media/GER-PerfTrace-RCS-ChangeMapping-Cache.png)

2. <span data-ttu-id="ae761-267">Procédez comme suit pour adapter la source de données LedgerTransTypeList à la portée de la source de données VendTable :</span><span class="sxs-lookup"><span data-stu-id="ae761-267">Follow these steps to bring the LedgerTransTypeList data source into the scope of the VendTable data source:</span></span>

    1. <span data-ttu-id="ae761-268">Dans le volet **Types de sources de données**, développez l'élément **Fonctions**, puis sélectionnez l'élément **Champ calculé**.</span><span class="sxs-lookup"><span data-stu-id="ae761-268">In the **Data source types** pane, expand the **Functions** item, and select the **Calculated field** item.</span></span>
    2. <span data-ttu-id="ae761-269">Dans le volet **Sources de données**, sélectionnez l'élément **VendTable**.</span><span class="sxs-lookup"><span data-stu-id="ae761-269">In the **Data sources** pane, select the **VendTable** item.</span></span>
    3. <span data-ttu-id="ae761-270">Sélectionnez **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="ae761-270">Select **Add**.</span></span>
    4. <span data-ttu-id="ae761-271">Dans le champ **Nom**, entrez **\$TransType**.</span><span class="sxs-lookup"><span data-stu-id="ae761-271">In the **Name** field, enter **\$TransType**.</span></span>
    5. <span data-ttu-id="ae761-272">Sélectionnez **Modifier la formule**.</span><span class="sxs-lookup"><span data-stu-id="ae761-272">Select **Edit formula**.</span></span>
    6. <span data-ttu-id="ae761-273">Dans le champ **Formule**, entrez **LedgerTransTypeList**.</span><span class="sxs-lookup"><span data-stu-id="ae761-273">In the **Formula** field, enter **LedgerTransTypeList**.</span></span>
    7. <span data-ttu-id="ae761-274">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="ae761-274">Select **Save**.</span></span>
    8. <span data-ttu-id="ae761-275">Fermez la page **Éditeur de formule**.</span><span class="sxs-lookup"><span data-stu-id="ae761-275">Close the **Formula editor** page.</span></span>
    9. <span data-ttu-id="ae761-276">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ae761-276">Click **OK**.</span></span>

3. <span data-ttu-id="ae761-277">Procédez comme suit pour mettre en cache le champ **\$TransType** :</span><span class="sxs-lookup"><span data-stu-id="ae761-277">Follow these steps to do caching of the **\$TransType** field:</span></span>

    1. <span data-ttu-id="ae761-278">Sélectionnez l'élément **LedgerTransTypeList**.</span><span class="sxs-lookup"><span data-stu-id="ae761-278">Select the **LedgerTransTypeList** item.</span></span>
    2. <span data-ttu-id="ae761-279">Sélectionnez **Mettre en cache**.</span><span class="sxs-lookup"><span data-stu-id="ae761-279">Select **Cache**.</span></span>
    3. <span data-ttu-id="ae761-280">Sélectionnez l'élément **VendTable.\$TransType**.</span><span class="sxs-lookup"><span data-stu-id="ae761-280">Select the **VendTable.\$TransType** item.</span></span>
    4. <span data-ttu-id="ae761-281">Sélectionnez **Mettre en cache**.</span><span class="sxs-lookup"><span data-stu-id="ae761-281">Select **Cache**.</span></span>

    ![Paramétrage de la mise en cache du champ $TransType](./media/GER-PerfTrace-RCS-ChangeMapping-Cache2.png)

4. <span data-ttu-id="ae761-283">Procédez comme suit pour modifier le champ **\$TransTypeRecord** pour qu'il commence à utiliser le champ **\$TransType** mis en cache :</span><span class="sxs-lookup"><span data-stu-id="ae761-283">Follow these steps to change the **\$TransTypeRecord** field so that it starts to use the cached **\$TransType** field:</span></span>

    1. <span data-ttu-id="ae761-284">Dans le volet **Sources de données**, développez l'élément **VendTable**, développez l'élément **\<Relations**, développez l'élément **VendTrans.VendTable\_AccountNum**, puis sélectionnez l'élément **VendTable.VendTrans.VendTable\_AccountNum.\$TransTypeRecord**.</span><span class="sxs-lookup"><span data-stu-id="ae761-284">In the **Data sources** pane, expand the **VendTable** item, expand the **\<Relations** item, expand the **VendTrans.VendTable\_AccountNum** item, and select the **VendTable. VendTrans.VendTable\_AccountNum.\$TransTypeRecord** item.</span></span>
    2. <span data-ttu-id="ae761-285">Sélectionnez **Modifier**.</span><span class="sxs-lookup"><span data-stu-id="ae761-285">Select **Edit**.</span></span>
    3. <span data-ttu-id="ae761-286">Sélectionnez **Modifier la formule**.</span><span class="sxs-lookup"><span data-stu-id="ae761-286">Select **Edit formula**.</span></span>
    4. <span data-ttu-id="ae761-287">Dans le champ **Formule**, recherchez l'expression suivantes :</span><span class="sxs-lookup"><span data-stu-id="ae761-287">In the **Formula** field, find the following expression:</span></span>

        <span data-ttu-id="ae761-288">FIRSTORNULL (WHERE (LedgerTransTypeList, LedgerTransTypeList.Enum = \@.TransType))</span><span class="sxs-lookup"><span data-stu-id="ae761-288">FIRSTORNULL (WHERE (LedgerTransTypeList, LedgerTransTypeList.Enum = \@.TransType))</span></span>

    5. <span data-ttu-id="ae761-289">Dans le champ **Formule**, entrez l'expression suivantes :</span><span class="sxs-lookup"><span data-stu-id="ae761-289">In the **Formula** field, enter the following expression:</span></span>

        <span data-ttu-id="ae761-290">FIRSTORNULL (WHERE (VendTable.'\$TransType', VendTable.'\$TransType'.Enum = \@.TransType)).</span><span class="sxs-lookup"><span data-stu-id="ae761-290">FIRSTORNULL (WHERE (VendTable.'\$TransType', VendTable.'\$TransType'.Enum = \@.TransType)).</span></span>

    6. <span data-ttu-id="ae761-291">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="ae761-291">Select **Save**.</span></span>
    7. <span data-ttu-id="ae761-292">Fermez la page **Éditeur de formule**.</span><span class="sxs-lookup"><span data-stu-id="ae761-292">Close the **Formula editor** page.</span></span>
    8. <span data-ttu-id="ae761-293">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="ae761-293">Select **OK**.</span></span>

5. <span data-ttu-id="ae761-294">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="ae761-294">Select **Save**.</span></span>
6. <span data-ttu-id="ae761-295">Fermez la page **Concepteur de mise en correspondance des modèles**.</span><span class="sxs-lookup"><span data-stu-id="ae761-295">Close the **Model mapping designer** page.</span></span>
7. <span data-ttu-id="ae761-296">Fermez la page **Mises en correspondance des modèles**.</span><span class="sxs-lookup"><span data-stu-id="ae761-296">Close the **Model mappings** page.</span></span>

### <a name="complete-the-modified-version-of-the-er-model-mapping"></a><span data-ttu-id="ae761-297">Renseignez la version modifiée de la mise en correspondance de modèles ER</span><span class="sxs-lookup"><span data-stu-id="ae761-297">Complete the modified version of the ER model mapping</span></span>

1. <span data-ttu-id="ae761-298">Dans RCS, dans la page **Configurations**, sous l'organisateur **Versions**, sélectionnez la version **1.2** de la configuration **Mise en correspondance de suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-298">In RCS, on the **Configurations** page, on the **Versions** FastTab, select version **1.2** of the **Performance trace mapping** configuration.</span></span>
2. <span data-ttu-id="ae761-299">Sélectionnez **Modifier le statut**.</span><span class="sxs-lookup"><span data-stu-id="ae761-299">Select **Change status**.</span></span>
3. <span data-ttu-id="ae761-300">Sélectionnez **Terminer**.</span><span class="sxs-lookup"><span data-stu-id="ae761-300">Select **Complete**.</span></span>

### <a name="import-the-modified-er-model-mapping-configuration-from-rcs-into-the-application"></a><span data-ttu-id="ae761-301">Importez la configuration de la mise en correspondance de modèles ER modifiée du RCS vers l'application.</span><span class="sxs-lookup"><span data-stu-id="ae761-301">Import the modified ER model mapping configuration from RCS into the application</span></span>

<span data-ttu-id="ae761-302">Répétez les étapes de la section [Importer une configuration ER de RCS dans Finance and Operations](#import-configuration) plus haut dans cette rubrique pour importer la version 1.2 de la configuration **Mise en correspondance de suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="ae761-302">Repeat the steps in the [Import an ER configuration from RCS into Finance and Operations](#import-configuration) section earlier in this topic to import version 1.2 of the **Performance trace mapping** configuration.</span></span>

## <a name="run-the-modified-er-solution-to-trace-execution"></a><span data-ttu-id="ae761-303">Exécuter la solution ER modifiée pour suivre l'exécution</span><span class="sxs-lookup"><span data-stu-id="ae761-303">Run the modified ER solution to trace execution</span></span>

### <a name="run-the-er-format"></a><span data-ttu-id="ae761-304">Exécuter le format ER</span><span class="sxs-lookup"><span data-stu-id="ae761-304">Run the ER format</span></span>

<span data-ttu-id="ae761-305">Répétez les étapes de la section [Exécuter le format ER](#run-format) plus haut dans cette rubrique pour générer un nouveau suivi des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-305">Repeat the steps in the [Run the ER format](#run-format) section earlier in this topic to generate a new performance trace.</span></span>

## <a name="review-the-execution-trace"></a><span data-ttu-id="ae761-306">Examiner le suivi de l'exécution</span><span class="sxs-lookup"><span data-stu-id="ae761-306">Review the execution trace</span></span>

### <a name="export-the-generated-trace-from-the-application"></a><span data-ttu-id="ae761-307">Exporter le suivi généré depuis l'application</span><span class="sxs-lookup"><span data-stu-id="ae761-307">Export the generated trace from the application</span></span>

<span data-ttu-id="ae761-308">Répétez les étapes de la section [Exporter le suivi généré dans l'application](#export-trace) plus haut dans cette rubrique pour enregistrer un nouveau suivi des performances localement.</span><span class="sxs-lookup"><span data-stu-id="ae761-308">Repeat the steps in the [Export the generated trace from the application](#export-trace) section earlier in this topic to save a new performance trace locally.</span></span>

### <a name="import-the-generated-trace-into-rcs"></a><span data-ttu-id="ae761-309">Importer le suivi généré dans RCS</span><span class="sxs-lookup"><span data-stu-id="ae761-309">Import the generated trace into RCS</span></span>

<span data-ttu-id="ae761-310">Répétez les étapes de la section [Importer le suivi généré dans RCS](#import-trace) plus haut dans cette rubrique pour importer le nouveau suivi des performances dans RCS.</span><span class="sxs-lookup"><span data-stu-id="ae761-310">Repeat the steps in the [Import the generated trace into RCS](#import-trace) section earlier in this topic to import the new performance trace into RCS.</span></span>

### <a name="use-the-performance-trace-for-analysis-in-rcs--model-mapping"></a><span data-ttu-id="ae761-311">Utiliser le suivi des performances à des fins d'analyse dans RCS – Mise en correspondance de modèle</span><span class="sxs-lookup"><span data-stu-id="ae761-311">Use the performance trace for analysis in RCS – Model mapping</span></span>

<span data-ttu-id="ae761-312">Répétez les étapes de la section [Utiliser le suivi des performances à des fins d'analyse dans RCS – Mise en correspondance de modèle](#use-trace) plus haut dans cette rubrique pour analyser le dernier suivi des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-312">Repeat the steps in the [Use the performance trace for analysis in RCS – Model mapping](#use-trace) section earlier in this topic to analyze the latest performance trace.</span></span>

<span data-ttu-id="ae761-313">Notez que les ajustements effectués à la mise en correspondance de modèles ont éliminé les requêtes en double de la base de données.</span><span class="sxs-lookup"><span data-stu-id="ae761-313">Notice that the adjustments that you made to the model mapping have eliminated duplicate queries to database.</span></span> <span data-ttu-id="ae761-314">Le nombre d'appels aux tables de base de données et aux sources de données pour cette mise en correspondance de modèles a également été réduit.</span><span class="sxs-lookup"><span data-stu-id="ae761-314">The number of calls to database tables and data sources for this model mapping has been also reduced.</span></span> <span data-ttu-id="ae761-315">Par conséquent, les performances de l'ensemble de la solution ER ont été améliorées.</span><span class="sxs-lookup"><span data-stu-id="ae761-315">Therefore, the performance of the whole ER solution has improved.</span></span>

![Informations de suivi pour la source de données VendTable sur la page Concepteur de mise en correspondance de modèles dans RCS.](./media/GER-PerfTrace-RCS-TraceInfoInMapping2.png)

<span data-ttu-id="ae761-317">Dans les informations de suivi, la valeur **\[12\]** de la source de données VendTable indique que cette source de données a été appelée 12 fois.</span><span class="sxs-lookup"><span data-stu-id="ae761-317">In the trace information, the value **\[12\]** for the VendTable data source indicates that this data source was called 12 times.</span></span> <span data-ttu-id="ae761-318">La valeur **\[Q:6\]** indique que six appels ont été traduits en appels de base de données à la table VendTable.</span><span class="sxs-lookup"><span data-stu-id="ae761-318">The value **\[Q:6\]** indicates that six calls were translated to database calls to the VendTable table.</span></span> <span data-ttu-id="ae761-319">La valeur **\[C:6\]** indique que les enregistrements extraits de la base de données ont été mis en cache, et que six autres appels ont été traités à l'aide du cache.</span><span class="sxs-lookup"><span data-stu-id="ae761-319">The value **\[C:6\]** indicates that the records that were fetched from the database were cached, and six other calls were processed by using the cache.</span></span>

<span data-ttu-id="ae761-320">Notez que le nombre d'appels à la source de données LedgerTransTypeList a été réduit de 9 027 à 240.</span><span class="sxs-lookup"><span data-stu-id="ae761-320">Notice that the number of calls to the LedgerTransTypeList data source has been reduced from 9,027 to 240.</span></span>

![Informations de suivi pour la source de données LedgerTransTypeList sur la page Concepteur de mise en correspondance de modèles dans RCS.](./media/GER-PerfTrace-RCS-TraceInfoInMapping2a.png)

## <a name="review-the-execution-trace-in-the-application"></a><span data-ttu-id="ae761-322">Passer en revue le suivi de l'exécution dans l'application</span><span class="sxs-lookup"><span data-stu-id="ae761-322">Review the execution trace in the application</span></span>

<span data-ttu-id="ae761-323">Outre RCS, certaines versions peuvent offrir des fonctionnalités pour une expérience de concepteur de structure ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-323">In addition to RCS, some versions might offer capabilities for an ER framework designer experience.</span></span> <span data-ttu-id="ae761-324">Ces versions ont une option **Activer le mode de configuration** qui peut être activée.</span><span class="sxs-lookup"><span data-stu-id="ae761-324">These versions have an **Enable design mode** option that can be turned on.</span></span> <span data-ttu-id="ae761-325">Vous pouvez rechercher cette option sur l'onglet **Général** de la page **Paramètres de la gestion des états électroniques**, accessible à partir de l'espace de travail **Gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="ae761-325">You can find this option on the **General** tab of the **Electronic reporting parameters** page, which you can open from the **Electronic reporting** workspace.</span></span>

![Activer l'option Activer le mode de configuration sur la page des paramètres de gestion des états électroniques](./media/GER-PerfTrace-GER-Parameters-DesignMode.png)

<span data-ttu-id="ae761-327">Si vous utilisez une de ces versions de Finance and Operations, vous pouvez analyser les détails des suivis des performances générés directement dans l'application.</span><span class="sxs-lookup"><span data-stu-id="ae761-327">If you use one of these versions, you can analyze the details of generated performance traces directly in the application.</span></span> <span data-ttu-id="ae761-328">Vous ne devez pas les exporter depuis l'application et les importer dans RCS.</span><span class="sxs-lookup"><span data-stu-id="ae761-328">You don't have to export them from the application and import them into RCS.</span></span>

## <a name="review-the-execution-trace-by-using-external-tools"></a><span data-ttu-id="ae761-329">Examiner le suivi d'exécution à l'aide d'outils externes</span><span class="sxs-lookup"><span data-stu-id="ae761-329">Review the execution trace by using external tools</span></span>

### <a name="configure-user-parameters"></a><span data-ttu-id="ae761-330">Configurer les paramètres utilisateur</span><span class="sxs-lookup"><span data-stu-id="ae761-330">Configure user parameters</span></span>

1. <span data-ttu-id="ae761-331">Accédez à **Administration d'organisation \> États électroniques \> Configurations**.</span><span class="sxs-lookup"><span data-stu-id="ae761-331">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
2. <span data-ttu-id="ae761-332">Dans la page **Configurations**, dans le volet Actions, sous l'onglet **Configurations**, dans le groupe **Paramètres avancés**, sélectionnez **Paramètres utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="ae761-332">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="ae761-333">Dans la boîte de dialogue **Paramètres utilisateur**, dans la section **Suivi d'exécution**, dans le champ **Format du suivi d'exécution**, sélectionnez **PerfView XML**.</span><span class="sxs-lookup"><span data-stu-id="ae761-333">In the **User parameters** dialog box, in the **Execution tracing** section, in the **Execution trace format** field, select **PerfView XML**.</span></span>

### <a name="run-the-er-format"></a><span data-ttu-id="ae761-334">Exécuter le format ER</span><span class="sxs-lookup"><span data-stu-id="ae761-334">Run the ER format</span></span>

<span data-ttu-id="ae761-335">Répétez les étapes de la section [Exécuter le format ER](#run-format) plus haut dans cette rubrique pour générer un nouveau suivi des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-335">Repeat the steps in the [Run the ER format](#run-format) section earlier in this topic to generate a new performance trace.</span></span>

<span data-ttu-id="ae761-336">Notez que le navigateur web fournit un fichier zip à télécharger.</span><span class="sxs-lookup"><span data-stu-id="ae761-336">Notice that the web browser offers a zip file for download.</span></span> <span data-ttu-id="ae761-337">Ce fichier contient le suivi des performances dans le format PerfView.</span><span class="sxs-lookup"><span data-stu-id="ae761-337">This file contains the performance trace in PerfView format.</span></span> <span data-ttu-id="ae761-338">Vous pouvez ensuite utiliser l'outil d'analyse des performances PerfView pour analyser les détails de l'exécution de format ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-338">You can then use the PerfView performance analysis tool to analyze the details of ER format execution.</span></span>

![Suivre les informations pour le format ER exécuté dans PerfView](./media/GER-PerfTrace2-PerfViewTrace1.PNG)

## <a name="use-external-tools-to-review-an-execution-trace-that-includes-database-queries"></a><span data-ttu-id="ae761-340">Utiliser des outils externes pour examiner une trace d'exécution comprenant des requêtes de base de données</span><span class="sxs-lookup"><span data-stu-id="ae761-340">Use external tools to review an execution trace that includes database queries</span></span>

<span data-ttu-id="ae761-341">En raison des améliorations apportées à la structure ER, le suivi des performances généré dans le format PerfView offre désormais plus de détails sur l'exécution du format ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-341">Because of improvements that have been made to the ER framework, the performance trace that is generated in PerfView format now offers more details about ER format execution.</span></span> <span data-ttu-id="ae761-342">Dans la version Microsoft Dynamics 365 for Finance and Operations 10.0.4 (juillet 2019), ce suivi peut également inclure des détails sur les requêtes SQL exécutées envers la base de données d'application.</span><span class="sxs-lookup"><span data-stu-id="ae761-342">In Microsoft Dynamics 365 for Finance and Operations version 10.0.4 (July 2019), this trace can also include details of executed SQL queries to the application database.</span></span>

### <a name="configure-user-parameters"></a><span data-ttu-id="ae761-343">Configurer les paramètres utilisateur</span><span class="sxs-lookup"><span data-stu-id="ae761-343">Configure user parameters</span></span>

1. <span data-ttu-id="ae761-344">Accédez à **Administration d'organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="ae761-344">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="ae761-345">Dans la page **Configurations**, dans le volet Actions, sous l'onglet **Configurations**, dans le groupe **Paramètres avancés**, sélectionnez **Paramètres utilisateur**.</span><span class="sxs-lookup"><span data-stu-id="ae761-345">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="ae761-346">Dans la boîte de dialogue **Paramètres utilisateur**, dans la section **Suivi d'exécution**, définissez les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="ae761-346">In the **User parameters** dialog box, in the **Execution tracing** section, set the following parameters:</span></span>

    - <span data-ttu-id="ae761-347">Dans le champ **Format du suivi d'exécution**, sélectionnez **PerfView XML**.</span><span class="sxs-lookup"><span data-stu-id="ae761-347">In the **Execution trace format** field, select **PerfView XML**.</span></span>
    - <span data-ttu-id="ae761-348">Définissez l'option **Collecter les statistiques sur les requêtes** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="ae761-348">Set the **Collect query statistics** option to **Yes**.</span></span>
    - <span data-ttu-id="ae761-349">Définissez l'option **Suivre les requêtes** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="ae761-349">Set the **Trace query** option to **Yes**.</span></span>

    ![Boîte de dialogue Paramètres utilisateur](./media/GER-PerfTrace2-GER-UserParameters.PNG)

### <a name="run-the-er-format"></a><span data-ttu-id="ae761-351">Exécuter le format ER</span><span class="sxs-lookup"><span data-stu-id="ae761-351">Run the ER format</span></span>

<span data-ttu-id="ae761-352">Répétez les étapes de la section [Exécuter le format ER](#run-format) plus haut dans cette rubrique pour générer un nouveau suivi des performances.</span><span class="sxs-lookup"><span data-stu-id="ae761-352">Repeat the steps in the [Run the ER format](#run-format) section earlier in this topic to generate a new performance trace.</span></span>

<span data-ttu-id="ae761-353">Notez que le navigateur web fournit un fichier zip à télécharger.</span><span class="sxs-lookup"><span data-stu-id="ae761-353">Notice that the web browser offers a zip file for download.</span></span> <span data-ttu-id="ae761-354">Ce fichier contient le suivi des performances dans le format PerfView.</span><span class="sxs-lookup"><span data-stu-id="ae761-354">This file contains the performance trace in PerfView format.</span></span> <span data-ttu-id="ae761-355">Vous pouvez ensuite utiliser l'outil d'analyse des performances PerfView pour analyser les détails de l'exécution de format ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-355">You can then use the PerfView performance analysis tool to analyze the details of ER format execution.</span></span> <span data-ttu-id="ae761-356">Ce suivi comprend désormais les détails de l'accès à la base de données SQL lors de l'exécution du format ER.</span><span class="sxs-lookup"><span data-stu-id="ae761-356">This trace now includes the details of SQL database access during the execution of the ER format.</span></span>

![Suivre les informations pour le format ER exécuté dans PerfView](./media/GER-PerfTrace2-PerfViewTrace2.PNG)
