---
title: Différer l'exécution des éléments de séquence aux formats ER
description: Cette rubrique explique comment reporter l'exécution d'un élément de séquence au format d'état électronique (ER).
author: NickSelin
manager: kfend
ms.date: 02/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: EROperationDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-07-01
ms.dyn365.ops.version: AX 10.0.5
ms.openlocfilehash: 6efa4466dbf7f5ca1d3945acf15fac65d628d691
ms.sourcegitcommit: 6a70f9ac296158edd065d52a12703b3ce85ce5ee
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/03/2020
ms.locfileid: "3015214"
---
# <a name="defer-the-execution-of-sequence-elements-in-er-formats"></a><span data-ttu-id="8d5c2-103">Différer l'exécution des éléments de séquence aux formats ER</span><span class="sxs-lookup"><span data-stu-id="8d5c2-103">Defer the execution of sequence elements in ER formats</span></span>

[!include [banner](../includes/banner.md)]

[!include [banner](../includes/preview-banner.md)]

## <a name="overview"></a><span data-ttu-id="8d5c2-104">Vue d'ensemble</span><span class="sxs-lookup"><span data-stu-id="8d5c2-104">Overview</span></span>

<span data-ttu-id="8d5c2-105">Vous pouvez utiliser le concepteur des opérations du cadre [États électroniques (ER)](general-electronic-reporting.md) pour [configurer ](tasks/er-format-configuration-2016-11.md)le [composant de format ](general-electronic-reporting.md#FormatComponentOutbound)d'une solution ER utilisée pour générer des documents sortants au format texte.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-105">You can use the Operations designer of the [Electronic reporting (ER)](general-electronic-reporting.md) framework to [configure](tasks/er-format-configuration-2016-11.md) the [format component](general-electronic-reporting.md#FormatComponentOutbound) of an ER solution that is used to generate outbound documents in a text format.</span></span> <span data-ttu-id="8d5c2-106">La structure hiérarchique du composant de format configuré se compose d'éléments de format de différents types.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-106">The hierarchical structure of the configured format component consists of format elements of various types.</span></span> <span data-ttu-id="8d5c2-107">Ces éléments de format sont utilisés pour remplir les documents générés avec les informations requises lors de l'exécution.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-107">These format elements are used to fill generated documents with the required information at runtime.</span></span> <span data-ttu-id="8d5c2-108">Par défaut, lorsque vous exécutez un format ER, les éléments de format sont exécutés dans le même ordre qu'ils sont présentés dans la hiérarchie des formats : un par un, de haut en bas.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-108">By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom.</span></span> <span data-ttu-id="8d5c2-109">Cependant, au moment de la conception, vous pouvez modifier l'ordre d'exécution pour tous les éléments de séquence du composant de format configuré.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-109">However, at design time, you can change the execution order for any sequence elements of the configured format component.</span></span>

<span data-ttu-id="8d5c2-110">En activant l'option <a name="DeferredSequenceExecution"></a>**Exécution différée** pour un élément de format de séquence au format configuré, vous pouvez différer (reporter) l'exécution de cet élément.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-110">By turning on the <a name="DeferredSequenceExecution"></a>**Deferred execution** option for a sequence format element in the configured format, you can defer (postpone) the execution of that element.</span></span> <span data-ttu-id="8d5c2-111">Dans ce cas, l'élément n'est pas exécuté tant que tous les autres éléments de son parent n'ont pas été exécutés.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-111">In this case, the element isn't run until all other elements of its parent have been run.</span></span>

<span data-ttu-id="8d5c2-112">Pour en savoir plus sur cette fonctionnalité, exécutez l'exemple décrit dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-112">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="limitations"></a><span data-ttu-id="8d5c2-113">Limites</span><span class="sxs-lookup"><span data-stu-id="8d5c2-113">Limitations</span></span>

<span data-ttu-id="8d5c2-114">L'option **Exécution différée** est prise en charge uniquement pour les éléments de séquence configurés pour un format ER utilisé pour générer des documents **sortants** au format texte.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-114">The **Deferred execution** option is supported only for sequence elements that are configured for an ER format that is used to generate **outbound** documents in text format.</span></span>

<span data-ttu-id="8d5c2-115">L'option **Exécution différée** ne s'applique pas aux séquences qui ont été configurées comme séquences découpées où la longueur maximale est limitée.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-115">The **Deferred execution** option isn't applicable to sequences that have been configured as trimmed sequences where the maximum length is limited.</span></span>

## <a name="Example"></a><span data-ttu-id="8d5c2-116">Exemple : différer l'exécution d'un élément de séquence au format ER</span><span class="sxs-lookup"><span data-stu-id="8d5c2-116">Example: Defer the execution of a sequence element in an ER format</span></span>

<span data-ttu-id="8d5c2-117">Les étapes suivantes expliquent comment un utilisateur du consultant fonctionnel de l'administrateur système ou des états électroniques [rôle ](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles)peut configurer un format ER qui contient un élément de séquence où l'ordre d'exécution diffère de l'ordre dans la hiérarchie des formats.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-117">The following steps explain how a user in the System administrator or Electronic reporting functional consultant [role](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) can configure an ER format that contains a sequence element where order of execution differs from the order in the format hierarchy.</span></span>

<span data-ttu-id="8d5c2-118">Ces étapes peuvent être effectuées dans la société fictive **USMF** dans Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-118">These steps can be performed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="8d5c2-119">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="8d5c2-119">Prerequisites</span></span>

<span data-ttu-id="8d5c2-120">Pour terminer cet exemple, vous devez avoir accès à la société **USMF** pour l'un des rôles suivants :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-120">To complete this example, you must have access to the **USMF** company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="8d5c2-121">Consultant fonctionnel des états électroniques</span><span class="sxs-lookup"><span data-stu-id="8d5c2-121">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="8d5c2-122">Administrateur système</span><span class="sxs-lookup"><span data-stu-id="8d5c2-122">System administrator</span></span>

<span data-ttu-id="8d5c2-123">Si vous n'avez pas encore terminé l'exemple dans la rubrique [Différer l'exécution des éléments XML aux formats ER](er-defer-xml-element.md#Example), téléchargez les [configurations ](general-electronic-reporting.md#Configuration)suivantes de l'exemple de solution ER.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-123">If you haven't yet completed the example in the [Defer the execution of XML elements in ER formats](er-defer-xml-element.md#Example) topic, download the following [configurations](general-electronic-reporting.md#Configuration) of the sample ER solution.</span></span>

| <span data-ttu-id="8d5c2-124">Description du contenu</span><span class="sxs-lookup"><span data-stu-id="8d5c2-124">Content description</span></span>            | <span data-ttu-id="8d5c2-125">Nom de fichier</span><span class="sxs-lookup"><span data-stu-id="8d5c2-125">File name</span></span> |
|--------------------------------|-----------|
| <span data-ttu-id="8d5c2-126">Configuration de modèle de données ER</span><span class="sxs-lookup"><span data-stu-id="8d5c2-126">ER data model configuration</span></span>    | [<span data-ttu-id="8d5c2-127">Modèle d'apprentissage des éléments différés.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="8d5c2-127">Model to learn deferred elements.version.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="8d5c2-128">Configuration de mise en correspondance de modèle ER</span><span class="sxs-lookup"><span data-stu-id="8d5c2-128">ER model mapping configuration</span></span> | [<span data-ttu-id="8d5c2-129">Modèle d'apprentissage des éléments différés.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="8d5c2-129">Mapping to learn deferred elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

<span data-ttu-id="8d5c2-130">Avant de commencer, vous devez également télécharger et enregistrer la configuration suivante de l'exemple de solution ER.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-130">Before you begin, you must also download and save the following configuration of the sample ER solution.</span></span>

| <span data-ttu-id="8d5c2-131">Description du contenu</span><span class="sxs-lookup"><span data-stu-id="8d5c2-131">Content description</span></span>     |<span data-ttu-id="8d5c2-132">Nom de fichier</span><span class="sxs-lookup"><span data-stu-id="8d5c2-132">File name</span></span> |
|-------------------------|----------|
| <span data-ttu-id="8d5c2-133">Configuration de format ER</span><span class="sxs-lookup"><span data-stu-id="8d5c2-133">ER format configuration</span></span> | [<span data-ttu-id="8d5c2-134">Format d'apprentissage des séquences différées.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="8d5c2-134">Format to learn deferred sequences.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="import-the-sample-er-configurations"></a><span data-ttu-id="8d5c2-135">Importer l'exemple de configurations ER</span><span class="sxs-lookup"><span data-stu-id="8d5c2-135">Import the sample ER configurations</span></span>

1. <span data-ttu-id="8d5c2-136">Accédez à **Administration d'organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-136">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="8d5c2-137">Sélectionnez **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-137">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="8d5c2-138">Sur la page **Configurations**, si la configuration **Modèle d'apprentissage des éléments différés** n'est pas disponible dans l'arborescence, importez la configuration du modèle de données ER :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-138">On the **Configurations** page, if the **Model to learn deferred elements** configuration isn't available in the configuration tree, import the ER data model configuration:</span></span>

    1. <span data-ttu-id="8d5c2-139">Sélectionner **Échanger**, puis sélectionnez **Charger depuis le fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-139">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="8d5c2-140">Sélectionnez **Parcourir**, recherchez et sélectionnez le fichier **Modèle d'apprentissage des éléments différés.1.xml**, puis sélectionnez **D'accord**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-140">Select **Browse**, find and select the **Model to learn deferred elements.1.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="8d5c2-141">Si la configuration **Apprentissage des éléments différés** n'est pas disponible dans l'arborescence, importez la configuration de mise en correspondance de modèle ER :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-141">If the **Mapping to learn deferred elements** configuration isn't available in the configuration tree, import the ER model mapping configuration:</span></span>

    1. <span data-ttu-id="8d5c2-142">Sélectionner **Échanger**, puis sélectionnez **Charger depuis le fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-142">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="8d5c2-143">Sélectionnez **Parcourir**, recherchez et sélectionnez le fichier **Apprentissage des éléments différés.1.1.xml**, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-143">Select **Browse**, find and select the **Mapping to learn deferred elements.1.1.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="8d5c2-144">Importer la configuration de format ER :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-144">Import the ER format configuration:</span></span>

    1. <span data-ttu-id="8d5c2-145">Sélectionner **Échanger**, puis sélectionnez **Charger depuis le fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-145">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="8d5c2-146">Sélectionnez **Parcourir**, recherchez et sélectionnez le fichier **Format d'apprentissage des séquences différées.1.1.xml**, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-146">Select **Browse**, find and select the **Format to learn deferred sequences.1.1.xml** file, and then select **OK**.</span></span>

6. <span data-ttu-id="8d5c2-147">Dans l'arborescence de configuration, développez **Modèle d'apprentissage des éléments différés**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-147">In the configuration tree, expand **Model to learn deferred elements**.</span></span>
7. <span data-ttu-id="8d5c2-148">Consultez la liste des configurations ER importées dans l'arborescence de configuration.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-148">Review the list of imported ER configurations in the configuration tree.</span></span>

    ![Configurations ER importées sur la page Configurations](./media/ER-DeferredSequence-Configurations.png)

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="8d5c2-150">Activer un fournisseur de configurations</span><span class="sxs-lookup"><span data-stu-id="8d5c2-150">Activate a configurations provider</span></span>

1. <span data-ttu-id="8d5c2-151">Accédez à **Administration d'organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-151">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="8d5c2-152">Dans la page **Configurations de localisation**, dans la section **Fournisseurs de configuration**, vérifiez que le [fournisseur de configuration](general-electronic-reporting.md#Provider) pour l'exemple de société Litware, Inc. (`http://www.litware.com`) est répertorié, et qu'il est marqué comme actif.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-152">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the Litware, Inc. (`http://www.litware.com`) sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="8d5c2-153">Si ce fournisseur de configuration n'est pas répertorié ou s'il n'est pas marqué comme actif, suivez les étapes de la rubrique [Créer un fournisseur de configuration et le marquer comme actif](./tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-153">If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](./tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

    ![Exemple de société Litware, Inc. sur la page Configurations de localisation](./media/ER-DeferredSequence-ElectronicReportingWorkspace.png)

### <a name="review-the-imported-model-mapping"></a><span data-ttu-id="8d5c2-155">Examiner la mise en correspondance des modèles importés</span><span class="sxs-lookup"><span data-stu-id="8d5c2-155">Review the imported model mapping</span></span>

<span data-ttu-id="8d5c2-156">Vérifiez les paramètres du composant de mise en correspondance de modèles ER configuré pour accéder aux transactions fiscales et exposer les données consultées sur demande.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-156">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</span></span>

1. <span data-ttu-id="8d5c2-157">Accédez à **Administration d'organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-157">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="8d5c2-158">Sélectionnez **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-158">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="8d5c2-159">Sur la page **Configurations**, dans l'arborescence de configuration, développez **Modèle d'apprentissage des éléments différés**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-159">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
4. <span data-ttu-id="8d5c2-160">Sélectionnez la configuration **Modèle d'apprentissage des éléments différés**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-160">Select the **Mapping to learn deferred elements** configuration.</span></span>
5. <span data-ttu-id="8d5c2-161">Sélectionnez **Concepteur** pour ouvrir la liste des mises en correspondance.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-161">Select **Designer** to open the list of mappings.</span></span>
6. <span data-ttu-id="8d5c2-162">Sélectionnez **Concepteur** pour consulter les détails de mise en correspondance.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-162">Select **Designer** to review the mapping details.</span></span>
7. <span data-ttu-id="8d5c2-163">Sélectionnez **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-163">Select **Show details**.</span></span>
8. <span data-ttu-id="8d5c2-164">Consultez les sources de données configurées pour accéder aux transactions fiscales :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-164">Review the data sources that are configured to access tax transactions:</span></span>

    - <span data-ttu-id="8d5c2-165">La source de données **Transactions** du type *Enregistrement de table* est configurée pour accéder aux enregistrements de la table d'application **TaxTrans**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-165">The **Transactions** data source of the *Table record* type is configured to access records of the **TaxTrans** application table.</span></span>
    - <span data-ttu-id="8d5c2-166">La source de données **Pièces justificatives** du type *Champ calculé* est configurée pour renvoyer les codes de document requis ( **INV-10000349** et **INV-10000350**) en tant que liste d'enregistrements.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-166">The **Vouchers** data source of the *Calculated field* type is configured to return the required voucher codes (**INV-10000349** and **INV-10000350**) as a list of records.</span></span>
    - <span data-ttu-id="8d5c2-167">La source de données **Filtré** du *Champ calculé* est configurée pour sélectionner, dans la source de données **Transactions**, seules les transactions fiscales des pièces justificatives requises.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-167">The **Filtered** data source of the *Calculated field* type is configured to select, from the **Transactions** data source, only tax transactions of the required vouchers.</span></span>
    - <span data-ttu-id="8d5c2-168">Le domaine **\$TaxAmount** du type *Champ calculé* est ajouté pour la source de données **Filtré** pour exposer la valeur fiscale qui a le signe opposé.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-168">The **\$TaxAmount** field of the *Calculated field* type is added for the **Filtered** data source to expose the tax value that has the opposite sign.</span></span>
    - <span data-ttu-id="8d5c2-169">La source de données **Groupé** du type *Grouper par* est configurée pour regrouper les transactions fiscales filtrées de la source de données **Filtré**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-169">The **Grouped** data source of the *Group By* type is configured to group filtered tax transactions of the **Filtered** data source.</span></span>
    - <span data-ttu-id="8d5c2-170">Le champ d'agrégation **TotalSum** de la source de données **Groupé** est configuré pour résumer les valeurs du domaine **\$TaxAmount** de la source de données **Filtré** pour toutes les transactions fiscales filtrées de cette source de données.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-170">The **TotalSum** aggregation field of the **Grouped** data source is configured to summarize values of the **\$TaxAmount** field of the **Filtered** data source for all filtered tax transactions of that data source.</span></span>

        ![Champ d'agrégation TotalSum sur la page Modifier les paramètres « GroupBy »](./media/ER-DeferredSequence-GroupByParameters.png)

9. <span data-ttu-id="8d5c2-172">Vérifiez comment les sources de données configurées sont liées au modèle de données et comment elles exposent les données accédées pour les rendre disponibles au format ER :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-172">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</span></span>

    - <span data-ttu-id="8d5c2-173">La source de données **Filtré** est liée au champ **Data.List** du modèle de données.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-173">The **Filtered** data source is bound to the **Data.List** field of the data model.</span></span>
    - <span data-ttu-id="8d5c2-174">Le champ **\$TaxAmount** de la source de données **Filtré** est liée au champ **Data.List.Value** du modèle de données.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-174">The **\$TaxAmount** field of the **Filtered** data source is bound to the **Data.List.Value** field of the data model.</span></span>
    - <span data-ttu-id="8d5c2-175">Le champ **TotalSum** de la source de données **Groupé** est liée au champ **Data.Summary.Total** du modèle de données.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-175">The **TotalSum** field of the **Grouped** data source is bound to the **Data.Summary.Total** field of the data model.</span></span>

    ![Page Concepteur de mise en correspondance de modèle](./media/ER-DeferredSequence-ModelMapping.png)

10. <span data-ttu-id="8d5c2-177">Fermez les pages **Concepteur de mise en correspondance de modèle** et **Mappages de modèles**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-177">Close the **Model mapping designer** and **Model mappings** pages.</span></span>

### <a name="review-the-imported-format"></a><span data-ttu-id="8d5c2-178">Examiner le format importé</span><span class="sxs-lookup"><span data-stu-id="8d5c2-178">Review the imported format</span></span>

1. <span data-ttu-id="8d5c2-179">Sur la page **Configurations**, dans l'arborescence de configuration, sélectionnez la configuration **Format d'apprentissage des séquences différées**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-179">On the **Configurations** page, in the configuration tree, select the **Format to learn deferred sequences** configuration.</span></span>
2. <span data-ttu-id="8d5c2-180">Sélectionnez **Concepteur** pour consulter les détails du format.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-180">Select **Designer** to review the format details.</span></span>
3. <span data-ttu-id="8d5c2-181">Sélectionnez **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-181">Select **Show details**.</span></span>
4. <span data-ttu-id="8d5c2-182">Vérifiez les paramètres des composants du format ER configurés pour générer un document sortant au format texte qui inclut les détails des transactions fiscales :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-182">Review the settings of the ER format components that are configured to generate an outbound document in text format that includes details of the tax transactions:</span></span>

    - <span data-ttu-id="8d5c2-183">L'élément de format de séquence **Rapport \\Lignes** est configuré pour remplir le document sortant avec une seule ligne générée à partir des éléments de séquence imbriqués (**Entête**, **Enregistrement**, et **Récapitulatif**).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-183">The **Report\\Lines** sequence format element is configured to fill the outbound document with a single line that is generated from the nested sequence elements (**Header**, **Record**, and **Summary**).</span></span>

        ![Élément de format de séquence de lignes et éléments imbriqués sur la page Concepteur de format](./media/ER-DeferredSequence-Format.png)

    - <span data-ttu-id="8d5c2-185">L'élément de format de séquence **Rapport \\Lignes \\Entête** est configuré pour remplir le document sortant avec une seule ligne d'en-tête qui indique la date et l'heure de début du traitement.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-185">The **Report\\Lines\\Header** sequence format element is configured to fill the outbound document with a single header line that shows the date and time  when the processing starts.</span></span>
    - <span data-ttu-id="8d5c2-186">L'élément de format de séquence **Rapport \\Lignes \\Enregistrement** est configuré pour remplir le document sortant avec une seule ligne qui affiche les détails des transactions fiscales individuelles.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-186">The **Report \\Lines\\Record** sequence format element is configured to fill the outbound document with a single line that shows the details of individual tax transactions.</span></span> <span data-ttu-id="8d5c2-187">Ces transactions fiscales sont séparées par un point-virgule.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-187">These tax transactions are separated by a semicolon.</span></span>

        ![Élément de format de séquence d'enregistrement qui utilise un point-virgule comme délimiteur](./media/ER-DeferredSequence-Format1.png)

    - <span data-ttu-id="8d5c2-189">L'élément de format de séquence **Rapport \\Lignes \\Récapitulatif** est configuré pour remplir le document sortant avec une seule ligne récapitulative qui inclut la somme des valeurs de taxe des transactions fiscales traitées.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-189">The **Report\\Lines\\Summary** sequence format element is configured to fill the outbound document with a single summary line that includes the sum of the tax values from the processed tax transactions.</span></span>

4. <span data-ttu-id="8d5c2-190">Sur l'onglet **Mise en correspondance**, passez en revue les détails suivants :</span><span class="sxs-lookup"><span data-stu-id="8d5c2-190">On the **Mapping** tab, review the following details:</span></span>

    - <span data-ttu-id="8d5c2-191">L'élément **Rapport \\Lignes \\Entête** n'a pas besoin d'être lié à une source de données pour générer une seule ligne dans un document sortant.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-191">The **Report\\Lines\\Header** element doesn't have to be bound to a data source to generate a single line in an outbound document.</span></span>
    - <span data-ttu-id="8d5c2-192">L'élément **Prefix1** génère les symboles **P1** pour indiquer que la ligne ajoutée est la ligne d'en-tête du rapport.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-192">The **Prefix1** element generates **P1** symbols to indicate that the line that is added is the report header line.</span></span>
    - <span data-ttu-id="8d5c2-193">L'élément **ExecutionDateTime** génère la date et l'heure (y compris les millisecondes) lorsque la ligne d'en-tête est ajoutée.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-193">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the header line is added.</span></span>
    - <span data-ttu-id="8d5c2-194">L'élément **Rapport \\Lignes \\Enregistrement** est lié à la liste **model.Data.List** pour générer une seule ligne pour chaque enregistrement à partir de la liste liée.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-194">The **Report\\Lines\\Record** element is bound to the **model.Data.List** list to generate a single line for every record from the bound list.</span></span>
    - <span data-ttu-id="8d5c2-195">L'élément **Prefix2** génère les symboles **P2** pour indiquer que la ligne ajoutée est destinée aux détails de la transaction fiscale.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-195">The **Prefix2** element generates **P2** symbols to indicate that the line that is added is for the tax transaction details.</span></span>
    - <span data-ttu-id="8d5c2-196">L'élément **TaxAmount** est lié à **model.Data.List.Value** (qui est représenté par **\@.Value** dans la vue du chemin relatif) pour générer la valeur fiscale de la transaction fiscale actuelle.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-196">The **TaxAmount** element is bound to **model.Data.List.Value** (which is shown as **\@.Value** in the relative path view) to generate the tax value of the current tax transaction.</span></span>
    - <span data-ttu-id="8d5c2-197">L'élément **RunningTotal** est un espace réservé pour le total cumulé des valeurs de taxe.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-197">The **RunningTotal** element is a placeholder for the running total of the tax values.</span></span> <span data-ttu-id="8d5c2-198">Actuellement, cet élément n'a pas de sortie, car ni une liaison ni une valeur par défaut n'est configurée pour lui.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-198">Currently, this element has no output, because neither a binding nor a default value is configured for it.</span></span>
    - <span data-ttu-id="8d5c2-199">L'élément **ExecutionDateTime** génère la date et l'heure (y compris les millisecondes) lorsque la transaction en cours est traitée dans ce rapport.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-199">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the current transaction is processed in this report.</span></span>
    - <span data-ttu-id="8d5c2-200">L'élément **Rapport \\Lignes \\Récapitulatif** n'a pas besoin d'être lié à une source de données pour générer une seule ligne dans un document sortant.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-200">The **Report\\Lines\\Summary** element doesn't have to be bound to a data source to generate a single line in an outbound document.</span></span>
    - <span data-ttu-id="8d5c2-201">L'élément **Prefix3** génère les symboles **P3** pour indiquer que la ligne ajoutée contient la valeur du total de la taxe.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-201">The **Prefix3** element generates **P3** symbols to indicate that the line that is added contains the total tax value.</span></span>
    - <span data-ttu-id="8d5c2-202">L'élément **TotalTaxAmount**est lié à **model.Data.Summary.Total**pour générer la somme des valeurs fiscales des transactions fiscales traitées.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-202">The **TotalTaxAmount** element is bound to **model.Data.Summary.Total** to generate the sum of the tax values of the processed tax transactions.</span></span>
    - <span data-ttu-id="8d5c2-203">L'élément **ExecutionDateTime** génère la date et l'heure (y compris les millisecondes) lorsque la ligne récapitulative est ajoutée.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-203">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the summary line is added.</span></span>

    ![Onglet Mise en correspondance de la page Concepteur de format](./media/ER-DeferredSequence-Format2.png)

### <a name="run-the-imported-format"></a><span data-ttu-id="8d5c2-205">Exécuter le format ER importé</span><span class="sxs-lookup"><span data-stu-id="8d5c2-205">Run the imported format</span></span>

1. <span data-ttu-id="8d5c2-206">Dans la page **Concepteur de format**, sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-206">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="8d5c2-207">Téléchargez le fichier proposé par le navigateur Web et ouvrez-le pour examen.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-207">Download the file that the web browser offers, and open it for review.</span></span>

    ![Fichier téléchargé](./media/ER-DeferredSequence-Run.png)

<span data-ttu-id="8d5c2-209">Notez que la ligne récapitulative 22 présente la somme des valeurs fiscales pour les transactions traitées.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-209">Notice that summary line 22 presents the sum of the tax values for the processed transactions.</span></span> <span data-ttu-id="8d5c2-210">Parce que le format est configuré pour utiliser le **model.Data.Summary.Total** utilisé pour retourner cette somme, la somme est calculée en appelant l'aggrégation **TotalSum** de la source de données **Groupé** du type *GroupBy* qui utilise la mise en correspondance de modèle.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-210">Because the format is configured to use the **model.Data.Summary.Total** binding to return this sum, the sum is calculated by calling the **TotalSum** aggregation of the **Grouped** data source of the *GroupBy* type that uses the model mapping.</span></span> <span data-ttu-id="8d5c2-211">Pour calculer cette agrégation, le mappage de modèle itère sur toutes les transactions qui ont été sélectionnées dans la source de données **Filtré**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-211">To calculate this aggregation, model mapping iterates over all transactions that have been selected in the **Filtered** data source.</span></span> <span data-ttu-id="8d5c2-212">En comparant les temps d'exécution des lignes 21 et 22, vous pouvez déterminer que le calcul de la somme a pris 10 millisecondes (ms).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-212">By comparing the execution times of lines 21 and 22, you can determine that calculation of the sum took 10 milliseconds (ms).</span></span> <span data-ttu-id="8d5c2-213">En comparant les temps d'exécution des lignes 2 et 21, vous pouvez déterminer que la génération de toutes les lignes de transaction a pris 7 millisecondes (ms).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-213">By comparing the execution times of lines 2 and 21, you can determine that generation of all transactional lines took 7 ms.</span></span> <span data-ttu-id="8d5c2-214">Par conséquent, un total de 17 ms était nécessaire.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-214">Therefore, a total of 17 ms was required.</span></span>

### <a name="modify-the-format-so-that-the-summing-is-based-on-generated-output"></a><span data-ttu-id="8d5c2-215">Modifier le format pour que la somme soit basée sur la sortie générée</span><span class="sxs-lookup"><span data-stu-id="8d5c2-215">Modify the format so that the summing is based on generated output</span></span>

<span data-ttu-id="8d5c2-216">Si le volume des transactions est beaucoup plus important que le volume dans l'exemple actuel, le temps nécessaire pour générer la somme peut augmenter et entraîner des problèmes de performances.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-216">If the volume of transactions is much larger than the volume in the current example, the summing time might increase and cause performance issues.</span></span> <span data-ttu-id="8d5c2-217">En modifiant le paramètre du format, vous pouvez éviter ces problèmes de performances.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-217">By changing the setting of the format, you can help prevent these performance issues.</span></span> <span data-ttu-id="8d5c2-218">Étant donné que vous accédez aux valeurs de taxe pour les inclure dans le rapport généré, vous pouvez réutiliser ces informations pour additionner les valeurs de taxe.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-218">Because you access tax values to include them in the generated report, you can reuse this information to sum tax values.</span></span> <span data-ttu-id="8d5c2-219">Pour plus d'informations, voir [Configurer le format pour effectuer le comptage et la synthèse](./tasks/er-format-counting-summing-1.md).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-219">For more information, see [Configure format to do counting and summing](./tasks/er-format-counting-summing-1.md).</span></span>

1. <span data-ttu-id="8d5c2-220">Sur la page **Concepteur de format**, dans l'onglet **Format**, sélectionnez l'élément de fichier **Rapport** dans l'arborescence de format.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-220">On the **Format designer** page, on the **Format** tab, select the **Report** file element in the format tree.</span></span>
2. <span data-ttu-id="8d5c2-221">Définissez l'option **Collecter les détails sur les sorties** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-221">Set the **Collect output details** option to **Yes**.</span></span> <span data-ttu-id="8d5c2-222">Vous pouvez maintenant configurer ce format en utilisant le contenu d'un rapport existant comme source de données accessible à l'aide des fonctions ER intégrées dans la catégorie [Collecte de données](er-functions-category-data-collection.md).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-222">You can now configure this format by using the content of an existing report as a data source that can be accessed by using the built-in ER functions in the [Data collection](er-functions-category-data-collection.md) category.</span></span>
3. <span data-ttu-id="8d5c2-223">Dans l'onglet **Mise en correspondance**, sélectionnez l'élément de séquence **Rapport \\Lignes**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-223">On the **Mapping** tab, select the **Report\\Lines** sequence element.</span></span>
4. <span data-ttu-id="8d5c2-224">Configurez l'expression **Nom de clé de données collectées** comme `WsColumn`.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-224">Configure the **Collected data key name** expression as `WsColumn`.</span></span>
5. <span data-ttu-id="8d5c2-225">Configurez l'expression **Valeur de clé de données collectées** comme `WsRow`.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-225">Configure the **Collected data key value** expression as `WsRow`.</span></span>

    ![Élément de séquence de lignes sur la page Concepteur de format](./media/ER-DeferredSequence-Format3.png)

6. <span data-ttu-id="8d5c2-227">Sélectionnez l'élément numérique **Rapport \\Lignes \\Enregistrement \\TaxAmount**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-227">Select the **Report\\Lines\\Record\\TaxAmount** numeric element.</span></span>
7. <span data-ttu-id="8d5c2-228">Configurez l'expression **Nom de clé de données collectées** comme `SummingAmountKey`.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-228">Configure the **Collected data key name** expression as `SummingAmountKey`.</span></span>

    ![Élément numérique TaxAmount sur la page Concepteur de format](./media/ER-DeferredSequence-Format4.png)

    <span data-ttu-id="8d5c2-230">Vous pouvez considérer ce paramètre comme la création d'une feuille de calcul virtuelle, où la valeur de la cellule A1 est ajoutée à la valeur du montant de la taxe de chaque transaction fiscale traitée.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-230">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</span></span>

8. <span data-ttu-id="8d5c2-231">Sélectionnez l'élément numérique **Rapport \\Lignes \\Enregistrement \\RunningTotal**, puis sélectionnez **Modifier la formule**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-231">Select the **Report\\Lines\\Record\\RunningTotal** numeric element, and then select **Edit formula**.</span></span>
9. <span data-ttu-id="8d5c2-232">Configurez l'expression `SUMIF(SummingAmountKey, WsColumn, WsRow)` en utilisant la fonction intégrée [SUMIF](er-functions-datacollection-sumif.md).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-232">Configure the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression by using the built-in [SUMIF](er-functions-datacollection-sumif.md) ER function.</span></span>
10. <span data-ttu-id="8d5c2-233">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-233">Select **Save**.</span></span>

    ![Expression SUMIF](./media/ER-DeferredSequence-FormulaDesigner.png)

11. <span data-ttu-id="8d5c2-235">Fermez la page **Concepteur de formule**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-235">Close the **Formula designer** page.</span></span>
12. <span data-ttu-id="8d5c2-236">Sélectionnez **Enregistrer**, puis sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-236">Select **Save**, and then select **Run**.</span></span>
13. <span data-ttu-id="8d5c2-237">Téléchargez et passez en revue le fichier proposé par le navigateur Web.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-237">Download and review the file that the web browser offers.</span></span>

    ![Fichier téléchargé](./media/ER-DeferredSequence-Run1.png)

    <span data-ttu-id="8d5c2-239">La ligne 21 contient le total cumulé des valeurs de taxe qui est calculé pour toutes les transactions traitées en utilisant la sortie générée comme source de données.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-239">Line 21 contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source.</span></span> <span data-ttu-id="8d5c2-240">Cette source de données commence au début du rapport et se poursuit jusqu'à la dernière transaction fiscale.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-240">This data source starts from the beginning of the report and continues through the last tax transaction.</span></span> <span data-ttu-id="8d5c2-241">La ligne 22 contient la somme des valeurs de taxe pour toutes les transactions traitées qui sont calculées dans le mappage de modèle en utilisant la source de données du type *GroupBy*.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-241">Line 22 contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the *GroupBy* type.</span></span> <span data-ttu-id="8d5c2-242">Notez que ces valeurs sont égales.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-242">Notice that these values are equal.</span></span> <span data-ttu-id="8d5c2-243">Par conséquent, la somme basée sur la sortie peut être utilisée au lieu de **GroupBy**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-243">Therefore, the output-based summing can be used instead of **GroupBy**.</span></span> <span data-ttu-id="8d5c2-244">En comparant les temps d'exécution des lignes 2 et 21, vous pouvez déterminer que la génération de toutes les lignes de transaction et de la somme a pris 9 millisecondes (ms).</span><span class="sxs-lookup"><span data-stu-id="8d5c2-244">By comparing the execution times of lines 2 and 21, you can determine that generation of all the transactional lines and summing took 9 ms.</span></span> <span data-ttu-id="8d5c2-245">Par conséquent, en ce qui concerne la génération de lignes détaillées et la somme des valeurs fiscales, le format modifié est environ deux fois plus rapide que le format d'origine.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-245">Therefore, as far as the generation of detailed lines and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</span></span>

14. <span data-ttu-id="8d5c2-246">Sélectionnez l'élément numérique **Rapport \\Lignes \\Récapitulatif \\TotalTaxAmount**, puis sélectionnez **Modifier la formule**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-246">Select the **Report\\Lines\\Summary\\TotalTaxAmount** numeric element, and then select **Edit formula**.</span></span>
15. <span data-ttu-id="8d5c2-247">Entrez l'expression `SUMIF(SummingAmountKey, WsColumn, WsRow)`au lieu de l'expression existante.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-247">Enter the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression instead of the existing expression.</span></span>
16. <span data-ttu-id="8d5c2-248">Sélectionnez **Enregistrer**, puis sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-248">Select **Save**, and then select **Run**.</span></span>
17. <span data-ttu-id="8d5c2-249">Téléchargez et passez en revue le fichier proposé par le navigateur Web.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-249">Download and review the file that the web browser offers.</span></span>

    ![Fichier téléchargé](./media/ER-DeferredSequence-Run2.png)

    <span data-ttu-id="8d5c2-251">Notez que le total cumulé des valeurs de taxe sur la dernière ligne de détails de transaction est désormais égal à la somme sur la ligne de résumé.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-251">Notice that the running total of tax values on the last transaction details line now equals the sum on the summary line.</span></span>

### <a name="put-values-of-output-based-summing-in-the-report-header"></a><span data-ttu-id="8d5c2-252">Placer les valeurs de la somme basée sur la sortie dans l'en-tête du rapport</span><span class="sxs-lookup"><span data-stu-id="8d5c2-252">Put values of output-based summing in the report header</span></span>

<span data-ttu-id="8d5c2-253">Si, par exemple, vous devez présenter la somme des valeurs fiscales dans l'en-tête de votre rapport, vous pouvez modifier votre format.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-253">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</span></span>

1. <span data-ttu-id="8d5c2-254">Sur la page **Concepteur de format**, dans l'onglet **Format**, sélectionnez l'élément de séquence **Rapport\\Lignes\\Récapitulatif**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-254">On the **Format designer** page, on the **Format** tab, select the **Report\\Lines\\Summary** sequence element.</span></span>
2. <span data-ttu-id="8d5c2-255">Sélectionnez **Déplacer vers le haut**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-255">Select **Move up**.</span></span>
3. <span data-ttu-id="8d5c2-256">Sélectionnez **Enregistrer**, puis sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-256">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="8d5c2-257">Téléchargez et passez en revue le fichier proposé par le navigateur Web.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-257">Download and review the file that the web browser offers.</span></span>

    ![Fichier téléchargé](./media/ER-DeferredSequence-Run3.png)

    <span data-ttu-id="8d5c2-259">Notez que la somme des valeurs de taxe sur la ligne récapitulative 2 est désormais égale à 0 (zéro), car cette somme est désormais calculée en fonction de la sortie générée.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-259">Notice that the sum of tax values on summary line 2 now equals 0 (zero), because this sum is now calculated based on the generated output.</span></span> <span data-ttu-id="8d5c2-260">Lorsque la ligne 2 est générée, la sortie générée ne contient pas encore de lignes contenant les détails de transaction.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-260">When line 2 is generated, the generated output doesn't yet contain lines that have transaction details.</span></span> <span data-ttu-id="8d5c2-261">Vous pouvez configurer ce format pour différer l'exécution de l'élément de séquence **Rapport \\Lignes \\Récapitulatif**jusqu'à ce que l'élément de séquence **Rapport \\Lignes \\Enregistrement** ait été exécuté pour toutes les transactions fiscales.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-261">You can configure this format to defer the execution of the **Report\\Lines\\Summary** sequence element until the **Report\\Lines\\Record** sequence element has been run for all tax transactions.</span></span>

### <a name="defer-the-execution-of-the-summary-sequence-so-that-the-calculated-total-is-used"></a><span data-ttu-id="8d5c2-262">Différer l'exécution de la séquence récapitulative pour que le total calculé soit utilisé</span><span class="sxs-lookup"><span data-stu-id="8d5c2-262">Defer the execution of the summary sequence so that the calculated total is used</span></span>

1. <span data-ttu-id="8d5c2-263">Sur la page **Concepteur de format**, dans l'onglet **Format**, sélectionnez l'élément de séquence **Rapport\\Lignes\\Récapitulatif**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-263">On the **Format designer** page, on the **Format** tab, select the **Report\\Lines\\Summary** sequence element.</span></span>
2. <span data-ttu-id="8d5c2-264">Définissez l'option **Exécution différée** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-264">Set the **Deferred execution** option to **Yes**.</span></span>

    ![Option d'exécution différée de l'élément de séquence récapitulatif sur la page Concepteur de format](./media/ER-DeferredSequence-Format5.png)

3. <span data-ttu-id="8d5c2-266">Sélectionnez **Enregistrer**, puis sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-266">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="8d5c2-267">Téléchargez et passez en revue le fichier proposé par le navigateur Web.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-267">Download and review the file that the web browser offers.</span></span>

    ![Fichier téléchargé](./media/ER-DeferredSequence-Run4.png)

    <span data-ttu-id="8d5c2-269">L'élément de séquence **Rapport \\Lignes \\Récapitulatif**n'est désormais exécuté qu'après que tous les autres éléments imbriqués sous son élément parent, **Rapport \\Lignes**, ont été exécutés.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-269">The **Report\\Lines\\Summary** sequence element is now run only after all other items that are nested under its parent element, **Report\\Lines**, have been run.</span></span> <span data-ttu-id="8d5c2-270">Par conséquent, il est exécuté après que l'élément de séquence **Rapport \\Lignes \\Enregistrement** a été exécuté pour toutes les transactions fiscales de la source de données **model.Data.List**.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-270">Therefore, it's run after the **Report\\Lines\\Record** sequence element has been run for all tax transactions of the **model.Data.List** data source.</span></span> <span data-ttu-id="8d5c2-271">Les temps d'exécution des lignes 1, 2 et 3 et de la dernière ligne 22 indiquent cela.</span><span class="sxs-lookup"><span data-stu-id="8d5c2-271">The execution times of lines 1, 2, and 3, and of the last line, 22, reveal this fact.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="8d5c2-272">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="8d5c2-272">Additional resources</span></span>

- [<span data-ttu-id="8d5c2-273">Configurer le format pour effectuer le comptage et la synthèse</span><span class="sxs-lookup"><span data-stu-id="8d5c2-273">Configure format to do counting and summing</span></span>](./tasks/er-format-counting-summing-1.md)
- [<span data-ttu-id="8d5c2-274">Suivez l'exécution du format d'ER pour résoudre les problèmes de performances</span><span class="sxs-lookup"><span data-stu-id="8d5c2-274">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)
- [<span data-ttu-id="8d5c2-275">Différer l'exécution des éléments XML aux formats ER</span><span class="sxs-lookup"><span data-stu-id="8d5c2-275">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md#Example)
