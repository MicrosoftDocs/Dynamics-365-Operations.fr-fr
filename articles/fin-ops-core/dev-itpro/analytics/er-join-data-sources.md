---
title: Utilisation des sources de données JOIN dans des mises en correspondance de modèle ER pour obtenir des données de plusieurs tables d’application
description: Cette rubrique explique comment utiliser les sources de données de type JOIN dans la gestion des états électroniques (ER).
author: NickSelin
ms.date: 05/04/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERModelMappingDesigner, EROperationDesigner
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-03-01
ms.dyn365.ops.version: Release 10.0.1
ms.openlocfilehash: d42016b914d7992b6f4ae1c573eb8f867ba87e22
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/31/2021
ms.locfileid: "5743975"
---
# <a name="use-join-data-sources-to-get-data-from-multiple-application-tables-in-electronic-reporting-er-model-mappings"></a><span data-ttu-id="c7be3-103">Utilisation des sources de données JOIN pour obtenir des données de plusieurs tables d’application dans des mises en correspondance de modèle de gestion des états électroniques (ER)</span><span class="sxs-lookup"><span data-stu-id="c7be3-103">Use JOIN data sources to get data from multiple application tables in Electronic reporting (ER) model mappings</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="c7be3-104">Lors de la configuration des mises en correspondance ou des formats de modèle de gestion des états électroniques (ER), vous pouvez [ajouter](#review) les sources de données nécessaires de type **JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-104">While configuring Electronic reporting (ER) model mappings or formats, you can [add](#review) required data sources of the **Join** type.</span></span> <span data-ttu-id="c7be3-105">Au moment de la conception, une source de données **Joindre** est configurée comme ensemble de plusieurs sources de données dont chacune retourne une liste des enregistrements.</span><span class="sxs-lookup"><span data-stu-id="c7be3-105">At design time, a **Join** data source is configured as a set of several data sources each of which returns a list of records.</span></span> <span data-ttu-id="c7be3-106">Pour chaque source de données sauf la première, vous devez définir les conditions nécessaires pour joindre des enregistrements des sources de données actuelles et précédentes.</span><span class="sxs-lookup"><span data-stu-id="c7be3-106">For every data source except the first one, you need to define necessary conditions to join records of the current and previous data sources.</span></span> <span data-ttu-id="c7be3-107">À l’exécution, une source de données configurée de type **Joindre** [retourne](#executeERformat) une liste jointe simple des enregistrements contenant les champs des enregistrements des sources de données imbriquées.</span><span class="sxs-lookup"><span data-stu-id="c7be3-107">At runtime, a configured data source of **Join** type [returns](#executeERformat) a single joined list of records containing fields from the records of nested data sources.</span></span>

<span data-ttu-id="c7be3-108">Les types de jointures suivants sont actuellement pris en charge :</span><span class="sxs-lookup"><span data-stu-id="c7be3-108">The following types of joins are currently supported:</span></span>

- <span data-ttu-id="c7be3-109">Jointure externe (gauche) :</span><span class="sxs-lookup"><span data-stu-id="c7be3-109">Outer (left) join:</span></span>
    - <span data-ttu-id="c7be3-110">Joignez tous les enregistrements de la première source de données (extrême gauche) puis toute correspondance conforme aux enregistrements de conditions configurés de la deuxième source de données (extrême droite).</span><span class="sxs-lookup"><span data-stu-id="c7be3-110">Join all records of the first (left-most) data source and then any matching in accordance to configured conditions records of the second (right-most) data source.</span></span>
- <span data-ttu-id="c7be3-111">Jointure interne (droite) :</span><span class="sxs-lookup"><span data-stu-id="c7be3-111">Inner (right) join:</span></span>
    - <span data-ttu-id="c7be3-112">Joignez uniquement les enregistrements de la première source de données (extrême gauche) et uniquement les enregistrements de la deuxième source de données (extrême droite) correspondant les uns aux autres conformément aux conditions configurées.</span><span class="sxs-lookup"><span data-stu-id="c7be3-112">Join only records of the first (left-most) data source and only records of the second (right-most) data source matching to each other in accordance to configured conditions.</span></span>

<span data-ttu-id="c7be3-113">Dans la source de données **Jointure** configurée, lorsque toutes les sources de données sont de type **Enregistrements de table**, l’exécution de la source de données de jointure peut être [effectuée au niveau de base de données](#analyze) à l’aide d’une instruction SQL unique.</span><span class="sxs-lookup"><span data-stu-id="c7be3-113">In the configured **Join** data source, when all data sources are the **Table records** type, execution of the Join data source can be [performed at the database level](#analyze) using a single SQL statement.</span></span> <span data-ttu-id="c7be3-114">Cette instruction réduit le nombre d’appels de la base de données, ce qui améliore les performances de mise en correspondance des modèles.</span><span class="sxs-lookup"><span data-stu-id="c7be3-114">This statement reduces the number of database calls, which improves model-mapping performance.</span></span> <span data-ttu-id="c7be3-115">Sinon, l’exécution de la source **Joindre les données** est réalisée dans la mémoire.</span><span class="sxs-lookup"><span data-stu-id="c7be3-115">Otherwise, execution of **Join data** source is performed in memory.</span></span>

> [!NOTE]
> <span data-ttu-id="c7be3-116">L’utilisation de la fonction **VALUEIN** dans des expressions ER qui indiquent les conditions pour joindre les enregistrements dans les sources de données de type Join n’est pas prise en charge encore.</span><span class="sxs-lookup"><span data-stu-id="c7be3-116">Using the **VALUEIN** function in ER expressions that specify conditions for joining records in data sources of Join type is not supported yet.</span></span> <span data-ttu-id="c7be3-117">Visitez la page [Concepteur de formule dans la gestion des états électroniques](general-electronic-reporting-formula-designer.md) pour plus d’informations sur cette fonction.</span><span class="sxs-lookup"><span data-stu-id="c7be3-117">Visit the [Formula designer in Electronic reporting](general-electronic-reporting-formula-designer.md) page for more details about this function.</span></span>

<span data-ttu-id="c7be3-118">Pour en savoir plus sur cette fonctionnalité, exécutez l’exemple décrit dans cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="c7be3-118">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="example-use-join-data-sources-in-er-model-mappings"></a><span data-ttu-id="c7be3-119">Exemple : Utilisation de sources de données JOIN dans des mises en correspondance de modèle ER</span><span class="sxs-lookup"><span data-stu-id="c7be3-119">Example: Use JOIN data sources in ER model mappings</span></span>

<span data-ttu-id="c7be3-120">La procédure suivante décrit comment l’administrateur système ou le développeur de gestion des états électroniques peut configurer une mise en correspondance de modèle de gestion d’états électroniques (ER) pour obtenir des données de plusieurs tables d’application simultanément à l’aide de sources de données de type **Join** pour améliorer les performances d’accès de données.</span><span class="sxs-lookup"><span data-stu-id="c7be3-120">The following steps explain how the System administrator or Electronic reporting developer can configure an Electronic reporting (ER) model mapping to get data from multiple application tables at once by using data sources of the **Join** type to improve data access performance.</span></span> <span data-ttu-id="c7be3-121">Ces étapes peuvent être effectuées pour n’importe quelle société Dynamics 365 Finance ou Regulatory Configuration Service (RCS).</span><span class="sxs-lookup"><span data-stu-id="c7be3-121">These steps can be performed for any company of Dynamics 365 Finance or Regulatory Configuration Services (RCS).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="c7be3-122">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="c7be3-122">Prerequisites</span></span>

<span data-ttu-id="c7be3-123">Pour terminer les exemples de cette rubrique, vous devez avoir accès à l’un des éléments suivants en fonction du service utilisé pour effectuer cette procédure :</span><span class="sxs-lookup"><span data-stu-id="c7be3-123">To complete the examples in this topic, you must have access to one of the following depending on what service is used to compete these steps:</span></span>

<span data-ttu-id="c7be3-124">**Accès à Finance pour un des rôles suivants :**</span><span class="sxs-lookup"><span data-stu-id="c7be3-124">**Access to Finance for one of the following roles:**</span></span>

- <span data-ttu-id="c7be3-125">Développeur d’états électroniques</span><span class="sxs-lookup"><span data-stu-id="c7be3-125">Electronic reporting developer</span></span>
- <span data-ttu-id="c7be3-126">Consultant fonctionnel des états électroniques</span><span class="sxs-lookup"><span data-stu-id="c7be3-126">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="c7be3-127">Administrateur système</span><span class="sxs-lookup"><span data-stu-id="c7be3-127">System administrator</span></span>

<span data-ttu-id="c7be3-128">**L’accès à RCS pour l’un des rôles suivants :**</span><span class="sxs-lookup"><span data-stu-id="c7be3-128">**Access to RCS for one of the following roles:**</span></span>

- <span data-ttu-id="c7be3-129">Développeur d’états électroniques</span><span class="sxs-lookup"><span data-stu-id="c7be3-129">Electronic reporting developer</span></span>
- <span data-ttu-id="c7be3-130">Consultant fonctionnel des états électroniques</span><span class="sxs-lookup"><span data-stu-id="c7be3-130">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="c7be3-131">Administrateur système</span><span class="sxs-lookup"><span data-stu-id="c7be3-131">System administrator</span></span>

<span data-ttu-id="c7be3-132">Vous devez également commencer par effectuer les étapes de la procédure [Créer un fournisseur de configuration et le marquer comme actif](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="c7be3-132">You also must first complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

<span data-ttu-id="c7be3-133">Au préalable, vous devez également télécharger sur le [Centre de téléchargement Microsoft](https://go.microsoft.com/fwlink/?linkid=000000) et localement enregistrer les exemples de fichiers de configuration ER suivants :</span><span class="sxs-lookup"><span data-stu-id="c7be3-133">In advance, you must also download from [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=000000) and save locally the following sample ER configuration files:</span></span>

| <span data-ttu-id="c7be3-134">**Description du contenu**</span><span class="sxs-lookup"><span data-stu-id="c7be3-134">**Content description**</span></span>  | <span data-ttu-id="c7be3-135">**Nom de fichier**</span><span class="sxs-lookup"><span data-stu-id="c7be3-135">**File name**</span></span>   |
|--------------------------|-----------------|
| <span data-ttu-id="c7be3-136">Exemple de fichier de configuration **Modèle de données ER**, qui est utilisé comme source de données pour les exemples.</span><span class="sxs-lookup"><span data-stu-id="c7be3-136">Sample **ER data model** configuration file, which is used as the data source for the examples.</span></span>| [<span data-ttu-id="c7be3-137">Modèle pour apprendre les sources de données JOIN.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="c7be3-137">Model to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="c7be3-138">Exemple de fichier de configuration **Mise en correspondance de modèle ER**, qui met en service le modèle de données ER pour les exemples.</span><span class="sxs-lookup"><span data-stu-id="c7be3-138">Sample **ER model mapping** configuration file, which implements the ER data model for the examples.</span></span> | [<span data-ttu-id="c7be3-139">Mise en correspondance pour apprendre les sources de données JOIN.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="c7be3-139">Mapping to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="c7be3-140">Exemple de configuration de **Format ER**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-140">Sample **ER format** configuration file.</span></span> <span data-ttu-id="c7be3-141">Ce fichier décrit les données pour remplir le composant de format ER pour les exemples.</span><span class="sxs-lookup"><span data-stu-id="c7be3-141">This file describes the data to populate the ER format component for the examples.</span></span> | [<span data-ttu-id="c7be3-142">Mise en forme pour apprendre les sources de données JOIN.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="c7be3-142">Format to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="c7be3-143">Activer un fournisseur de configurations</span><span class="sxs-lookup"><span data-stu-id="c7be3-143">Activate a configurations provider</span></span>

1. <span data-ttu-id="c7be3-144">Accéder à Finance ou RCS dans la première session de votre navigateur web.</span><span class="sxs-lookup"><span data-stu-id="c7be3-144">Access either Finance or RCS in the first session of your web browser.</span></span>
2. <span data-ttu-id="c7be3-145">Allez dans **Administration d’organisation \> Espaces de travail \> États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-145">Go to **Organization administration \> Workspaces \> Electronic reporting**.</span></span>
3. <span data-ttu-id="c7be3-146">Dans la page **Configurations de localisation**, dans la section **Fournisseurs de configuration**, vérifiez que le fournisseur de configuration pour l’exemple de société [Litware, Inc.](http://www.litware.com) est répertorié, et qu’il est marqué comme **actif**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-146">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the configuration provider for the [Litware, Inc.](http://www.litware.com) sample company is listed, and that it's marked as **Active**.</span></span> <span data-ttu-id="c7be3-147">Si ce fournisseur de configuration ne s’affiche pas, suivez les étapes de la procédure [Créer un fournisseur de configuration et le marquer comme actif](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="c7be3-147">If you don't see this configuration provider, follow the steps in [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

    ![Espace de travail des états électroniques](./media/GER-JoinDS-ActiveProvider.PNG)

### <a name="import-sample-er-configuration-files"></a><span data-ttu-id="c7be3-149">Importer des exemples de fichiers de configuration ER</span><span class="sxs-lookup"><span data-stu-id="c7be3-149">Import sample ER configuration files</span></span>

1. <span data-ttu-id="c7be3-150">Sélectionnez **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-150">Select **Reporting configurations**.</span></span>
2. <span data-ttu-id="c7be3-151">Importez le fichier de configuration du modèle de données ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-151">Import the ER data model configuration file.</span></span>
    1. <span data-ttu-id="c7be3-152">Sélectionnez **Exchange**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-152">Select **Exchange**.</span></span>
    2. <span data-ttu-id="c7be3-153">Sélectionnez **Charger depuis le fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-153">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="c7be3-154">Sélectionnez **Parcourir** pour rechercher le fichier **Modèle pour apprendre les sources de données JOIN.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-154">Select **Browse** to find the **Model to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="c7be3-155">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-155">Select **OK**.</span></span>
3. <span data-ttu-id="c7be3-156">Importez le fichier de configuration de mise en correspondance de modèle ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-156">Import the ER model-mapping configuration file.</span></span>
    1. <span data-ttu-id="c7be3-157">Sélectionnez **Exchange**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-157">Select **Exchange**.</span></span>
    2. <span data-ttu-id="c7be3-158">Sélectionnez **Charger depuis le fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-158">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="c7be3-159">Sélectionnez **Parcourir** pour rechercher le fichier **Mise en correspondance pour apprendre les sources de données JOIN.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-159">Select **Browse** to find the **Mapping to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="c7be3-160">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-160">Select **OK**.</span></span>
4. <span data-ttu-id="c7be3-161">Importer le fichier de configuration du format ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-161">Import the ER format configuration file.</span></span>
    1. <span data-ttu-id="c7be3-162">Sélectionnez **Exchange**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-162">Select **Exchange**.</span></span>
    2. <span data-ttu-id="c7be3-163">Sélectionnez **Charger depuis le fichier XML**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-163">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="c7be3-164">Sélectionnez **Parcourir** pour rechercher le fichier **Mise en forme pour apprendre les sources de données JOIN.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-164">Select **Browse** to find the **Format to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="c7be3-165">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-165">Select **OK**.</span></span>
5. <span data-ttu-id="c7be3-166">Dans l’arborescence de configurations, développez l’élément **Modèle pour apprendre les sources de données JOIN** ainsi que d’autres éléments de modèle (le cas échéant).</span><span class="sxs-lookup"><span data-stu-id="c7be3-166">In the configurations tree, expand the **Model to learn JOIN data sources** item as well as other model items (when available).</span></span>
6. <span data-ttu-id="c7be3-167">Observez la liste des configurations ER dans l’arborescence, ainsi que les détails de la version sur l’organisateur **Versions** – ils seront utilisés comme source de données pour votre exemple d’état.</span><span class="sxs-lookup"><span data-stu-id="c7be3-167">Observe the list of ER configurations in the tree as well as version details on the **Versions** fast tab – they will be used as the source of data for your sample report.</span></span>

    ![Page des configurations de gestion des états électroniques](./media/GER-JoinDS-ConfigurationsTree.PNG)

### <a name="turn-on-execution-trace-options"></a><span data-ttu-id="c7be3-169">Activer l’exécution des options de suivi de l’exécution</span><span class="sxs-lookup"><span data-stu-id="c7be3-169">Turn on execution trace options</span></span>

1. <span data-ttu-id="c7be3-170">Sélectionner **CONFIGURATIONS**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-170">Select **CONFIGURATIONS**.</span></span>
2. <span data-ttu-id="c7be3-171">Sélectionnez **Utiliser les paramètres**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-171">Select **User parameters**.</span></span>
3. <span data-ttu-id="c7be3-172">Définissez les paramètres de suivi de l’exécution comme indiqué dans la capture d’écran ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="c7be3-172">Set execution trace parameters as shown on the screenshot below.</span></span>

    ![Page Paramètres utilisateur de la gestion des états électroniques](./media/GER-JoinDS-Parameters.PNG)

    <span data-ttu-id="c7be3-174">Avec ces paramètres activés, pour chaque exécution du fichier de format ER importé, le suivi de l’exécution sera généré.</span><span class="sxs-lookup"><span data-stu-id="c7be3-174">With these parameters turned on, for every execution of the imported ER format file, the execution trace will be generated.</span></span> <span data-ttu-id="c7be3-175">À l’aide des détails de suivi d’exécution générée, vous pouvez analyser l’exécution du format ER et des composants de mise en correspondance ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-175">Using details of generated execution trace, you can analyze the execution of ER format and ER model-mapping components.</span></span> <span data-ttu-id="c7be3-176">Visitez la page [Suivi de l’exécution du format ER pour résoudre les problèmes de performances](trace-execution-er-troubleshoot-perf.md) pour plus d’informations sur la fonctionnalité de suivi l’exécution ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-176">Visit the [Trace execution of ER format to troubleshoot performance issues](trace-execution-er-troubleshoot-perf.md) page for more details about ER execution trace feature.</span></span>

### <a name="review-er-model-mapping-part-1"></a><span data-ttu-id="c7be3-177">Vérifier la mise en correspondance de modèle ER (partie 1)</span><span class="sxs-lookup"><span data-stu-id="c7be3-177">Review ER model mapping (part 1)</span></span>

<span data-ttu-id="c7be3-178">Examinez les paramètres du composant de mise en correspondance de modèle ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-178">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="c7be3-179">Le composant est configuré pour accéder aux informations sur les versions des configurations ER, les détails des configurations et les fournisseurs de configuration sans utiliser les sources de données de type **Join**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-179">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers without using data sources of the **Join** type.</span></span>

1. <span data-ttu-id="c7be3-180">Sélectionnez la configuration **Mise en correspondance pour apprendre les sources de données JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-180">Select **Mapping to learn JOIN data sources** configuration.</span></span>
2. <span data-ttu-id="c7be3-181">Sélectionnez **Concepteur** pour ouvrir la liste des mises en correspondance.</span><span class="sxs-lookup"><span data-stu-id="c7be3-181">Select **Designer** to open the list of mappings.</span></span>
3. <span data-ttu-id="c7be3-182">Sélectionnez **Concepteur** pour consulter les détails de mise en correspondance.</span><span class="sxs-lookup"><span data-stu-id="c7be3-182">Select **Designer** to review the mapping details.</span></span>
4. <span data-ttu-id="c7be3-183">Sélectionnez **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-183">Select **Show details**.</span></span>
5. <span data-ttu-id="c7be3-184">Dans l’arborescence de configurations, développez les éléments de modèle de données **Set1** et **Set1.Details** :</span><span class="sxs-lookup"><span data-stu-id="c7be3-184">In the configurations tree, expand the **Set1** and **Set1.Details** data model items:</span></span>

    1. <span data-ttu-id="c7be3-185">La liaison **Details: Record list = Versions** indique que l’élément **Set1.Details** est lié à la source de données **Versions** retournant des enregistrements de la table **ERSolutionVersionTable**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-185">Binding **Details: Record list = Versions** indicates that the **Set1.Details** item is bound to the **Versions** data source returning records of the **ERSolutionVersionTable** table.</span></span> <span data-ttu-id="c7be3-186">Chaque enregistrement de cette table représente une version unique d’une configuration ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-186">Each record of this table represents a single version of an ER configuration.</span></span> <span data-ttu-id="c7be3-187">Le contenu de cette table s’affiche dans l’organisateur **Versions** de la page **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-187">The content of this table is presented in the **Versions** fast tab on the **Configurations** page.</span></span>
    2. <span data-ttu-id="c7be3-188">La liaison **ConfigurationVersion: String = @.PublicVersionNumber** signifie que la valeur de la version publique de la version de chaque configuration ER est extraite du champ **PublicVersionNumber** de la table **ERSolutionVersionTable** et placée dans l’élément **ConfigurationVersion**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-188">Binding **ConfigurationVersion: String = @.PublicVersionNumber** means that the value of the public version of each ER configuration’s version is taken from the **PublicVersionNumber** field of the **ERSolutionVersionTable** table and placed to the **ConfigurationVersion** item.</span></span>
    3. <span data-ttu-id="c7be3-189">La liaison **ConfigurationTitle: String = @.’>Relations’.Solution.Name** indique que le nom d’une configuration ER est extrait du champ **Nom** de l’évaluation de la table **ERSolutionTable** à l’aide de la relation plusieurs à un (**« >Relations »**) entre les tables **ERSolutionVersionTable** et **ERSolutionTable**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-189">Binding **ConfigurationTitle: String = @.'>Relations'.Solution.Name** indicates that the name of an ER configuration is taken from the **Name** field of the **ERSolutionTable** table assessing by using the many-to-one relation (**'>Relations'**) between the **ERSolutionVersionTable** and **ERSolutionTable** tables.</span></span> <span data-ttu-id="c7be3-190">Les noms des configurations ER de l’instance actuelle d’application sont présentés dans l’arborescence de configurations sur la page **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-190">Names of ER configurations of the current application instance are presented in the configurations tree on the **Configurations** page.</span></span>
    4. <span data-ttu-id="c7be3-191">La liaison **@.’>Relations’.Solution.’>Relations’.SolutionVendor.Name** signifie que le nom du fournisseur de configuration propriétaire de la configuration actuelle est extrait du champ **Nom** de l’évaluation de la table **ERSolutionTable** à l’aide de la relation plusieurs à un entre les tables **ERSolutionVersionTable** et **ERVendorTable**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-191">Binding **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** means that the name of the configuration provider that owns the current configuration is taken from the **Name** field of the **ERVendorTable** table assessing by using the many-to-one relation between **ERSolutionTable** and **ERVendorTable** tables.</span></span> <span data-ttu-id="c7be3-192">Les fournisseurs de configuration ER sont présentés dans l’arborescence de configurations sur la page **Configurations** de l’en-tête de page de chaque configuration.</span><span class="sxs-lookup"><span data-stu-id="c7be3-192">Names of ER configuration providers are presented in the configurations tree on the **Configurations** page on the page header for each configuration.</span></span> <span data-ttu-id="c7be3-193">La liste entière de fournisseurs de configuration ER figure sur la page de table **Administration d’organisation \> Gestion des états électroniques \> Fournisseur de configuration**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-193">The entire list of ER configuration providers can be found on the **Organization administration \> Electronic reporting \> Configuration provider** table page.</span></span>

    ![Page du concepteur de mise en correspondance des modèles ER](./media/GER-JoinDS-Set1Review.PNG)

6. <span data-ttu-id="c7be3-195">Dans l’arborescence de configurations, développez l’élément de modèle de données **Set1.Summary** :</span><span class="sxs-lookup"><span data-stu-id="c7be3-195">In the configurations tree, expand the **Set1.Summary** data model item:</span></span>

    1. <span data-ttu-id="c7be3-196">La liaison **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** indique que l’élément **Set1.Summary.VersionsNumber** est lié au champ d’agrégation **VersionsNumber** de la source de données **VersionsSummary** du type **GroupBy** configurée pour retourner le nombre d’enregistrements de la table **ERSolutionVersionTable** via la source de données **Versions**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-196">Binding **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** indicates that the **Set1.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **VersionsSummary** data source of the **GroupBy** type that was configured to return the number of records of the **ERSolutionVersionTable** table via the **Versions** data source.</span></span>

    ![Page des paramètres de source de données GROUPBY](./media/GER-JoinDS-Set1GroupByReview.PNG)

7. <span data-ttu-id="c7be3-198">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="c7be3-198">Close the page.</span></span>

### <a name="review-er-model-mapping-part-2"></a><a name="review"></a> <span data-ttu-id="c7be3-199">Vérifier la mise en correspondance de modèle ER (partie 2)</span><span class="sxs-lookup"><span data-stu-id="c7be3-199">Review ER model mapping (part 2)</span></span>

<span data-ttu-id="c7be3-200">Examinez les paramètres du composant de mise en correspondance de modèle ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-200">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="c7be3-201">Le composant est configuré pour accéder aux informations sur les versions des configurations ER, les détails des configurations et les fournisseurs de configuration en utilisant une source de données de type **Join**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-201">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers with using a data source of the **Join** type.</span></span>

1. <span data-ttu-id="c7be3-202">Dans l’arborescence de configurations, développez les éléments de modèle de données **Set2** et **Set2.Details**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-202">In the configurations tree, expand the **Set2** and **Set2.Details** data model items.</span></span> <span data-ttu-id="c7be3-203">La liaison **Details: Record list = Details** indique que l’élément **Set2.Details** est lié à la source de données **Détails** configurée comme source de données de type **Join**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-203">The binding **Details: Record list = Details** indicates that the **Set2.Details** item is bound to the **Details** data source configured as the data source of the **Join** type.</span></span>

    ![Page du concepteur de mise en correspondance des modèles ER](./media/GER-JoinDS-Set2Review.PNG)

    <span data-ttu-id="c7be3-205">La source de données **Join** peut être ajoutée en sélectionnant la source de données **Functions\Join** :</span><span class="sxs-lookup"><span data-stu-id="c7be3-205">The **Join** data source can be added by selecting the **Functions\Join** data source:</span></span>

    ![Page du concepteur de mise en correspondance des modèles ER](./media/GER-JoinDS-AddJoinDS.PNG)

2. <span data-ttu-id="c7be3-207">Sélectionnez la source de données **Détails**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-207">Select **Detail** s data source.</span></span>
3. <span data-ttu-id="c7be3-208">Sélectionnez **Modifier** dans le volet **Sources de données**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-208">Select **Edit** in the **Data sources** pane.</span></span>
4. <span data-ttu-id="c7be3-209">Sélectionnez **Modifier la jointure**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-209">Select **Edit join**.</span></span>
5. <span data-ttu-id="c7be3-210">Sélectionnez **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-210">Select **Show details**.</span></span>

    ![Page des paramètres de source de données JOIN](./media/GER-JoinDS-JoinDSEditor.PNG)

    <span data-ttu-id="c7be3-212">Cette page permet de concevoir la source de données requise de **type Join**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-212">This page is used to design the required data source of the **Join type**.</span></span> <span data-ttu-id="c7be3-213">À l’exécution, cette source de données crée une liste jointe simple des enregistrements des sources de données de la grille **Liste jointe**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-213">At runtime, this data source will create a single joined list of records from the data sources in the **Joined list** grid.</span></span> <span data-ttu-id="c7be3-214">La jointure des enregistrements commencera à partir de la source de données **ConfigurationProviders** située dans la grille en premier (la colonne **Type** est vide pour elle).</span><span class="sxs-lookup"><span data-stu-id="c7be3-214">Join of records will start from the **ConfigurationProviders** data source that is in the grid as a first one (the **Type** column is blank for it).</span></span> <span data-ttu-id="c7be3-215">Les enregistrements de chaque autre source de données sont joints par la suite aux enregistrements de la source de données parente selon son ordre dans cette grille.</span><span class="sxs-lookup"><span data-stu-id="c7be3-215">Records of every other data source will be joined consequently to records of the parent data source based on its order in this grid.</span></span> <span data-ttu-id="c7be3-216">Chaque source de données de jointure doit être configurée comme source de données imbriquée sous une source de données cible (la source de données `1Versions` est imbriquée sous `1Configurations` une ; la source de données `1Configurations` est imbriquée sous **ConfigurationProviders** une).</span><span class="sxs-lookup"><span data-stu-id="c7be3-216">Every joining data source must be configured as a data source nested under a target data source (`1Versions` data source is nested under `1Configurations` one; `1Configurations` data source is nested under **ConfigurationProviders** one).</span></span> <span data-ttu-id="c7be3-217">Chaque source de données de configuration doit contenir les conditions de la jointure.</span><span class="sxs-lookup"><span data-stu-id="c7be3-217">Each configured data source must contain the conditions for the join.</span></span> <span data-ttu-id="c7be3-218">Dans la source de données de cette **Jointure** donnée, les jointures suivantes sont définies :</span><span class="sxs-lookup"><span data-stu-id="c7be3-218">In the data source for this particular **Join**, the following joins are defined:</span></span>

    - <span data-ttu-id="c7be3-219">Chaque enregistrement de la source de données **ConfigurationProviders** (référencées la table **ERVendorTable**) est joint uniquement aux enregistrements **1Configurations** un (référencés dans la table **ERSolutionTable**) ayant la même valeur dans les champs **SolutionVendor** et **Recid**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-219">Each record of the **ConfigurationProviders** data source (referred to the **ERVendorTable** table) is joined with only records of the **1Configurations** one (referred to in the **ERSolutionTable** table) having the same value in the **SolutionVendor** and **RecId** fields.</span></span> <span data-ttu-id="c7be3-220">Le type **Jointure interne** est utilisé pour cette jointure ainsi que les conditions suivantes pour mettre en correspondance les enregistrements :</span><span class="sxs-lookup"><span data-stu-id="c7be3-220">The **Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="c7be3-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span><span class="sxs-lookup"><span data-stu-id="c7be3-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span></span>

    - <span data-ttu-id="c7be3-222">Chaque enregistrement de la source de données **1Configurations** (référencées la table **ERSolutionTable**) est joint uniquement aux enregistrements **1Versions** un (référencés dans la table **ERSolutionVersionTable**) ayant la même valeur dans les champs **Solution** et **Recid**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-222">Each record of the **1Configurations** data source (referred to the **ERSolutionTable** table) is joined with the only records of the **1Versions** one (referred to the **ERSolutionVersionTable** table) having the same value in the **Solution** and **RecId** fields.</span></span> <span data-ttu-id="c7be3-223">Le type **Jointure interne** est utilisé pour cette jointure ainsi que les conditions suivantes pour mettre en correspondance les enregistrements :</span><span class="sxs-lookup"><span data-stu-id="c7be3-223">**Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="c7be3-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.’1Configurations’.RecId)</span><span class="sxs-lookup"><span data-stu-id="c7be3-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span></span>

    - <span data-ttu-id="c7be3-225">L’option **Exécuter** est configurée comme **Requête** ce qui signifie que cette source de données de jointure est exécutée au moment de l’exécution au niveau de base de données comme appel SQL direct.</span><span class="sxs-lookup"><span data-stu-id="c7be3-225">**Execute** option is configured as **Query** meaning that this join data source will be executed at runtime on database level as a direct SQL call.</span></span>

    <span data-ttu-id="c7be3-226">Pour joindre des enregistrements des sources de données représentant des tables d’application, vous pouvez spécifier des conditions de jointure en utilisant des paires de champs autres que ceux qui décrivent des relations AOA existant entre ces tables.</span><span class="sxs-lookup"><span data-stu-id="c7be3-226">For joining records of data sources representing application tables, you can specify join conditions by using pairs of fields other than ones that describe existing in AOT relations between these tables.</span></span> <span data-ttu-id="c7be3-227">Ce type de jointure peut être configuré pour s’exécuter au niveau de base de données.</span><span class="sxs-lookup"><span data-stu-id="c7be3-227">This type of join can be configured to execute at the database level as well.</span></span>

6. <span data-ttu-id="c7be3-228">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="c7be3-228">Close the page.</span></span>
7. <span data-ttu-id="c7be3-229">Sélectionnez **Annuler**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-229">Select **Cancel**.</span></span>
8. <span data-ttu-id="c7be3-230">Dans l’arborescence de configurations, développez l’élément de modèle de données **Set2.Summary** :</span><span class="sxs-lookup"><span data-stu-id="c7be3-230">In the configurations tree, expand the **Set2.Summary** data model item:</span></span>

    - <span data-ttu-id="c7be3-231">La liaison **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** indique que l’élément **Set2.Summary.VersionsNumber** est lié au champ d’agrégation **VersionsNumber** de la source de données **DetailsSummary** du type **GroupBy** configurée pour retourner le nombre d’enregistrements joints de la source de données **Détails** de type **Join**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-231">Binding **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** indicates that the **Set2.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **DetailsSummary** data source of the **GroupBy** type that was configured to return the number of joined records of the **Details** data source of the **Join** type.</span></span>
    - <span data-ttu-id="c7be3-232">L’option d’emplacement **Exécution** est configurée comme **Requête** ce qui signifie que cette source de données **GroupBy** est exécutée au moment de l’exécution comme appel SQL direct au niveau de base de données.</span><span class="sxs-lookup"><span data-stu-id="c7be3-232">The **Execution** location option is configured as **Query** meaning that this **GroupBy** data source will be run at runtime as a direct SQL call at the database level.</span></span> <span data-ttu-id="c7be3-233">Ce comportement possible car la source de données de base **Détails** du type **Join** est configurée comme exécutée au niveau de base de données.</span><span class="sxs-lookup"><span data-stu-id="c7be3-233">This behavior is possible because the base data source **Details** of the **Join** type is configured as executed at the database level.</span></span>

    ![Page des paramètres de source de données GROUPBY](./media/GER-JoinDS-Set2GroupByReview.PNG)

9. <span data-ttu-id="c7be3-235">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="c7be3-235">Close the page.</span></span>
10. <span data-ttu-id="c7be3-236">Sélectionnez **Annuler**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-236">Select **Cancel**.</span></span>

### <a name="execute-er-format"></a><a name="executeERformat"></a> <span data-ttu-id="c7be3-237">Exécuter le format ER</span><span class="sxs-lookup"><span data-stu-id="c7be3-237">Execute ER format</span></span>

1. <span data-ttu-id="c7be3-238">Accédez à Finance ou RCS dans la deuxième session de votre navigateur web à l’aide des mêmes informations d’identification et société que dans la première session.</span><span class="sxs-lookup"><span data-stu-id="c7be3-238">Access Finance or RCS in the second session of your web browser using same credentials and company as in the first session.</span></span>
2. <span data-ttu-id="c7be3-239">Accédez à **Administration d’organisation \> États électroniques \> Configurations**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-239">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
3. <span data-ttu-id="c7be3-240">Développez la configuration **Modèle pour apprendre les sources de données JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-240">Expand **Model to learn JOIN data sources** configuration.</span></span>
4. <span data-ttu-id="c7be3-241">Sélectionnez la configuration **Mise en forme pour apprendre les sources de données JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-241">Select **Format to learn JOIN data sources** configuration.</span></span>
5. <span data-ttu-id="c7be3-242">Sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-242">Select **Designer**.</span></span>
6. <span data-ttu-id="c7be3-243">Sélectionnez **Afficher les détails**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-243">Select **Show details**.</span></span>
7. <span data-ttu-id="c7be3-244">Sélectionnez **Mappage**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-244">Select **Mapping**.</span></span>
8. <span data-ttu-id="c7be3-245">Sélectionnez **Développer/Réduire**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-245">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="c7be3-246">Ce format est conçu pour remplir un fichier texte généré avec une nouvelle ligne pour chaque version d’une configuration ER (souche **Version** ).</span><span class="sxs-lookup"><span data-stu-id="c7be3-246">This format is designed to populate a generated text file with a new line for every version of an ER configuration (**Version** sequence).</span></span> <span data-ttu-id="c7be3-247">Chaque ligne générée contient le nom d’un fournisseur de configuration possédant la configuration actuelle, le nom de la configuration et la version de la configuration séparés par un point-virgule.</span><span class="sxs-lookup"><span data-stu-id="c7be3-247">Each generated line will contain the name of a configuration provider owning the current configuration, the configuration name, and the configuration version separated by semicolon mark.</span></span> <span data-ttu-id="c7be3-248">La ligne finale du fichier généré contiendra le numéro de versions détecté de configurations ER (souche **Synthèse** ).</span><span class="sxs-lookup"><span data-stu-id="c7be3-248">The final line of generated file will contain the number of discovered versions of ER configurations (**Summary** sequence).</span></span>

    ![Page Concepteur de formats ER](./media/GER-JoinDS-FormatReview.PNG)

    <span data-ttu-id="c7be3-250">Les sources de données **Données** et **Synthèse** sont utilisées pour remplir les détails de la version de configuration dans le fichier généré :</span><span class="sxs-lookup"><span data-stu-id="c7be3-250">The **Data** and **Summary** data sources are used to populate configuration version details to the generated file:</span></span>

    - <span data-ttu-id="c7be3-251">Les informations du modèle de données **Set1** sont utilisées lorsque vous sélectionnez **Non** pour la source de données **Sélecteur** au moment de l’exécution dans la page de la boîte de dialogue utilisateur en exécutant le format ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-251">Information from the **Set1** data model is used when you choose **No** for the **Selector** data source at runtime on the user dialog page when running ER format.</span></span>
    - <span data-ttu-id="c7be3-252">Les informations du modèle de données **Set2** sont utilisées lorsque vous sélectionnez **Oui** pour la source de données **Sélecteur** au moment de l’exécution dans la page de la boîte de dialogue utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c7be3-252">Information from the **Set2** data model is used when you choose **Yes** for the **Selector** data source at runtime on the user dialog page.</span></span>

    ![Page Concepteur de formats ER](./media/GER-JoinDS-FormatMappingReview.PNG)

9. <span data-ttu-id="c7be3-254">Sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-254">Select **Run**.</span></span>
10. <span data-ttu-id="c7be3-255">Dans la page de dialogue, sélectionnez **Non** dans le champ **Utiliser la source de données JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-255">On the dialog page, select **No** in the **Use JOIN data source** field.</span></span>
11. <span data-ttu-id="c7be3-256">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-256">Select **OK**.</span></span>
12. <span data-ttu-id="c7be3-257">Vérifiez les fichiers générés.</span><span class="sxs-lookup"><span data-stu-id="c7be3-257">Review generated file.</span></span>

    ![Page de boîte de dialogue utilisateur pour ER](./media/GER-JoinDS-Set1Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><span data-ttu-id="c7be3-259">Analyser le suivi de l’exécution du format ER</span><span class="sxs-lookup"><span data-stu-id="c7be3-259">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="c7be3-260">Dans la première session de Finance ou RCS, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-260">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="c7be3-261">sélectionnez **Suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-261">Select **Performance trac** e.</span></span>
3. <span data-ttu-id="c7be3-262">Dans la grille **Suivi des performances**, sélectionnez l’enregistrement le plus élevé du dernier de l’exécution d’un format ER ayant utilisé le composant de mise en correspondance du modèle actuel.</span><span class="sxs-lookup"><span data-stu-id="c7be3-262">In the **Performance trace** grid, select the top-most record of the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="c7be3-263">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-263">Select **OK**.</span></span>

    <span data-ttu-id="c7be3-264">Les statistiques d’exécution vous informent sur les appels en double des tables d’application :</span><span class="sxs-lookup"><span data-stu-id="c7be3-264">Execution statistics informs you about duplicated calls to application tables:</span></span>

    - <span data-ttu-id="c7be3-265">**ERSolutionTable** a été appelé autant de fois que vous avez d’enregistrements de version de configuration dans la table **ERSolutionVersionTable**, tandis que le nombre de ce type d’appels peut être réduit parfois pour l’amélioration des performances.</span><span class="sxs-lookup"><span data-stu-id="c7be3-265">**ERSolutionTable** has been called as many times as you have configuration version records in the **ERSolutionVersionTable** table, while the number of such calls could be reduced in times for performance improvement.</span></span>
    - <span data-ttu-id="c7be3-266">**ERVendorTable** a été appelé deux fois pour chaque enregistrement de version de configuration détecté dans la table **ERSolutionVersionTable**, tandis que le nombre de ce type d’appels peut être réduit également.</span><span class="sxs-lookup"><span data-stu-id="c7be3-266">**ERVendorTable** has been called twice for every configuration version record that was discovered in the **ERSolutionVersionTable** table, while the number of such calls could be reduced as well.</span></span>

    ![Page du concepteur de mise en correspondance des modèles ER](./media/GER-JoinDS-Set1Run2.PNG)

5. <span data-ttu-id="c7be3-268">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="c7be3-268">Close the page.</span></span>

### <a name="execute-er-format"></a><span data-ttu-id="c7be3-269">Exécuter le format ER</span><span class="sxs-lookup"><span data-stu-id="c7be3-269">Execute ER format</span></span>

1. <span data-ttu-id="c7be3-270">Passez à votre onglet du navigateur web avec la deuxième session de Finance ou RCS.</span><span class="sxs-lookup"><span data-stu-id="c7be3-270">Switch to your web browser tab with the second session of Finance or RCS.</span></span>
2. <span data-ttu-id="c7be3-271">Sélectionnez **Exécuter**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-271">Select **Run**.</span></span>
3. <span data-ttu-id="c7be3-272">Dans la page de dialogue, sélectionnez **Oui** dans le champ **Utiliser la source de données JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-272">On the dialog page, select **Yes** in the **Use JOIN data source** field.</span></span>
4. <span data-ttu-id="c7be3-273">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-273">Select **OK**.</span></span>
5. <span data-ttu-id="c7be3-274">Vérifiez les fichiers générés.</span><span class="sxs-lookup"><span data-stu-id="c7be3-274">Review generated file.</span></span>

    ![Page de boîte de dialogue utilisateur pour ER](./media/GER-JoinDS-Set2Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><a name="analyze"></a> <span data-ttu-id="c7be3-276">Analyser le suivi de l’exécution du format ER</span><span class="sxs-lookup"><span data-stu-id="c7be3-276">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="c7be3-277">Dans la première session de Finance ou RCS, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-277">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="c7be3-278">Sélectionnez **Suivi des performances**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-278">Select **Performance trace**.</span></span>
3. <span data-ttu-id="c7be3-279">Dans la grille **Suivi des performances**, sélectionnez l’enregistrement le plus élevé représentant l’exécution d’un format ER la plus récente ayant utilisé le composant de mise en correspondance du modèle actuel.</span><span class="sxs-lookup"><span data-stu-id="c7be3-279">In the **Performance trace** grid, select top-most record representing the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="c7be3-280">Cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-280">Select **OK**.</span></span>

    <span data-ttu-id="c7be3-281">Les statistiques vous informent sur les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="c7be3-281">Statistics informs you about the following:</span></span>

    - <span data-ttu-id="c7be3-282">La base de données d’application a été appelée une fois pour obtenir des enregistrements auprès des tables **ERVendorTable**, **ERSolutionTable** et **ERSolutionVersionTable** pour accéder aux champs obligatoires.</span><span class="sxs-lookup"><span data-stu-id="c7be3-282">Application database has been called once to get records from **ERVendorTable**, **ERSolutionTable**, and **ERSolutionVersionTable** tables to access required fields.</span></span>

    ![Page du concepteur de mise en correspondance des modèles ER](./media/GER-JoinDS-Set2Run2.PNG)

    - <span data-ttu-id="c7be3-284">La base de données d’application a été appelée une fois pour calculer le nombre de versions de configuration utilisant des jointures ayant été configurées dans la source de données **Détails**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-284">Application database has been called once to calculate the number of configuration versions by using joins that were configured in the **Details** data source.</span></span>

    ![Page du concepteur de mise en correspondance des modèles ER](./media/GER-JoinDS-Set2Run3.PNG)

## <a name="limitations"></a><span data-ttu-id="c7be3-286">Limitations</span><span class="sxs-lookup"><span data-stu-id="c7be3-286">Limitations</span></span>

<span data-ttu-id="c7be3-287">Comme vous pouvez le voir dans l’exemple de cette rubrique, la source de données **JOIN** peut être construite à partir de plusieurs sources de données qui décrivent les ensembles de données individuels des enregistrements qui doivent finalement être joints.</span><span class="sxs-lookup"><span data-stu-id="c7be3-287">As you can see from the example in this topic, the **JOIN** data source can be built from several data sources that describe the individual datasets of the records that must eventually be joined.</span></span> <span data-ttu-id="c7be3-288">Vous pouvez configurer ces sources de données à l’aide de la fonction de l’ER intégré [FILTER](er-functions-list-filter.md).</span><span class="sxs-lookup"><span data-stu-id="c7be3-288">You can configure those data sources by using the built-in ER [FILTER](er-functions-list-filter.md) function.</span></span> <span data-ttu-id="c7be3-289">Lorsque vous configurez la source de données afin qu’elle soit appelée au-delà de la source de données **JOIN**, vous pouvez utiliser des plages de sociétés dans le cadre de la condition de sélection des données.</span><span class="sxs-lookup"><span data-stu-id="c7be3-289">When you configure the data source so that it's called beyond the **JOIN** data source, you can use company ranges as part of the condition for data selection.</span></span> <span data-ttu-id="c7be3-290">La mise en œuvre initiale de la source de données **JOIN** ne prend pas en charge les sources de données de ce type.</span><span class="sxs-lookup"><span data-stu-id="c7be3-290">The initial implementation of the **JOIN** data source doesn't support data sources of this type.</span></span> <span data-ttu-id="c7be3-291">Par exemple, lorsque vous appelez une source de données basée sur un [FILTRE](er-functions-list-filter.md) dans le cadre de l’exécution d’une source de données **JOIN**, si la source de données appelée contient des plages de sociétés dans le cadre de la condition de sélection des données, une exception se produit.</span><span class="sxs-lookup"><span data-stu-id="c7be3-291">For example, when you call a [FILTER](er-functions-list-filter.md)-based data source within the scope of execution of a **JOIN** data source, if the called data source contains company ranges as part of the condition for data selection, an exception occurs.</span></span>

<span data-ttu-id="c7be3-292">Dans Microsoft Dynamics 365 Finance version 10.0.12 (août 2020), vous pouvez utiliser des plages de sociétés dans le cadre de la condition de sélection des données dans les sources de données basées sur le [FILTRE](er-functions-list-filter.md) qui sont appelées dans le cadre de l’exécution d’une source de données **JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-292">In Microsoft Dynamics 365 Finance version 10.0.12 (August 2020), you can use company ranges as part of the condition for data selection in [FILTER](er-functions-list-filter.md)-based data sources that are called within the scope of execution of a **JOIN** data source.</span></span> <span data-ttu-id="c7be3-293">En raison des limites de l’application configuratrice [query](../dev-ref/xpp-library-objects.md#query-object-model), les gammes d’entreprise ne sont prises en charge que pour la première source de données **JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-293">Because of the limitations of the application [query](../dev-ref/xpp-library-objects.md#query-object-model) builder, the company ranges are supported only for the first data source of a **JOIN** data source.</span></span>

### <a name="example"></a><span data-ttu-id="c7be3-294">Exemple</span><span class="sxs-lookup"><span data-stu-id="c7be3-294">Example</span></span>

<span data-ttu-id="c7be3-295">Par exemple, vous devez effectuer un appel unique à la base de données d’application pour obtenir la liste des transactions de commerce extérieur de plusieurs sociétés et les détails de l’article en stock auquel il est fait référence dans ces transactions.</span><span class="sxs-lookup"><span data-stu-id="c7be3-295">For example, you must make a single call to the application database to get the list of foreign trade transactions of multiple companies and the details of the inventory item that is referred to in those transactions.</span></span>

<span data-ttu-id="c7be3-296">Dans ce cas, vous configurez les artefacts suivants dans votre mise en correspondances de modèles ER :</span><span class="sxs-lookup"><span data-stu-id="c7be3-296">In this case, you configure the following artifacts in your ER model mapping:</span></span>

- <span data-ttu-id="c7be3-297">La source de données racine **Intrastat** qui représente la table **Intrastat**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-297">**Intrastat** root data source that represents the **Intrastat** table.</span></span>
- <span data-ttu-id="c7be3-298">La source de données racine **Articles** qui représente la table **InventTable**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-298">**Items** root data source that represents the **InventTable** table.</span></span>
- <span data-ttu-id="c7be3-299">La source de données racine **Entreprises** qui renvoie la liste des sociétés (**DEMF** et **GBSI** dans cet exemple) où les transactions doivent être accessibles.</span><span class="sxs-lookup"><span data-stu-id="c7be3-299">**Companies** root data source that returns the list of companies (**DEMF** and **GBSI** in this example) where transactions must be accessed.</span></span> <span data-ttu-id="c7be3-300">Le code d’entreprise est disponible dans le champ **Companies.Code**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-300">The company code is available from the **Companies.Code** field.</span></span>
- <span data-ttu-id="c7be3-301">La source de données racine **X1** qui a l’expression `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span><span class="sxs-lookup"><span data-stu-id="c7be3-301">**X1** root data source that has the expression `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span></span> <span data-ttu-id="c7be3-302">Dans le cadre de la condition de sélection des données, cette expression contient la définition des plages d’entreprises `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span><span class="sxs-lookup"><span data-stu-id="c7be3-302">As part of the condition for data selection, this expression contains the definition of company ranges `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span></span>
- <span data-ttu-id="c7be3-303">La source de données **X2** en tant qu’élément imbriqué de la source de données **X1**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-303">**X2** data source as a nested item of the **X1** data source.</span></span> <span data-ttu-id="c7be3-304">Elle comprend l’expression `FILTER (Items, Items.ItemId = X1.ItemId)`.</span><span class="sxs-lookup"><span data-stu-id="c7be3-304">It includes the expression `FILTER (Items, Items.ItemId = X1.ItemId)`.</span></span>

<span data-ttu-id="c7be3-305">Enfin, vous pouvez configurer une source de données **JOIN** où **X1** est la première source de données et **X2** est la deuxième source de données.</span><span class="sxs-lookup"><span data-stu-id="c7be3-305">Finally, you can configure a **JOIN** data source where **X1** is the first data source and **X2** is the second data source.</span></span> <span data-ttu-id="c7be3-306">Vous pouvez spécifier **Requête** comme l’option **Exécuter** pour forcer ER à exécuter cette source de données au niveau de la base de données en tant qu’appel SQL direct.</span><span class="sxs-lookup"><span data-stu-id="c7be3-306">You can specify **Query** as the **Execute** option to force ER to run this data source on the database level as a direct SQL call.</span></span>

<span data-ttu-id="c7be3-307">Lorsque la source de données configurée est exécutée pendant que l’exécution ER est [tracé](trace-execution-er-troubleshoot-perf.md), l’instruction suivante est affichée dans le concepteur de mise en correspondance des modèles ER dans le cadre de la trace de performance ER.</span><span class="sxs-lookup"><span data-stu-id="c7be3-307">When the configured data source is run while the ER execution is [traced](trace-execution-er-troubleshoot-perf.md), the following statement is shown in the ER model mapping designer as part of the ER performance trace.</span></span>

`SELECT ... FROM INTRASTAT T1 CROSS JOIN INVENTTABLE T2 WHERE ((T1.PARTITION=?) AND (T1.DATAAREAID IN (N'DEMF',N'GBSI') )) AND ((T2.PARTITION=?) AND (T2.ITEMID=T1.ITEMID AND (T2.DATAAREAID = T1.DATAAREAID) AND (T2.PARTITION = T1.PARTITION))) ORDER BY T1.DISPATCHID,T1.SEQNUM`

> [!NOTE]
> <span data-ttu-id="c7be3-308">Une erreur se produit si vous exécutez une source de données **JOIN** qui a été configurée de sorte qu’elle contienne des conditions de sélection de données qui ont des plages de société pour des sources de données supplémentaires de l’exécution de la source de données **JOIN**.</span><span class="sxs-lookup"><span data-stu-id="c7be3-308">An error occurs if you run a **JOIN** data source that has been configured so that it contains data selection conditions that have company ranges for additional data sources of the executed **JOIN** data source.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c7be3-309">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="c7be3-309">Additional resources</span></span>

[<span data-ttu-id="c7be3-310">Concepteur de formule dans la gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="c7be3-310">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="c7be3-311">Suivez l’exécution du format d’ER pour résoudre les problèmes de performances</span><span class="sxs-lookup"><span data-stu-id="c7be3-311">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]