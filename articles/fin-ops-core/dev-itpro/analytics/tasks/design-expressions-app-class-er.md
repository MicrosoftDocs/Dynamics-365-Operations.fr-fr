---
title: Concevoir des expressions de génération d’états électroniques pour appeler les méthodes de classe d’application
description: Ce guide fournit des informations sur la procédure de réutilisation de la logique d’application existante dans les configurations d’états électroniques en appelant les méthodes requises des classes d’application des expressions ER.
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 3d79d1a4e86731a62de4896a489a13f624ce159f
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/05/2020
ms.locfileid: "4682019"
---
# <a name="design-er-expressions-to-call-application-class-methods"></a><span data-ttu-id="1aceb-103">Concevoir des expressions de génération d’états électroniques pour appeler les méthodes de classe d’application</span><span class="sxs-lookup"><span data-stu-id="1aceb-103">Design ER expressions to call application class methods</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="1aceb-104">Ce guide fournit des informations sur la procédure de réutilisation de la logique d’application existante dans les configurations d’états électroniques en appelant les méthodes requises des classes d’application des expressions ER.</span><span class="sxs-lookup"><span data-stu-id="1aceb-104">This guide provides information about how to reuse the existing application logic in Electronic reporting (ER) configurations by calling required methods of application classes in ER expressions.</span></span> <span data-ttu-id="1aceb-105">Les valeurs des arguments d’appel des classes peuvent être définies dynamiquement au moment de l’exécution : par exemple, sur la base des informations du document d’analyse pour garantir leur exactitude.</span><span class="sxs-lookup"><span data-stu-id="1aceb-105">Values of arguments for calling classes can be defined dynamically at run-time: for example, based on information in the parsing document to ensure its correctness.</span></span> <span data-ttu-id="1aceb-106">Dans ce guide, vous allez créer les configurations ER requises pour l’exemple de société, Litware, Inc. Cette procédure est créée pour les utilisateurs ayant le rôle d’administrateur système ou de développeur de gestion des états électroniques.</span><span class="sxs-lookup"><span data-stu-id="1aceb-106">In this guide, you will create the required ER configurations for the sample company, Litware, Inc. This procedure is created for users with the assigned role of System administrator or Electronic reporting developer.</span></span> 

<span data-ttu-id="1aceb-107">Ces étapes peuvent être effectuées à l’aide d’un ensemble de données quelconque.</span><span class="sxs-lookup"><span data-stu-id="1aceb-107">These steps can be completed using any data set.</span></span> <span data-ttu-id="1aceb-108">Vous devez également télécharger et enregistrer localement le fichier suivant : (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span><span class="sxs-lookup"><span data-stu-id="1aceb-108">You must also download and save the following file locally: (https://go.microsoft.com/fwlink/?linkid=862266): SampleIncomingMessage.txt.</span></span>

<span data-ttu-id="1aceb-109">Pour réaliser ces étapes, vous devez commencer par effectuer les étapes de la procédure « Génération d’états électroniques - Créer un fournisseur de configuration et le marquer comme actif ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-109">To complete these steps, you must first complete the steps in the procedure, "ER Create a configuration provider and mark it as active."</span></span>

1. <span data-ttu-id="1aceb-110">Accédez à Administration d’organisation > Espaces de travail > États électroniques.</span><span class="sxs-lookup"><span data-stu-id="1aceb-110">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="1aceb-111">Vérifiez que le fournisseur de la configuration pour la société fictive Litware, Inc. est disponible et marqué comme actif.</span><span class="sxs-lookup"><span data-stu-id="1aceb-111">Verify that the configuration provider for sample company, Litware, Inc. is available and marked as active.</span></span> <span data-ttu-id="1aceb-112">Si vous ne voyez pas ce fournisseur de configuration, vous devez d’abord effectuer les étapes de la procédure « Créer un fournisseur de configuration et le marquer comme actif ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-112">If you don't see this configuration provider, you must first complete the steps in the procedure, "Create a configuration provider and mark it as active".</span></span>   
    * <span data-ttu-id="1aceb-113">Supposons que vous créiez un processus d’analyse des relevés bancaires entrants pour une mise à jour des données d’application.</span><span class="sxs-lookup"><span data-stu-id="1aceb-113">You are designing a process for parsing incoming bank statements for an application data update.</span></span> <span data-ttu-id="1aceb-114">Vous recevrez les relevés bancaires entrants en tant que fichiers TXT contenant les codes IBAN.</span><span class="sxs-lookup"><span data-stu-id="1aceb-114">You will receive the incoming bank statements as TXT files that contain IBAN codes.</span></span> <span data-ttu-id="1aceb-115">Dans le cadre du processus d’importation des relevés bancaires, vous devez valider l’exactitude des codes IBAN à l’aide de la logique qui est déjà disponible.</span><span class="sxs-lookup"><span data-stu-id="1aceb-115">As part of the bank statement import process, you need to validate the correctness of this IBAN codes using the logic that is already available.</span></span>   

## <a name="import-a-new-er-model-configuration"></a><span data-ttu-id="1aceb-116">Importer une nouvelle configuration du modèle ER</span><span class="sxs-lookup"><span data-stu-id="1aceb-116">Import a new ER model configuration</span></span>
1. <span data-ttu-id="1aceb-117">Dans la liste, recherchez et sélectionnez l’enregistrement souhaité.</span><span class="sxs-lookup"><span data-stu-id="1aceb-117">In the list, find and select the desired record.</span></span>
    * <span data-ttu-id="1aceb-118">Sélectionnez la vignette Fournisseur Microsoft.</span><span class="sxs-lookup"><span data-stu-id="1aceb-118">Select the Microsoft provider tile.</span></span>  
2. <span data-ttu-id="1aceb-119">Cliquez sur Référentiels.</span><span class="sxs-lookup"><span data-stu-id="1aceb-119">Click Repositories.</span></span>
3. <span data-ttu-id="1aceb-120">Cliquez sur Afficher les filtres.</span><span class="sxs-lookup"><span data-stu-id="1aceb-120">Click Show filters.</span></span>
4. <span data-ttu-id="1aceb-121">Ajoutez un champ de filtre « Nom du type ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-121">Add a filter field 'Type name'.</span></span> <span data-ttu-id="1aceb-122">Dans le champ Nom, entrez la valeur « ressources », sélectionnez l’opérateur de filtre « contient », puis cliquez sur Appliquer.</span><span class="sxs-lookup"><span data-stu-id="1aceb-122">In the Name field, enter the value "resources", select the "contains" filter operator, and then click Apply.</span></span>
5. <span data-ttu-id="1aceb-123">Cliquez sur Ouvrir.</span><span class="sxs-lookup"><span data-stu-id="1aceb-123">Click Open.</span></span>
6. <span data-ttu-id="1aceb-124">Dans l’arborescence, sélectionnez « Modèle de paiement ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-124">In the tree, select 'Payment model'.</span></span>
    * <span data-ttu-id="1aceb-125">Si le bouton Importer dans l’organisateur Versions n’est pas activé, vous avez déjà importé la version 1 de la configuration ER « Modèle de paiement ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-125">If the Import button on the Versions FastTab is not enabled, you have already imported the version 1 one of the ER configuration 'Payment model'.</span></span> <span data-ttu-id="1aceb-126">Vous pouvez ignorer les étapes restantes de cette sous-tâche.</span><span class="sxs-lookup"><span data-stu-id="1aceb-126">You can skip the rest steps in this sub-task.</span></span>   
7. <span data-ttu-id="1aceb-127">Cliquez sur Importer.</span><span class="sxs-lookup"><span data-stu-id="1aceb-127">Click Import.</span></span>
8. <span data-ttu-id="1aceb-128">Cliquez sur Oui.</span><span class="sxs-lookup"><span data-stu-id="1aceb-128">Click Yes.</span></span>
9. <span data-ttu-id="1aceb-129">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="1aceb-129">Close the page.</span></span>
10. <span data-ttu-id="1aceb-130">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="1aceb-130">Close the page.</span></span>

## <a name="add-a-new-er-format-configuration"></a><span data-ttu-id="1aceb-131">Ajouter une nouvelle configuration du format ER</span><span class="sxs-lookup"><span data-stu-id="1aceb-131">Add a new ER format configuration</span></span>
1. <span data-ttu-id="1aceb-132">Cliquez sur Configurations des états.</span><span class="sxs-lookup"><span data-stu-id="1aceb-132">Click Reporting configurations.</span></span>
    * <span data-ttu-id="1aceb-133">Ajoutez un nouveau format ER pour analyser les relevés bancaires entrants au format TXT.</span><span class="sxs-lookup"><span data-stu-id="1aceb-133">Add a new ER format to parse incoming bank statements in TXT format.</span></span>  
2. <span data-ttu-id="1aceb-134">Dans l’arborescence, sélectionnez « Modèle de paiement ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-134">In the tree, select 'Payment model'.</span></span>
3. <span data-ttu-id="1aceb-135">Cliquez sur Créer la configuration pour ouvrir le menu associé.</span><span class="sxs-lookup"><span data-stu-id="1aceb-135">Click Create configuration to open the dialog menu.</span></span>
4. <span data-ttu-id="1aceb-136">Dans le champ Nouveau, entrez « Format basé sur le PaymentModel du modèle du paiement ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-136">In the New field, enter 'Format based on data model PaymentModel'.</span></span>
5. <span data-ttu-id="1aceb-137">Dans le champ Nom, tapez « Format d’importation des relevés bancaires (exemple) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-137">In the Name field, type 'Bank statement import format (sample)'.</span></span>
    * <span data-ttu-id="1aceb-138">Format d’importation des relevés bancaires (exemple)</span><span class="sxs-lookup"><span data-stu-id="1aceb-138">Bank statement import format (sample)</span></span>  
6. <span data-ttu-id="1aceb-139">Sélectionnez Oui dans le champ Prend en charge l’importation de données.</span><span class="sxs-lookup"><span data-stu-id="1aceb-139">Select Yes in the Supports data import field.</span></span>
7. <span data-ttu-id="1aceb-140">Cliquez sur Créer une configuration.</span><span class="sxs-lookup"><span data-stu-id="1aceb-140">Click Create configuration.</span></span>

## <a name="design-the-er-format-configuration---format"></a><span data-ttu-id="1aceb-141">Créer la configuration du format ER - format</span><span class="sxs-lookup"><span data-stu-id="1aceb-141">Design the ER format configuration - format</span></span>
1. <span data-ttu-id="1aceb-142">Cliquez sur Concepteur.</span><span class="sxs-lookup"><span data-stu-id="1aceb-142">Click Designer.</span></span>
    * <span data-ttu-id="1aceb-143">Le format conçu représente la structure attendue du fichier externe au format TXT.</span><span class="sxs-lookup"><span data-stu-id="1aceb-143">The designed format represents the expected structure of the external file in TXT format.</span></span>  
2. <span data-ttu-id="1aceb-144">Cliquez sur Ajouter racine pour ouvrir le menu associé.</span><span class="sxs-lookup"><span data-stu-id="1aceb-144">Click Add root to open the dialog menu.</span></span>
3. <span data-ttu-id="1aceb-145">Dans l’arborescence, sélectionnez « Texte\Souche ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-145">In the tree, select 'Text\Sequence'.</span></span>
4. <span data-ttu-id="1aceb-146">Dans le champ Nom, tapez « Racine ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-146">In the Name field, type 'Root'.</span></span>
    * <span data-ttu-id="1aceb-147">Racine</span><span class="sxs-lookup"><span data-stu-id="1aceb-147">Root</span></span>  
5. <span data-ttu-id="1aceb-148">Dans le champ Caractères spéciaux, sélectionnez « Nouvelle ligne - Windows (CR LF) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-148">In the Special characters field, select 'New line - Windows (CR LF)'.</span></span>
    * <span data-ttu-id="1aceb-149">L’option « Nouvelle ligne - Windows (CR LF) » a été sélectionné dans le champ « Caractères spéciaux ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-149">The option 'New line - Windows (CR LF)' has been selected in the 'Special characters' field.</span></span> <span data-ttu-id="1aceb-150">Selon ce paramètre, chaque ligne du fichier d’analyse est considérée comme un enregistrement distinct.</span><span class="sxs-lookup"><span data-stu-id="1aceb-150">Based on this setting, each line in the parsing file is considered a separate record.</span></span>  
6. <span data-ttu-id="1aceb-151">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="1aceb-151">Click OK.</span></span>
7. <span data-ttu-id="1aceb-152">Cliquez sur Ajouter pour ouvrir la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="1aceb-152">Click Add to open the drop dialog.</span></span>
8. <span data-ttu-id="1aceb-153">Dans l’arborescence, sélectionnez « Texte\Souche ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-153">In the tree, select 'Text\Sequence'.</span></span>
9. <span data-ttu-id="1aceb-154">Dans le champ Nom, tapez « Lignes ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-154">In the Name field, type 'Rows'.</span></span>
    * <span data-ttu-id="1aceb-155">Lignes</span><span class="sxs-lookup"><span data-stu-id="1aceb-155">Rows</span></span>  
10. <span data-ttu-id="1aceb-156">Dans le champ Multiplicité, sélectionnez « Un plusieurs ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-156">In the Multiplicity field, select 'One many'.</span></span>
    * <span data-ttu-id="1aceb-157">L’option « Un plusieurs » a été sélectionnée dans le champ « Multiplicité ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-157">The option 'One many' has been selected in the 'Multiplicity' field.</span></span> <span data-ttu-id="1aceb-158">En fonction de ce paramètre, il est prévu qu’au moins une ligne soit présentée dans le fichier d’analyse.</span><span class="sxs-lookup"><span data-stu-id="1aceb-158">Based on this setting, it is expected that at least one line will be presented in the parsing file.</span></span>  
11. <span data-ttu-id="1aceb-159">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="1aceb-159">Click OK.</span></span>
12. <span data-ttu-id="1aceb-160">Dans l’arborescence, sélectionnez « Racine\Lignes ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-160">In the tree, select 'Root\Rows'.</span></span>
13. <span data-ttu-id="1aceb-161">Cliquez sur Ajouter une séquence.</span><span class="sxs-lookup"><span data-stu-id="1aceb-161">Click Add Sequence.</span></span>
14. <span data-ttu-id="1aceb-162">Dans le champ Nom, tapez « Champs ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-162">In the Name field, type 'Fields'.</span></span>
    * <span data-ttu-id="1aceb-163">Champs</span><span class="sxs-lookup"><span data-stu-id="1aceb-163">Fields</span></span>  
15. <span data-ttu-id="1aceb-164">Dans le champ Multiplicité, sélectionnez « Un seul ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-164">In the Multiplicity field, select 'Exactly one'.</span></span>
16. <span data-ttu-id="1aceb-165">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="1aceb-165">Click OK.</span></span>
17. <span data-ttu-id="1aceb-166">Dans l’arborescence, sélectionnez « Racine\Lignes\Champs ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-166">In the tree, select 'Root\Rows\Fields'.</span></span>
18. <span data-ttu-id="1aceb-167">Cliquez sur Ajouter pour ouvrir la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="1aceb-167">Click Add to open the drop dialog.</span></span>
19. <span data-ttu-id="1aceb-168">Dans l’arborescence, sélectionnez « Texte\Chaîne ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-168">In the tree, select 'Text\String'.</span></span>
20. <span data-ttu-id="1aceb-169">Tapez « IBAN » dans le champ Nom.</span><span class="sxs-lookup"><span data-stu-id="1aceb-169">In the Name field, type 'IBAN'.</span></span>
    * <span data-ttu-id="1aceb-170">IBAN</span><span class="sxs-lookup"><span data-stu-id="1aceb-170">IBAN</span></span>  
21. <span data-ttu-id="1aceb-171">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="1aceb-171">Click OK.</span></span>
    * <span data-ttu-id="1aceb-172">Il a été configuré de manière à ce que chaque ligne du fichier d’analyse contienne le code IBAN.</span><span class="sxs-lookup"><span data-stu-id="1aceb-172">It has been configured that each line in the parsing file contains the only IBAN code.</span></span>  
22. <span data-ttu-id="1aceb-173">Cliquez sur Enregistrer.</span><span class="sxs-lookup"><span data-stu-id="1aceb-173">Click Save.</span></span>

## <a name="design-the-er-format-configuration--mapping-to-data-model"></a><span data-ttu-id="1aceb-174">Créer la configuration du format ER – mise en correspondance avec le modèle de données</span><span class="sxs-lookup"><span data-stu-id="1aceb-174">Design the ER format configuration – mapping to data model</span></span>
1. <span data-ttu-id="1aceb-175">Cliquez sur Mettre en correspondance vers le modèle.</span><span class="sxs-lookup"><span data-stu-id="1aceb-175">Click Map format to model.</span></span>
2. <span data-ttu-id="1aceb-176">Cliquez sur Nouveau.</span><span class="sxs-lookup"><span data-stu-id="1aceb-176">Click New.</span></span>
3. <span data-ttu-id="1aceb-177">Dans le champ Définition, tapez « BankToCustomerDebitCreditNotificationInitiation ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-177">In the Definition field, type 'BankToCustomerDebitCreditNotificationInitiation'.</span></span>
    * <span data-ttu-id="1aceb-178">BankToCustomerDebitCreditNotificationInitiation</span><span class="sxs-lookup"><span data-stu-id="1aceb-178">BankToCustomerDebitCreditNotificationInitiation</span></span>  
4. <span data-ttu-id="1aceb-179">Résolvez les modifications de la définition.</span><span class="sxs-lookup"><span data-stu-id="1aceb-179">ResolveChanges the Definition.</span></span>
5. <span data-ttu-id="1aceb-180">Dans le champ Nom, tapez « Mise en correspondance avec le modèle de données ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-180">In the Name field, type 'Mapping to data model'.</span></span>
    * <span data-ttu-id="1aceb-181">Mise en correspondance avec le modèle de données</span><span class="sxs-lookup"><span data-stu-id="1aceb-181">Mapping to data model</span></span>  
6. <span data-ttu-id="1aceb-182">Cliquez sur Enregistrer.</span><span class="sxs-lookup"><span data-stu-id="1aceb-182">Click Save.</span></span>
7. <span data-ttu-id="1aceb-183">Cliquez sur Concepteur.</span><span class="sxs-lookup"><span data-stu-id="1aceb-183">Click Designer.</span></span>
8. <span data-ttu-id="1aceb-184">Dans l’arborescence, sélectionnez Dynamics 365 for Operations\Classe.</span><span class="sxs-lookup"><span data-stu-id="1aceb-184">In the tree, select 'Dynamics 365 for Operations\Class'.</span></span>
9. <span data-ttu-id="1aceb-185">Cliquez sur Ajouter racine.</span><span class="sxs-lookup"><span data-stu-id="1aceb-185">Click Add root.</span></span>
    * <span data-ttu-id="1aceb-186">Ajoutez une nouvelle source de données pour appeler la logique d’application existante pour la validation des codes IBAN.</span><span class="sxs-lookup"><span data-stu-id="1aceb-186">Add a new data source to call the existing application logic for IBAN codes validation.</span></span>  
10. <span data-ttu-id="1aceb-187">Dans le champ Nom, tapez « check_codes ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-187">In the Name field, type 'check_codes'.</span></span>
    * <span data-ttu-id="1aceb-188">check_codes</span><span class="sxs-lookup"><span data-stu-id="1aceb-188">check_codes</span></span>  
11. <span data-ttu-id="1aceb-189">Dans le champ Classe, tapez « ISO7064 ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-189">In the Class field, type 'ISO7064'.</span></span>
    * <span data-ttu-id="1aceb-190">ISO7064</span><span class="sxs-lookup"><span data-stu-id="1aceb-190">ISO7064</span></span>  
12. <span data-ttu-id="1aceb-191">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="1aceb-191">Click OK.</span></span>
13. <span data-ttu-id="1aceb-192">Dans l’arborescence, développez « format ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-192">In the tree, expand 'format'.</span></span>
14. <span data-ttu-id="1aceb-193">Dans l’arborescence, développez « format\Racine : Séquence (Racine) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-193">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
15. <span data-ttu-id="1aceb-194">Dans l’arborescence, sélectionnez « format\Racine : Séquence (Racine)\Lignes : Séquence 1.. \* (Lignes) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-194">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
16. <span data-ttu-id="1aceb-195">Cliquez sur Lier.</span><span class="sxs-lookup"><span data-stu-id="1aceb-195">Click Bind.</span></span>
17. <span data-ttu-id="1aceb-196">Dans l’arborescence, développez « format\Racine : Séquence (Racine)\Lignes : Séquence 1.. \* (Lignes) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-196">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
18. <span data-ttu-id="1aceb-197">Dans l’arborescence, développez « format\Racine : Séquence (Racine)\Lignes : Séquence 1..\* (Lignes)\Champs : Séquence 1..1 (Champs) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-197">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
19. <span data-ttu-id="1aceb-198">Dans l’arborescence, sélectionnez « format\Racine : Séquence (Racine)\Lignes : Séquence 1..\* (Lignes)\Champs : Séquence 1..1 (Champs)\IBAN : Chaîne (IBAN) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-198">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
20. <span data-ttu-id="1aceb-199">Dans l’arborescence, développez « Paiements = format.Root.Rows ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-199">In the tree, expand 'Payments = format.Root.Rows'.</span></span>
21. <span data-ttu-id="1aceb-200">Dans l’arborescence, développez « Paiements = format.Root.Rows\Compte créditeur (CreditorAccount) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-200">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)'.</span></span>
22. <span data-ttu-id="1aceb-201">Dans l’arborescence, développez « Paiements = format.Root.Rows\Compte créditeur (CreditorAccount)\Identification ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-201">In the tree, expand 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification'.</span></span>
23. <span data-ttu-id="1aceb-202">Dans l’arborescence, sélectionnez « Paiements = format.Root.RowsCompte\créditeur(CreditorAccount)\Identification\IBAN ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-202">In the tree, select 'Payments = format.Root.Rows\Creditor Account(CreditorAccount)\Identification\IBAN'.</span></span>
24. <span data-ttu-id="1aceb-203">Cliquez sur Lier.</span><span class="sxs-lookup"><span data-stu-id="1aceb-203">Click Bind.</span></span>
25. <span data-ttu-id="1aceb-204">Cliquez sur l’onglet Validations.</span><span class="sxs-lookup"><span data-stu-id="1aceb-204">Click the Validations tab.</span></span>
26. <span data-ttu-id="1aceb-205">Cliquez sur Nouveau.</span><span class="sxs-lookup"><span data-stu-id="1aceb-205">Click New.</span></span>
    * <span data-ttu-id="1aceb-206">Ajoutez une nouvelle règle de validation qui affiche une erreur pour toute ligne du fichier d’analyse qui contient un code IBAN incorrect.</span><span class="sxs-lookup"><span data-stu-id="1aceb-206">Add a new validation rule that displays an error for any line in the parsing file that contains invalid IBAN code.</span></span>  
27. <span data-ttu-id="1aceb-207">Cliquez sur Modifier la condition.</span><span class="sxs-lookup"><span data-stu-id="1aceb-207">Click Edit condition.</span></span>
28. <span data-ttu-id="1aceb-208">Dans l’arborescence, développez « check_codes ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-208">In the tree, expand 'check_codes'.</span></span>
29. <span data-ttu-id="1aceb-209">Dans l’arborescence, sélectionnez « check_codes\verifyMOD1271_36 ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-209">In the tree, select 'check_codes\verifyMOD1271_36'.</span></span>
30. <span data-ttu-id="1aceb-210">Cliquez sur Ajouter une source de données.</span><span class="sxs-lookup"><span data-stu-id="1aceb-210">Click Add data source.</span></span>
31. <span data-ttu-id="1aceb-211">Dans le champ Formule, entrez « check_codes.verifyMOD1271_36( ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-211">In the Formula field, enter 'check_codes.verifyMOD1271_36('.</span></span>
    * <span data-ttu-id="1aceb-212">check_codes.verifyMOD1271_36(</span><span class="sxs-lookup"><span data-stu-id="1aceb-212">check_codes.verifyMOD1271_36(</span></span>  
32. <span data-ttu-id="1aceb-213">Dans l’arborescence, développez « format ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-213">In the tree, expand 'format'.</span></span>
33. <span data-ttu-id="1aceb-214">Dans l’arborescence, développez « format\Racine : Séquence (Racine) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-214">In the tree, expand 'format\Root: Sequence(Root)'.</span></span>
34. <span data-ttu-id="1aceb-215">Dans l’arborescence, développez « format\Racine : Séquence (Racine)\Lignes : Séquence 1.. \* (Lignes) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-215">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)'.</span></span>
35. <span data-ttu-id="1aceb-216">Dans l’arborescence, développez « format\Racine : Séquence (Racine)\Lignes : Séquence 1..\* (Lignes)\Champs : Séquence 1..1 (Champs) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-216">In the tree, expand 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)'.</span></span>
36. <span data-ttu-id="1aceb-217">Dans l’arborescence, sélectionnez « format\Racine : Séquence (Racine)\Lignes : Séquence 1..\* (Lignes)\Champs : Séquence 1..1 (Champs)\IBAN : Chaîne (IBAN) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-217">In the tree, select 'format\Root: Sequence(Root)\Rows: Sequence 1..\* (Rows)\Fields: Sequence 1..1 (Fields)\IBAN: String(IBAN)'.</span></span>
37. <span data-ttu-id="1aceb-218">Cliquez sur Ajouter une source de données.</span><span class="sxs-lookup"><span data-stu-id="1aceb-218">Click Add data source.</span></span>
38. <span data-ttu-id="1aceb-219">Dans le champ Formule, entrez « check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-219">In the Formula field, enter 'check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="1aceb-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="1aceb-220">check_codes.verifyMOD1271_36(format.Root.Rows.Fields.IBAN)</span></span>  
39. <span data-ttu-id="1aceb-221">Cliquez sur Enregistrer.</span><span class="sxs-lookup"><span data-stu-id="1aceb-221">Click Save.</span></span>
40. <span data-ttu-id="1aceb-222">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="1aceb-222">Close the page.</span></span>
    * <span data-ttu-id="1aceb-223">La condition de validation a été configurée pour renvoyer FALSE pour tout code IBAN non valide en appelant la méthode existante « verifyMOD1271_36 » de la classe d’application « ISO7064 ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-223">The validation condition has been configured to return FALSE for any invalid IBAN code by calling the existing method 'verifyMOD1271_36' of the application class 'ISO7064'.</span></span> <span data-ttu-id="1aceb-224">Notez que la valeur du code IBAN est définie dynamiquement au moment de l’exécution en tant qu’argument de la méthode d’appel basée sur le contenu du fichier TXT d’analyse.</span><span class="sxs-lookup"><span data-stu-id="1aceb-224">Note that the value of the IBAN code is defined dynamically at run-time as the argument of the calling method based on the content of the parsing TXT file.</span></span>   
41. <span data-ttu-id="1aceb-225">Cliquez sur Modifier le message.</span><span class="sxs-lookup"><span data-stu-id="1aceb-225">Click Edit message.</span></span>
42. <span data-ttu-id="1aceb-226">Dans le champ Formule, entrez « CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN) ».</span><span class="sxs-lookup"><span data-stu-id="1aceb-226">In the Formula field, enter 'CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)'.</span></span>
    * <span data-ttu-id="1aceb-227">CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)</span><span class="sxs-lookup"><span data-stu-id="1aceb-227">CONCATENATE("Invalid IBAN code has been found:  ", format.Root.Rows.Fields.IBAN)</span></span>  
43. <span data-ttu-id="1aceb-228">Cliquez sur Enregistrer.</span><span class="sxs-lookup"><span data-stu-id="1aceb-228">Click Save.</span></span>
44. <span data-ttu-id="1aceb-229">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="1aceb-229">Close the page.</span></span>
45. <span data-ttu-id="1aceb-230">Cliquez sur Enregistrer.</span><span class="sxs-lookup"><span data-stu-id="1aceb-230">Click Save.</span></span>
46. <span data-ttu-id="1aceb-231">Fermez la page.</span><span class="sxs-lookup"><span data-stu-id="1aceb-231">Close the page.</span></span>

## <a name="run-the-format-mapping"></a><span data-ttu-id="1aceb-232">Exécuter la mise en correspondance des formats</span><span class="sxs-lookup"><span data-stu-id="1aceb-232">Run the format mapping</span></span>
<span data-ttu-id="1aceb-233">À des fins de test, exécutez la mise en correspondance des formats à l’aide du fichier SampleIncomingMessage.txt que vous avez téléchargé.</span><span class="sxs-lookup"><span data-stu-id="1aceb-233">For testing purposes, execute the format mapping using the SampleIncomingMessage.txt file that you downloaded.</span></span> <span data-ttu-id="1aceb-234">La sortie générée contient les données importées depuis le fichier TXT sélectionné et transférées vers le modèle de données personnalisé pendant l’importation réelle.</span><span class="sxs-lookup"><span data-stu-id="1aceb-234">The generated output includes data that will be imported from the selected TXT file and populated to the custom data model during the real import.</span></span>   
1. <span data-ttu-id="1aceb-235">Cliquez sur Exécuter.</span><span class="sxs-lookup"><span data-stu-id="1aceb-235">Click Run.</span></span>
    * <span data-ttu-id="1aceb-236">Cliquez sur Parcourir et accédez au fichier SampleIncomingMessage.txt que vous avez précédemment téléchargé.</span><span class="sxs-lookup"><span data-stu-id="1aceb-236">Click Browse and navigate to the SampleIncomingMessage.txt file that you previously downloaded.</span></span>  
2. <span data-ttu-id="1aceb-237">Cliquez sur OK.</span><span class="sxs-lookup"><span data-stu-id="1aceb-237">Click OK.</span></span>
    * <span data-ttu-id="1aceb-238">Examinez la sortie au format XML, qui représente les données importées depuis le fichier sélectionné et transférées vers le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="1aceb-238">Review the output in XML format that represents the data that has been imported from the selected file and ported to the data model.</span></span> <span data-ttu-id="1aceb-239">Notez que seules 3 lignes du fichier TXT importé ont été traitées.</span><span class="sxs-lookup"><span data-stu-id="1aceb-239">Note that only 3 lines of the imported TXT file were processed.</span></span> <span data-ttu-id="1aceb-240">Le code IBAN sur la ligne 4 qui n’est pas valide a été ignoré et un message d’erreur s’affiche dans la fenêtre Informations.</span><span class="sxs-lookup"><span data-stu-id="1aceb-240">The IBAN code on line 4 that is not valid was skipped and an error message is provided in the Infolog.</span></span>  

