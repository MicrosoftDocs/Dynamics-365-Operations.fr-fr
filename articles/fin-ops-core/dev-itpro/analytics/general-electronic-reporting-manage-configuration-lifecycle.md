---
title: Gérer le cycle de vie de la configuration des états électroniques (ER)
description: Cette rubrique décrit comment gérer le cycle de vie des configurations d’états électroniques (ER) pour Dynamics 365 Finance.
author: NickSelin
ms.date: 04/13/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERMappedFormatDesigner, ERModelMappingDesigner, ERModelMappingTable, ERSolutionImport, ERSolutionTable, ERVendorTable, ERWorkspace
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 58801
ms.assetid: 35ad19ea-185d-4fce-b9cb-f94584b14f75
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 52aba53b5323a9c6c4331cd8de7e932bb9c3547e
ms.sourcegitcommit: 951393b05bf409333cb3c7ad977bcaa804aa801b
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/13/2021
ms.locfileid: "5893199"
---
# <a name="manage-the-electronic-reporting-er-configuration-lifecycle"></a><span data-ttu-id="1e8ff-103">Gérer le cycle de vie de la configuration des états électroniques</span><span class="sxs-lookup"><span data-stu-id="1e8ff-103">Manage the Electronic reporting (ER) configuration lifecycle</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="1e8ff-104">Cette rubrique décrit comment gérer le cycle de vie des configurations d’états électroniques (ER) pour Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-104">This topic describes how to manage the lifecycle of Electronic reporting (ER) configurations for Dynamics 365 Finance.</span></span>

## <a name="overview"></a><span data-ttu-id="1e8ff-105">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="1e8ff-105">Overview</span></span>

<span data-ttu-id="1e8ff-106">La génération d’états électronique (ER) est un moteur qui prend en charge les documents électroniques exigés par les règlements et spécifiques aux pays.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-106">Electronic reporting (ER) is an engine that supports statutory required and country-specific electronic documents.</span></span> <span data-ttu-id="1e8ff-107">En général, l’ER suppose une capacité à effectuer les tâches suivantes pour un document électronique unique.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-107">In general, ER assumes an ability to perform the following tasks for a single electronic document.</span></span> <span data-ttu-id="1e8ff-108">Pour plus de détails, voir [Vue d’ensemble des États électroniques](general-electronic-reporting.md).</span><span class="sxs-lookup"><span data-stu-id="1e8ff-108">For more details, see [Electronic reporting (ER) overview](general-electronic-reporting.md).</span></span>

- <span data-ttu-id="1e8ff-109">Créez un modèle pour un document électronique :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-109">Design a template for an electronic document:</span></span>

    - <span data-ttu-id="1e8ff-110">Identifiez les sources de données exigées qui peuvent être présentées dans le document :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-110">Identify the required sources of data that can be presented in the document:</span></span>

        - <span data-ttu-id="1e8ff-111">Données sous-jacentes, telles que les tables de données, entités de données et classes.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-111">Underlying data, such as data tables, data entities, and classes.</span></span>
        - <span data-ttu-id="1e8ff-112">Propriétés spécifiques aux processus, tels que les date et heure d’exécution et fuseau horaire.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-112">Process-specific properties, such as execution date and time, and time zone.</span></span>
        - <span data-ttu-id="1e8ff-113">Paramètres d’entrée utilisateur, spécifiés par l’utilisateur final au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-113">User input parameters, specified by the end user at run time.</span></span>

    - <span data-ttu-id="1e8ff-114">Définissez les éléments du document nécessaires ainsi que leur topologie afin de spécifier un format de document final.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-114">Define the required document elements and their topology to specify a final document format.</span></span>
    - <span data-ttu-id="1e8ff-115">Configurez le flux de données souhaité à partir des sources de données sélectionnées vers les éléments du document définis (via les liaisons de sources de données aux composants de format du document) et spécifiez la logique de contrôle du processus.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-115">Configure the desired flow of data from selected data sources to defined document elements (via data source bindings to document format components), and specify process control logic.</span></span>

- <span data-ttu-id="1e8ff-116">Mettez un modèle à disposition afin qu’il puisse être utilisé dans d’autres instances :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-116">Make a template available so that it can be used in other instances:</span></span>

    - <span data-ttu-id="1e8ff-117">Transformez un modèle de document créé dans une configuration ER, et exportez la configuration de l’instance actuelle de l’application en tant que package XML pouvant être enregistré localement ou dans Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="1e8ff-117">Transform a document template that was created into an ER configuration, and export the configuration from the current application instance as an XML package that can be stored either locally or in Lifecycle Services (LCS).</span></span>
    - <span data-ttu-id="1e8ff-118">Transformez une configuration ER en modèle de document d’application.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-118">Transform an ER configuration into an application document template.</span></span>
    - <span data-ttu-id="1e8ff-119">Importez un package XML qui est enregistré localement ou dans LCS dans l’instance actuelle.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-119">Import an XML package that is stored either locally or in LCS into the current instance.</span></span>

- <span data-ttu-id="1e8ff-120">Personnalisez le modèle d’un document électronique :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-120">Customize the template of an electronic document:</span></span>

    - <span data-ttu-id="1e8ff-121">Importez un modèle issu de LCS dans l’instance actuelle en tant que configuration ER.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-121">Bring a template from LCS into the current instance as an ER configuration.</span></span>
    - <span data-ttu-id="1e8ff-122">Créez une version personnalisée d’une configuration ER et conservez une référence à la version de base.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-122">Design a custom version of an ER configuration, and keep a reference to the base version.</span></span>

- <span data-ttu-id="1e8ff-123">Intégrez un modèle à un processus entreprise particulier, afin qu’il soit disponible dans l’application :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-123">Integrate a template with a particular business process, so that it's available in the application:</span></span>

    - <span data-ttu-id="1e8ff-124">Configurez des paramètres afin que l’application commence à utiliser une configuration ER, en se rapportant à cette configuration dans un paramètre associé au processus.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-124">Configure settings so that the application starts to use an ER configuration, by referring to that configuration in a process-related parameter.</span></span> <span data-ttu-id="1e8ff-125">Par exemple, consultez la configuration ER dans un mode de paiement Achats spécifique pour générer un message de paiement électronique pour traiter les factures.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-125">For example, refer to the ER configuration in a specific Accounts payable payment method to generate an electronic payment message for processing invoices.</span></span>

- <span data-ttu-id="1e8ff-126">Utilisez un modèle dans un processus d’entreprise spécifique :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-126">Use a template in a specific business process:</span></span>

    - <span data-ttu-id="1e8ff-127">Exécutez une configuration ER dans un processus d’entreprise spécifique.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-127">Run an ER configuration in a specific business process.</span></span> <span data-ttu-id="1e8ff-128">Par exemple, pour générer un message de paiement électronique pour le traitement des factures lorsqu’un mode de paiement qui référence la configuration ER est sélectionné.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-128">For example, to generate an electronic payment message for processing invoices when a payment method that references the ER configuration is selected.</span></span>

## <a name="concepts"></a><span data-ttu-id="1e8ff-129">Concepts</span><span class="sxs-lookup"><span data-stu-id="1e8ff-129">Concepts</span></span>
<span data-ttu-id="1e8ff-130">Les rôles suivants et les activités liées sont associés au cycle de vie de la configuration ER.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-130">The following roles and related activities are associated with the ER configuration lifecycle.</span></span>

| <span data-ttu-id="1e8ff-131">Rôle</span><span class="sxs-lookup"><span data-stu-id="1e8ff-131">Role</span></span>                                       | <span data-ttu-id="1e8ff-132">Activités</span><span class="sxs-lookup"><span data-stu-id="1e8ff-132">Activities</span></span>                                                      | <span data-ttu-id="1e8ff-133">description ;</span><span class="sxs-lookup"><span data-stu-id="1e8ff-133">Description</span></span> |
|--------------------------------------------|-----------------------------------------------------------------|-------------|
| <span data-ttu-id="1e8ff-134">Consultant fonctionnel de gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="1e8ff-134">Electronic reporting functional consultant</span></span> | <span data-ttu-id="1e8ff-135">Créez et gérez des composants ER (modèles et formats).</span><span class="sxs-lookup"><span data-stu-id="1e8ff-135">Create and manage ER components (models and formats).</span></span>           | <span data-ttu-id="1e8ff-136">Un commercial qui conçoit des modèles de données spécifique au domaine ER, conçoit les modèles requis pour des documents électroniques et les lie en conséquence.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-136">A business person who designs ER domain–specific data models, designs the required templates for electronic documents, and binds them accordingly.</span></span> |
| <span data-ttu-id="1e8ff-137">Développeur d’états électroniques</span><span class="sxs-lookup"><span data-stu-id="1e8ff-137">Electronic reporting developer</span></span>             | <span data-ttu-id="1e8ff-138">Créez et gérez les mises en correspondance de modèle de données.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-138">Create and manage data model mappings.</span></span>                          | <span data-ttu-id="1e8ff-139">Un spécialiste qui sélectionne les sources de données requises de Finance et les lie aux modèles de données spécifiques au domaine ER.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-139">A specialist who selects the required Finance data sources and binds them to ER domain–specific data models.</span></span> |
| <span data-ttu-id="1e8ff-140">Chef comptable</span><span class="sxs-lookup"><span data-stu-id="1e8ff-140">Accounting supervisor</span></span>                      | <span data-ttu-id="1e8ff-141">Configurez les paramètres liés au processus qui référencent des artefacts ER.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-141">Configure process-related settings that reference ER artifacts.</span></span> | <span data-ttu-id="1e8ff-142">Par exemple, un rôle de **Chef comptable** qui autorise les paramètres d’une configuration ER à être utilisés dans un mode de paiement Achats particulier pour générer un message de paiement électronique pour traiter les factures.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-142">For example, an **Accounting supervisor** role that allows the settings of an ER configuration to be used in a particular Accounts payable payment method to generate an electronic payment message for processing invoices.</span></span> |
| <span data-ttu-id="1e8ff-143">Commis au paiement de la comptabilité fournisseur</span><span class="sxs-lookup"><span data-stu-id="1e8ff-143">Accounts payable payments clerk</span></span>            | <span data-ttu-id="1e8ff-144">Utilisez des artefacts ER dans un processus d’entreprise spécifique.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-144">Use ER artifacts in a specific business process.</span></span>                | <span data-ttu-id="1e8ff-145">Par exemple, un rôle de **Commis au paiement de la comptabilité fournisseur** qui autorise des messages de paiement électronique à générer pour le traitement des factures, selon le format ER configuré pour un mode de paiement spécifique.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-145">For example, an **Accounts payable payments clerk** role that allows electronic payment messages to be generated for processing invoices, based on the ER format that is configured for a specific payment method.</span></span> |

## <a name="er-configuration-development-lifecycle"></a><span data-ttu-id="1e8ff-146">Cycle de vie de développement de la configuration ER</span><span class="sxs-lookup"><span data-stu-id="1e8ff-146">ER configuration development lifecycle</span></span>
<span data-ttu-id="1e8ff-147">Pour les raisons suivantes associées à ER, nous recommandons que vous conceviez des configurations ER dans l’environnement de développement en tant qu’instance distincte de Finance and Operations :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-147">For the following ER-related reasons, we recommend that you design ER configurations in the development environment, as a separate instance of Finance and Operations:</span></span>

- <span data-ttu-id="1e8ff-148">Les utilisateurs, qu’ils soient dans des rôles de **Développeur d’états électroniques** ou de **Consultant fonctionnel des états électroniques**, peuvent modifier des configurations et les exécuter à des fins de test.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-148">Users in either the **Electronic reporting developer** role or the **Electronic reporting functional consultant** role can edit configurations and run them for testing purposes.</span></span> <span data-ttu-id="1e8ff-149">Ce scénario peut provoquer des appels de méthodes de classes et de tables qui sont potentiellement néfastes pour les données commerciales et les performances de l’instance.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-149">This scenario can cause calls of methods of classes and tables that might harm business data and the performance of the instance.</span></span>
- <span data-ttu-id="1e8ff-150">Les appels de méthodes de classes et de tables en tant que sources de données ER des configurations ER ne sont pas limités par les points d’entrée, ni par le contenu d’entreprise consigné.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-150">Calls of methods of classes and tables as ER data sources of ER configurations aren't restricted by entry points and logged company content.</span></span> <span data-ttu-id="1e8ff-151">Par conséquent, les utilisateurs dans les rôles de **Développeur d’états électroniques** ou de **Consultant fonctionnel des états électroniques** peuvent accéder aux données commerciales importantes.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-151">Therefore, users in either the **Electronic reporting developer** role or the **Electronic reporting functional consultant** role can access business-sensitive data.</span></span>

<span data-ttu-id="1e8ff-152">Les configurations ER conçues dans l’environnement de développement peuvent être [chargées](#data-persistence-consideration) dans l’environnement de test pour l’évaluation de la configuration (intégration correcte au processus, exactitude des résultats et des performances) et l’assurance qualité, comme l’exactitude des droits d’accès motivés par le rôle et la répartition des tâches.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-152">ER configurations that are designed in the development environment can be [uploaded](#data-persistence-consideration) to the test environment for the configuration evaluation (proper process integration, correctness of results, and performance) and quality assurance, such as correctness of role-driven access rights and segregation of duties.</span></span> <span data-ttu-id="1e8ff-153">Les fonctions qui activent l’échange de configuration ER peuvent être utilisées à cet effet.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-153">The features that enable ER configuration interchange can be used for this purpose.</span></span> <span data-ttu-id="1e8ff-154">Les configurations ER éprouvées peuvent être chargées dans LCS pour les partager avec des abonnés au service, ou être [importées](#data-persistence-consideration) dans l'environnement de production pour une utilisation interne.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-154">Proven ER configurations can be uploaded to LCS to share them with service subscribers, or they can be [imported](#data-persistence-consideration) to the production environment for internal use.</span></span>

![Cycle de vie de la configuration ER](./media/ger-configuration-lifecycle.png)

## <a name="data-persistence-consideration"></a><span data-ttu-id="1e8ff-156"><a name="data-persistence-consideration" />Prise en compte de la persistance des données</span><span class="sxs-lookup"><span data-stu-id="1e8ff-156"><a name="data-persistence-consideration" />Data persistence consideration</span></span>

<span data-ttu-id="1e8ff-157">Vous pouvez [importer](tasks/er-import-configuration-lifecycle-services.md) individuellement différentes [versions](general-electronic-reporting.md#component-versioning) d'une [configuration](general-electronic-reporting.md#Configuration) ER dans votre instance Finance.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-157">You can individually [import](tasks/er-import-configuration-lifecycle-services.md) different [versions](general-electronic-reporting.md#component-versioning) of an ER [configuration](general-electronic-reporting.md#Configuration) to your Finance instance.</span></span> <span data-ttu-id="1e8ff-158">Lorsqu'une nouvelle version d'une configuration ER est importée, le système contrôle le contenu de la version provisoire de cette configuration :</span><span class="sxs-lookup"><span data-stu-id="1e8ff-158">When a new version of an ER configuration is imported, the system controls the content of the draft version of this configuration:</span></span>

   - <span data-ttu-id="1e8ff-159">Lorsque la version importée est inférieure à la version la plus élevée de cette configuration dans l'instance Finance actuelle, le contenu de la version provisoire de cette configuration reste inchangé.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-159">When the imported version is lower than the highest version of this configuration in the current Finance instance, the content of the draft version of this configuration remains unchanged.</span></span>
   - <span data-ttu-id="1e8ff-160">Lorsque la version importée est supérieure à toute autre version de cette configuration dans l'instance Finance actuelle, le contenu de la version importée est copié dans la version provisoire de cette configuration, pour vous permettre de continuer à modifier la dernière version terminée.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-160">When the imported version is higher than any other version of this configuration in the current Finance instance, the content of the imported version is copied to the draft version of this configuration to let you continue editing the last completed version.</span></span>

<span data-ttu-id="1e8ff-161">Si cette configuration appartient au [fournisseur](general-electronic-reporting.md#Provider) de configurations actuellement activé, la version provisoire de cette configuration vous est visible dans le raccourci **Versions** de la page **Configurations** (**Administration de l'organisation** > **Gestion des états électroniques** > **Configurations**).</span><span class="sxs-lookup"><span data-stu-id="1e8ff-161">If this configuration is owned by the configuration [provider](general-electronic-reporting.md#Provider) that is currently activated, the draft version of this configuration is visible to you on the **Versions** FastTab of the **Configurations** page (**Organization administration** > **Electronic reporting** > **Configurations**).</span></span> <span data-ttu-id="1e8ff-162">Vous pouvez sélectionner la version provisoire de la configuration et [modifier](er-quick-start2-customize-report.md#ConfigureDerivedFormat) son contenu en utilisant le concepteur ER approprié.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-162">You can select the draft version of the configuration and [modify](er-quick-start2-customize-report.md#ConfigureDerivedFormat) its content by using the relevant ER designer.</span></span> <span data-ttu-id="1e8ff-163">Une fois que vous avez modifié la version provisoire d'une configuration ER, son contenu ne correspond plus à celui de la version la plus élevée de cette configuration dans l'instance Finance actuelle.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-163">When you have edited the draft version of an ER configuration, its content no longer matches the content of the highest version of this configuration in the current Finance instance.</span></span> <span data-ttu-id="1e8ff-164">Pour éviter la perte de vos modifications, le système affiche une erreur indiquant que l'importation ne peut pas se poursuivre parce que la version de cette configuration est supérieure à la version la plus élevée de cette configuration dans l'instance Finance actuelle.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-164">To prevent the loss of your changes, the system displays an error that the import is unable to continue because the version of this configuration is higher than the highest version of this configuration in the current Finance instance.</span></span> <span data-ttu-id="1e8ff-165">Lorsque cela se produit, par exemple avec la configuration du format **X**, l'erreur **La version du format « X » n'est pas terminée** s'affiche.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-165">When this happens, for example with the format configuration **X**, the **Format 'X' version is not completed** error is displayed.</span></span>

<span data-ttu-id="1e8ff-166">Pour annuler les modifications que vous avez introduites dans la version provisoire, sélectionnez la version terminée ou partagée la plus élevée de votre configuration ER dans Finance dans le raccourci **Versions**, puis sélectionnez l'option **Obtenir cette version**.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-166">To undo the changes that you introduced in the draft version, select the highest completed or shared version of your ER configuration in Finance on the **Versions** FastTab, and then select the **Get this version** option.</span></span> <span data-ttu-id="1e8ff-167">Le contenu de la version sélectionnée est copié dans la version provisoire.</span><span class="sxs-lookup"><span data-stu-id="1e8ff-167">The content of the selected version is copied to the draft version.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="1e8ff-168">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="1e8ff-168">Additional resources</span></span>

[<span data-ttu-id="1e8ff-169">Vue d'ensemble des états électroniques</span><span class="sxs-lookup"><span data-stu-id="1e8ff-169">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
