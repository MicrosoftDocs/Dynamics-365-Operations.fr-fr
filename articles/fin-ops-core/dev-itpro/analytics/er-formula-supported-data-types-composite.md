---
title: Types de données composites pris en charge pour les formules des États électroniques
description: Cette rubrique fournit des informations sur les types de données composites pris en charge dans les formules des États électroniques (ER).
author: NickSelin
ms.date: 06/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: c7ed9e62751b6be9fad6de3bf262d37d7977d192
ms.sourcegitcommit: 15aacd0e109b05c7281407b5bba4e6cd99116c28
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/10/2021
ms.locfileid: "6224090"
---
# <a name="supported-composite-data-types-for-electronic-reporting-formulas"></a><span data-ttu-id="2a815-103">Types de données composites pris en charge pour les formules des États électroniques</span><span class="sxs-lookup"><span data-stu-id="2a815-103">Supported composite data types for Electronic reporting formulas</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="2a815-104">Cette rubrique fournit des informations sur les types de données composites pris en charge dans les expressions des [États électroniques (ER)](general-electronic-reporting.md) expressions.</span><span class="sxs-lookup"><span data-stu-id="2a815-104">This topic provides information about the composite data types that are supported in [Electronic reporting (ER)](general-electronic-reporting.md) expressions.</span></span> <span data-ttu-id="2a815-105">Les types de données composites sont [classe](#class), [conteneur](#container), [enregistrement](#record), [liste d’enregistrements](#record-list) et [objet](#object).</span><span class="sxs-lookup"><span data-stu-id="2a815-105">The composite data types are [class](#class), [container](#container), [record](#record), [record list](#record-list), and [object](#object).</span></span>

## <a name="class"></a><a name="class"></a><span data-ttu-id="2a815-106">Classe</span><span class="sxs-lookup"><span data-stu-id="2a815-106">Class</span></span>

<span data-ttu-id="2a815-107">Le type de données *classe* fait référence à une classe d’application publique.</span><span class="sxs-lookup"><span data-stu-id="2a815-107">The *class* data type refers to a public application class.</span></span> <span data-ttu-id="2a815-108">Dans la génération d’états électroniques, il est représenté comme un [*enregistrement*](#record) contenant un champ séparé pour chaque méthode publique de la classe référencée.</span><span class="sxs-lookup"><span data-stu-id="2a815-108">In ER, it's represented as a [*record*](#record) that contains a separate field for every public method of the referenced class.</span></span> <span data-ttu-id="2a815-109">Lorsque l’appel de la méthode est paramétré, vous devez également spécifier les arguments requis des types appropriés dans une expression ER configurée pour appeler la méthode.</span><span class="sxs-lookup"><span data-stu-id="2a815-109">When the call of the method is parameterized, you must also specify the required arguments of the appropriate types in an ER expression that is configured to call the method.</span></span>

<span data-ttu-id="2a815-110">Dans les composants ER [mappage](general-electronic-reporting.md#data-model-and-model-mapping-components) et [format](general-electronic-reporting.md#FormatComponentOutbound), vous pouvez ajouter la source de données **Classe** qui est présentée comme une source de données et qui renvoie une valeur du type *classe*.</span><span class="sxs-lookup"><span data-stu-id="2a815-110">In ER [mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) and [format](general-electronic-reporting.md#FormatComponentOutbound) components, you can add the **Class** data source that is presented as a data source and that returns a value of the *class* type.</span></span> <span data-ttu-id="2a815-111">Cette source de données expose les méthodes publiques de la classe qui peuvent être appelées au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2a815-111">This data source exposes public methods of the class that can be called at runtime.</span></span>

> [!NOTE]
> <span data-ttu-id="2a815-112">Seules les méthodes qui renvoient une valeur peuvent être appelées à partir d’expressions ER.</span><span class="sxs-lookup"><span data-stu-id="2a815-112">Only methods that return a value can be called from ER expressions.</span></span>
>
> <span data-ttu-id="2a815-113">Seules les méthodes qui ont de zéro à huit arguments peuvent être appelées à partir d’expressions ER.</span><span class="sxs-lookup"><span data-stu-id="2a815-113">Only methods that have a range of zero to eight arguments can be called from ER expressions.</span></span>

<span data-ttu-id="2a815-114">La valeur par défaut d’une *classe* est **null**.</span><span class="sxs-lookup"><span data-stu-id="2a815-114">The default value of a *class* is **null**.</span></span>

<span data-ttu-id="2a815-115">L’illustration suivante montre comment la source de données **Informations système (xInfo)** du type **Classe** est ajouté pour rendre l’instance de la classe d’application **xInfo** et appeler sa méthode **productName()** pour recevoir le nom de l’application en cours.</span><span class="sxs-lookup"><span data-stu-id="2a815-115">The following illustration shows how the **System information(xInfo)** data source of the **Class** type is added to make the instance of the **xInfo** application class and call its **productName()** method to receive the name of the current application.</span></span> <span data-ttu-id="2a815-116">Le nom de l’application en cours est récupéré au moment de l’exécution par l’exécution de la liaison `xInfo.productName` qui a été configurée pour le champ **Nom du logiciel (SoftwareName)** du modèle de données ER.</span><span class="sxs-lookup"><span data-stu-id="2a815-116">The name of the current application is fetched at runtime by execution of the `xInfo.productName` binding that was configured for the **Software name(SoftwareName)** field of the ER data model.</span></span> <span data-ttu-id="2a815-117">Cette liaison appelle la méthode `productName()` de la classe d’application **xInfo** qui est représentée dans le mappage de modèle actuel en tant que source de données **Informations système (xInfo)**.</span><span class="sxs-lookup"><span data-stu-id="2a815-117">This binding calls the `productName()` method of the **xInfo** application class that is represented in the current model mapping as the **System information(xInfo)** data source.</span></span>

<span data-ttu-id="2a815-118">[![Configuration d’une source de données Classe dans le concepteur de mappage de modèle ER](./media/er-formula-supported-data-types-composite-class1.gif)](./media/er-formula-supported-data-types-composite-class1.gif)</span><span class="sxs-lookup"><span data-stu-id="2a815-118">[![Configuring a Class data source in the ER model mapping designer](./media/er-formula-supported-data-types-composite-class1.gif)](./media/er-formula-supported-data-types-composite-class1.gif)</span></span>

<span data-ttu-id="2a815-119">L’illustration suivante montre comment le format ER est configuré pour placer le nom d’application fourni dans les documents générés.</span><span class="sxs-lookup"><span data-stu-id="2a815-119">The following illustration shows how the ER format is configured to put the provided application name in generated documents.</span></span> <span data-ttu-id="2a815-120">Le champ **Nom du logiciel (SoftwareName)** du modèle de données utilisé était lié au composant **Chaîne** imbriqué sous l’élément XML **softwareUsed** du format ER.</span><span class="sxs-lookup"><span data-stu-id="2a815-120">The **Software name(SoftwareName)** field of the used data model was bound to the **String** component that is nested under the **softwareUsed** XML element of the ER format.</span></span> <span data-ttu-id="2a815-121">Ainsi, le nom de l’application en cours est placé au moment de l’exécution dans l’élément XML **softwareUsed** d’un document généré au format XML.</span><span class="sxs-lookup"><span data-stu-id="2a815-121">So, the name of the current application is placed at runtime to the **softwareUsed** XML element of a generated document in XML format.</span></span>

<span data-ttu-id="2a815-122">[![Configuration de la structure d’un document électronique sortant dans le concepteur de format ER](./media/er-formula-supported-data-types-composite-class2.png)](./media/er-formula-supported-data-types-composite-class2.png)</span><span class="sxs-lookup"><span data-stu-id="2a815-122">[![Configuring the structure of an electronic outbound document in the ER format designer](./media/er-formula-supported-data-types-composite-class2.png)](./media/er-formula-supported-data-types-composite-class2.png)</span></span>

## <a name="container"></a><a name="container"></a><span data-ttu-id="2a815-123">Conteneur</span><span class="sxs-lookup"><span data-stu-id="2a815-123">Container</span></span>

<span data-ttu-id="2a815-124">Le type de données *conteneur* contient un contenu binaire.</span><span class="sxs-lookup"><span data-stu-id="2a815-124">The *container* data type holds binary content.</span></span> <span data-ttu-id="2a815-125">Une valeur *conteneur* peut être utilisée pour transmettre des informations spécifiques du stockage à un document généré.</span><span class="sxs-lookup"><span data-stu-id="2a815-125">A *container* value can be used to pass specific information from storage to a generated document.</span></span> <span data-ttu-id="2a815-126">Dans le cadre ER, ce type de données est fréquemment utilisé pour mettre du contenu multimédia, tel qu’un logo d’entreprise, dans les documents générés.</span><span class="sxs-lookup"><span data-stu-id="2a815-126">In the ER framework, this data type is frequently used to put media content such as a company logo in generated documents.</span></span>

> [!NOTE]
> <span data-ttu-id="2a815-127">Bien que chaque élément multimédia puisse être représenté comme une valeur *conteneur*, toutes les valeurs *conteneur* ne représentent pas un élément multimédia.</span><span class="sxs-lookup"><span data-stu-id="2a815-127">Although every media item can be represented as a *container* value, not every *container* value represents a media item.</span></span> <span data-ttu-id="2a815-128">Par conséquent, si vous configurez un format ER pour qu’il utilise un *conteneur* pour mettre une image dans les documents générés, mais que le *conteneur* référencé ne renvoie pas de contenu multimédia, une exception semblable à l’exemple suivant peut être levée : « Erreur d’exécution du code : binaire (objet), méthode constructFromContainer appelée avec des paramètres non valides. »</span><span class="sxs-lookup"><span data-stu-id="2a815-128">Therefore, if you configure an ER format so that it uses a *container* to put an image in generated documents, but the referenced *container* doesn't return media content, an exception that resembles the following example might be thrown: "Error executing code: Binary (object), method constructFromContainer called with invalid parameters."</span></span>

<span data-ttu-id="2a815-129">La valeur par défaut d’un *conteneur* est **null**.</span><span class="sxs-lookup"><span data-stu-id="2a815-129">The default value of a *container* is **null**.</span></span>

<span data-ttu-id="2a815-130">L’illustration suivante montre comment le champ **Bitmap(Image)** du type *Conteneur* est lié au champ **Logo** du modèle de données du type **Conteneur** dans le mappage du modèle **Facture de vente**.</span><span class="sxs-lookup"><span data-stu-id="2a815-130">The following illustration shows how the **Bitmap(Image)** field of the *Container* type is bound to the data model **Logo** field of the **Container** type in the **Sales invoice** model mapping.</span></span> <span data-ttu-id="2a815-131">Cette liaison rend le logo de l’entreprise disponible dans n’importe quel format ER conçu pour la définition racine **Facture de vente** et qui utilise ce mappage de modèle au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2a815-131">This binding makes the company logo available to any ER format that is designed for the **SalesInvoice** root definition and that uses this model mapping at runtime.</span></span>

<span data-ttu-id="2a815-132">[![Liaison d’un champ du type Conteneur au concepteur de mappage de modèle ER](./media/er-formula-supported-data-types-composite-container.png)](./media/er-formula-supported-data-types-composite-container.png)</span><span class="sxs-lookup"><span data-stu-id="2a815-132">[![Binding a field of the Container type in the ER model mapping designer](./media/er-formula-supported-data-types-composite-container.png)](./media/er-formula-supported-data-types-composite-container.png)</span></span>

## <a name="record"></a><a name="record"></a><span data-ttu-id="2a815-133">Enregistrer</span><span class="sxs-lookup"><span data-stu-id="2a815-133">Record</span></span>

<span data-ttu-id="2a815-134">Un *enregistrement* est une collection de champs nommés, dont chacun est associé à une valeur d’un type de données [primitif](er-formula-supported-data-types-primitive.md) ou d’un type de données composite.</span><span class="sxs-lookup"><span data-stu-id="2a815-134">A *record* is a collection of named fields, each of which is associated with a value of either a [primitive](er-formula-supported-data-types-primitive.md) data type or a composite data type.</span></span> <span data-ttu-id="2a815-135">Habituellement, un *enregistrement* sert à représenter un seul enregistrement d’une liste d’enregistrements.</span><span class="sxs-lookup"><span data-stu-id="2a815-135">Usually, a *record* is used to represent a single record of a record list.</span></span> <span data-ttu-id="2a815-136">Dans ce cas, chaque élément représente des champs, des méthodes et des relations distincts.</span><span class="sxs-lookup"><span data-stu-id="2a815-136">In this case, every item represents individual fields, methods, and relations.</span></span>

<span data-ttu-id="2a815-137">La valeur par défaut d’un *enregistrement* est **vide**.</span><span class="sxs-lookup"><span data-stu-id="2a815-137">The default value of a *record* is **empty**.</span></span>

> [!NOTE]
> <span data-ttu-id="2a815-138">Lorsque vous récupérez la valeur d’un champ d’un *enregistrement* vide, la valeur par défaut du type de données approprié est renvoyée.</span><span class="sxs-lookup"><span data-stu-id="2a815-138">When you get the value of a field of an empty *record*, the default value of the appropriate data type is returned.</span></span>

<span data-ttu-id="2a815-139">Un *enregistrement* peut être obtenu à l’aide des fonctions suivantes :</span><span class="sxs-lookup"><span data-stu-id="2a815-139">A *record* can be obtained by using the following functions:</span></span>

- [<span data-ttu-id="2a815-140">FIRST</span><span class="sxs-lookup"><span data-stu-id="2a815-140">FIRST</span></span>](er-functions-list-first.md)
- [<span data-ttu-id="2a815-141">FIRSTORNULL</span><span class="sxs-lookup"><span data-stu-id="2a815-141">FIRSTORNULL</span></span>](er-functions-list-firstornull.md)
- [<span data-ttu-id="2a815-142">EMPTYRECORD</span><span class="sxs-lookup"><span data-stu-id="2a815-142">EMPTYRECORD</span></span>](er-functions-record-emptyrecord.md)
- [<span data-ttu-id="2a815-143">NULLCONTAINER</span><span class="sxs-lookup"><span data-stu-id="2a815-143">NULLCONTAINER</span></span>](er-functions-record-nullcontainer.md)

<span data-ttu-id="2a815-144">Pour plus d’informations sur la transformation des valeurs *enregistrement*, voir [Liste des fonctions ER dans la catégorie de liste](er-functions-category-list.md).</span><span class="sxs-lookup"><span data-stu-id="2a815-144">For more information about the transformation of *record* values, see [List of ER functions in the list category](er-functions-category-list.md).</span></span>

## <a name="record-list"></a><a name="record-list"></a><span data-ttu-id="2a815-145">Liste d’enregistrements</span><span class="sxs-lookup"><span data-stu-id="2a815-145">Record list</span></span>

<span data-ttu-id="2a815-146">Une *liste d’enregistrements* est une liste d’éléments du type *enregistrement*.</span><span class="sxs-lookup"><span data-stu-id="2a815-146">A *record list* is a list of items of the *record* type.</span></span> <span data-ttu-id="2a815-147">Habituellement, une *liste d’enregistrements* est utilisée pour représenter la liste des enregistrements extraits d’une table de base de données.</span><span class="sxs-lookup"><span data-stu-id="2a815-147">Usually, a *record list* is used to represent the list of records that has been fetched from a database table.</span></span>

<span data-ttu-id="2a815-148">Par défaut, les enregistrements d’une *liste d’enregistrements* sont accessibles de manière séquentielle.</span><span class="sxs-lookup"><span data-stu-id="2a815-148">By default, records of a *record list* are accessed sequentially.</span></span> <span data-ttu-id="2a815-149">Pour accéder à un enregistrement spécifique, vous pouvez utiliser la fonction [INDEX](er-functions-list-index.md) et spécifier l’indice *entier*.</span><span class="sxs-lookup"><span data-stu-id="2a815-149">To access a specific record, you can use the [INDEX](er-functions-list-index.md) function and specify the *integer* index.</span></span>

<span data-ttu-id="2a815-150">La valeur par défaut d’une *liste d’enregistrements* est **vide**.</span><span class="sxs-lookup"><span data-stu-id="2a815-150">The default value of a *record list* is **empty**.</span></span> <span data-ttu-id="2a815-151">Vous pouvez utiliser la fonction [ISEMPTY](/er-functions-list-isempty.md) pour évaluer si une *liste d’enregistrements* est vide.</span><span class="sxs-lookup"><span data-stu-id="2a815-151">You can use the [ISEMPTY](/er-functions-list-isempty.md) function to evaluate whether a *record list* is empty.</span></span>

> [!NOTE]
> <span data-ttu-id="2a815-152">Si une *liste d’enregistrements* est vide, toute tentative d’obtenir une valeur de champ d’un *enregistrement* dedans provoque la levée d’une exception au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="2a815-152">If a *record list* is empty, any attempt to get a field value for a *record* in it causes an exception to be thrown at runtime.</span></span> <span data-ttu-id="2a815-153">Pour savoir comment empêcher les exceptions d’exécution de ce type, consultez [Prise en compte des cas de liste vide](er-components-inspections.md#i9).</span><span class="sxs-lookup"><span data-stu-id="2a815-153">To learn how you can help prevent runtime exceptions of this type, see [Consideration of empty list cases](er-components-inspections.md#i9).</span></span>

<span data-ttu-id="2a815-154">Une *liste d’enregistrements* peut être initiée à l’aide des fonctions suivantes :</span><span class="sxs-lookup"><span data-stu-id="2a815-154">A *record list* can be initiated by using the following functions:</span></span>

- [<span data-ttu-id="2a815-155">ALLITEMS</span><span class="sxs-lookup"><span data-stu-id="2a815-155">ALLITEMS</span></span>](er-functions-list-allitems.md)
- [<span data-ttu-id="2a815-156">ALLITEMSQUERY</span><span class="sxs-lookup"><span data-stu-id="2a815-156">ALLITEMSQUERY</span></span>](er-functions-list-allitemsquery.md)
- [<span data-ttu-id="2a815-157">EMPTYLIST</span><span class="sxs-lookup"><span data-stu-id="2a815-157">EMPTYLIST</span></span>](er-functions-list-emptylist.md)
- [<span data-ttu-id="2a815-158">LIST</span><span class="sxs-lookup"><span data-stu-id="2a815-158">LIST</span></span>](er-functions-list-list.md)
- [<span data-ttu-id="2a815-159">LISTDISTINCT</span><span class="sxs-lookup"><span data-stu-id="2a815-159">LISTDISTINCT</span></span>](er-functions-list-listdistinct.md)

<span data-ttu-id="2a815-160">Pour plus d’informations sur la transformation des valeurs *liste d’enregistrements*, voir [Liste des fonctions ER dans la catégorie de liste](er-functions-category-list.md).</span><span class="sxs-lookup"><span data-stu-id="2a815-160">For more information about the transformation of *record list* values, see [List of ER functions in the list category](er-functions-category-list.md).</span></span> <span data-ttu-id="2a815-161">Pour apprendre à introduire des éléments de *liste d’enregistrements*, les renseigner avec des données d’application, puis utiliser les données pour générer des documents commerciaux, voir [Concevoir une nouvelle solution de gestion des états électroniques pour imprimer un état personnalisé](er-quick-start1-new-solution.md).</span><span class="sxs-lookup"><span data-stu-id="2a815-161">To learn how to introduce *record list* items, fill them with application data, and then use the data to generate business documents, see [Design a new ER solution to print a custom report](er-quick-start1-new-solution.md).</span></span>

## <a name="object"></a><a name="object"></a><span data-ttu-id="2a815-162">Objet</span><span class="sxs-lookup"><span data-stu-id="2a815-162">Object</span></span>

<span data-ttu-id="2a815-163">Un *objet* fait référence à une instance avec état d’une *classe*.</span><span class="sxs-lookup"><span data-stu-id="2a815-163">An *object* refers to a stateful instance of a *class*.</span></span> <span data-ttu-id="2a815-164">Habituellement, un *objet* est initié dans le code source.</span><span class="sxs-lookup"><span data-stu-id="2a815-164">Usually, an *object* is initiated in source code.</span></span> <span data-ttu-id="2a815-165">Il est ensuite transmis à un mappage de modèle ER et fournit des détails sur le contexte d’exécution.</span><span class="sxs-lookup"><span data-stu-id="2a815-165">It's then passed to an ER model mapping and provides details of the execution context.</span></span>

<span data-ttu-id="2a815-166">La valeur par défaut d’un *objet* est **null**.</span><span class="sxs-lookup"><span data-stu-id="2a815-166">The default value of an *object* is **null**.</span></span>

<span data-ttu-id="2a815-167">L’illustration suivante montre comment la source de données **ReportDataContract** du type *Objet* est ajoutée pour transmettre des informations sur une facture générée du code source au modèle de mappage **Facture de projet**.</span><span class="sxs-lookup"><span data-stu-id="2a815-167">The following illustration shows how the **ReportDataContract** data source of the *Object* type is added to pass information about a generated invoice from source code to the **Project invoice** model mapping.</span></span> <span data-ttu-id="2a815-168">Par exemple, le texte de l’instance de facture est transmis dans le cadre du contexte d’exécution.</span><span class="sxs-lookup"><span data-stu-id="2a815-168">For example, the invoice instance text is passed as part of the execution context.</span></span> <span data-ttu-id="2a815-169">Ce texte est extrait du code source à l’exécution par l’exécution de la liaison `ReportDataContract.parmInvoiceInstanceText` qui a été configurée pour le champ **Note** du modèle de données ER.</span><span class="sxs-lookup"><span data-stu-id="2a815-169">This text is taken from source code at runtime by execution of the `ReportDataContract.parmInvoiceInstanceText` binding that was configured for the **Note** field of the ER data model.</span></span> <span data-ttu-id="2a815-170">Cette liaison appelle la méthode `parmInvoiceInstanceText()` de la classe d’application **PSAProjInvoiceContract** qui est représentée dans le mappage de modèle actuel en tant que source de données **ReportDataContract**.</span><span class="sxs-lookup"><span data-stu-id="2a815-170">This binding calls the `parmInvoiceInstanceText()` method of the **PSAProjInvoiceContract** application class that is represented in the current model mapping as the **ReportDataContract** data source.</span></span>

<span data-ttu-id="2a815-171">[![Configuration d’une source de données Objet dans le concepteur de mappage de modèle ER](./media/er-formula-supported-data-types-composite-object.gif)](./media/er-formula-supported-data-types-composite-object.gif)</span><span class="sxs-lookup"><span data-stu-id="2a815-171">[![Configuring an Object data source in the ER model mapping designer](./media/er-formula-supported-data-types-composite-object.gif)](./media/er-formula-supported-data-types-composite-object.gif)</span></span>

<span data-ttu-id="2a815-172">Pour savoir comment transmettre les détails du contexte d’exécution du code source à la solution ER en cours d’exécution, consultez [Développer des artefacts d’application pour appeler l’état conçu](er-quick-start1-new-solution.md#DevelopCustomCode).</span><span class="sxs-lookup"><span data-stu-id="2a815-172">To learn how to pass details of the execution context from source code to the running ER solution, see [Develop application artefacts to call the designed report](er-quick-start1-new-solution.md#DevelopCustomCode).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="2a815-173">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="2a815-173">Additional resources</span></span>

- [<span data-ttu-id="2a815-174">Vue d’ensemble des États électroniques</span><span class="sxs-lookup"><span data-stu-id="2a815-174">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="2a815-175">Langage de formule dans la gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="2a815-175">Electronic reporting formula language</span></span>](er-formula-language.md)
- [<span data-ttu-id="2a815-176">Types de données primitifs pris en charge</span><span class="sxs-lookup"><span data-stu-id="2a815-176">Supported primitive data types</span></span>](er-formula-supported-data-types-primitive.md)
