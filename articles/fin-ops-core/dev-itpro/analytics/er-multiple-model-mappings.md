---
title: Gérer plusieurs mises en correspondance dérivées pour une seule racine de modèle
description: Cette rubrique explique comment gérer plusieurs mises en correspondance dérivées configurées pour une seule racine de modèle.
author: NickSelin
ms.date: 01/04/2021
ms.topic: business-process
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, ERModelMappingTable
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: a774a0edf00a17be674b7a1bb07f6494e90554c3
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/31/2021
ms.locfileid: "5743677"
---
# <a name="manage-several-derived-mappings-for-a-single-model-root"></a><span data-ttu-id="f0ffe-103">Gérer plusieurs mises en correspondance dérivées pour une seule racine de modèle</span><span class="sxs-lookup"><span data-stu-id="f0ffe-103">Manage several derived mappings for a single model root</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="f0ffe-104">Un composant [modèle](general-electronic-reporting.md#data-model-and-model-mapping-components) de données de [gestion des états électroniques](general-electronic-reporting.md) est utilisé dans chaque composant au [format](general-electronic-reporting.md#FormatComponentOutbound) de gestion des états électroniques en tant que source de données pour générer les documents sortants.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-104">An [Electronic reporting (ER)](general-electronic-reporting.md) data [model](general-electronic-reporting.md#data-model-and-model-mapping-components) component is used in every configured ER [format](general-electronic-reporting.md#FormatComponentOutbound) component as the data source to generate outbound documents.</span></span> <span data-ttu-id="f0ffe-105">Pour décrire un domaine métier unique, configurez un composant de modèle de données qui a de nombreuses définitions de racine.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-105">To describe a single business domain, configure a data model component that has many root definitions.</span></span> 

<span data-ttu-id="f0ffe-106">Chaque définition de racine vous permet de représenter les données de ce domaine de la manière la mieux adaptée à des objectifs de gestion des états spécifiques.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-106">Every root definition lets you represent data of that domain in the way that is best suited to specific reporting purposes.</span></span> <span data-ttu-id="f0ffe-107">Pour chaque définition racine, vous pouvez configurer un composant [de mise en correspondance de modèle](general-electronic-reporting.md#data-model-and-model-mapping-components) de gestion des états électroniques comme la mise en œuvre spécifique à Microsoft Dynamics 365 Finance de votre modèle de données.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-107">For every root definition, you can configure an ER [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) component as the Microsoft Dynamics 365 Finance–specific implementation of your data model.</span></span> <span data-ttu-id="f0ffe-108">De cette manière, vous décrivez comment votre modèle de données est rempli lors de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-108">In this way, you describe how your data model will be filled in at runtime.</span></span>

<span data-ttu-id="f0ffe-109">Les composants de mise en correspondance de modèle de gestion des états électroniques peuvent résider dans les [configurations](general-electronic-reporting.md#Configuration) de modèle de données de gestion des états électroniques et configurations de mise en correspondance du modèle de gestion des états électroniques.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-109">ER model mapping components can reside in ER data model [configurations](general-electronic-reporting.md#Configuration) and ER model mapping configurations.</span></span> <span data-ttu-id="f0ffe-110">Une seule configuration de gestion des états électroniques peut contenir de nombreux composants de mise en correspondance, chacun d’eux étant configuré pour une seule définition racine.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-110">A single ER configuration can contain many mapping components, each of which is configured for a single root definition.</span></span> <span data-ttu-id="f0ffe-111">Sinon, une seule configuration de gestion des états électroniques peut contenir un seul composant de mise en correspondance, chacun d’eux étant configuré pour une seule définition racine.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-111">Alternatively, a single ER configuration can contain just one mapping component that is configured for a single root definition.</span></span>

<span data-ttu-id="f0ffe-112">De nombreux fournisseurs de configuration peuvent proposer des configurations de mappage de modèle de gestion des états électroniques pour le même modèle de données de gestion des états électroniques.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-112">Many configuration providers might offer ER model mapping configurations for the same ER data model.</span></span> <span data-ttu-id="f0ffe-113">Ces configurations de mise en correspondance de modèle peuvent contenir des composants de mise en correspondance pour différentes définitions de racine.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-113">Those model mapping configurations might contain mapping components for different root definitions.</span></span> <span data-ttu-id="f0ffe-114">Vous pouvez utiliser un mappage de modèle pour une définition racine offerte par un [fournisseur](general-electronic-reporting.md#Provider) et utiliser un mappage de modèle pour une autre définition de racine proposée par un autre fournisseur.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-114">You might use a model mapping for one root definition that is offered by one [provider](general-electronic-reporting.md#Provider) and use a model mapping for another root definition that is offered by another provider.</span></span>

<span data-ttu-id="f0ffe-115">Les procédures de cette rubrique expliquent comment gérer plusieurs configurations de mise en correspondance de modèle de gestion des états électroniques d’un modèle de données de gestion des états électroniques lorsqu’elles contiennent différents composants de mise en correspondance de modèle configurés pour la même définition de racine.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-115">The procedures in this topic explain how to manage multiple ER model mapping configurations of an ER data model when they contain different model mapping components configured for the same root definition.</span></span> 

<span data-ttu-id="f0ffe-116">Pour exécuter les procédures dans cette rubrique, vous devez être affecté au rôle Administrateur système ou Développeur d’états électroniques.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-116">To complete the procedures in this topic, you must be assigned to the System administrator or Electronic reporting developer role.</span></span>

<span data-ttu-id="f0ffe-117">Toutes les procédures suivantes peuvent être effectuées dans la société USMF.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-117">All the following procedures can be done in the USMF company.</span></span> <span data-ttu-id="f0ffe-118">Aucun codage n’est requis.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-118">No coding is required.</span></span>

## <a name="configure-the-er-framework"></a><span data-ttu-id="f0ffe-119">Configurer la structure de gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="f0ffe-119">Configure the ER framework</span></span>

<span data-ttu-id="f0ffe-120">En tant qu’utilisateur doté du rôle de développeur d’états électroniques, vous devez [configurer l’ensemble minimal](er-quick-start2-customize-report.md#ConfigureFramework) de paramètres ER requis pour commencer à utiliser la structure ER pour générer des documents commerciaux.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-120">As a user in the Electronic reporting developer role, [configure the minimal set](er-quick-start2-customize-report.md#ConfigureFramework) of ER parameters before you use the ER framework to generate business documents.</span></span>

## <a name="import-the-standard-er-format-configurations"></a><span data-ttu-id="f0ffe-121">Importer les configurations du format de gestion des états électroniques standard</span><span class="sxs-lookup"><span data-stu-id="f0ffe-121">Import the standard ER format configurations</span></span>

<span data-ttu-id="f0ffe-122">Pour ajouter les configurations ER standard à votre instance actuelle de Finance, vous devez les importer depuis le référentiel ER qui a été configuré pour cette instance.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-122">To add the standard ER configurations to your current instance of Finance, you must import them from the ER repository that was configured for that instance.</span></span> <span data-ttu-id="f0ffe-123">Suivez les étapes de [Télécharger les configurations ER depuis le référentiel global du service de configuration](er-download-configurations-global-repo.md) pour importer les configurations de format de gestion des états électroniques suivantes :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-123">Follow the steps in [Download ER configurations from the Global repository of Configuration service](er-download-configurations-global-repo.md) to import the following ER format configurations:</span></span>

- <span data-ttu-id="f0ffe-124">**Facture financière (Excel)**, version 220.106</span><span class="sxs-lookup"><span data-stu-id="f0ffe-124">**Free text invoice (Excel)**, version 220.106</span></span>
- <span data-ttu-id="f0ffe-125">**Facture de projet (Excel)**, version 226.27</span><span class="sxs-lookup"><span data-stu-id="f0ffe-125">**Project invoice (Excel)**, version 226.27</span></span>

## <a name="review-the-imported-er-configurations"></a><span data-ttu-id="f0ffe-126">Passer en revue les configurations de gestion des états électroniques importées</span><span class="sxs-lookup"><span data-stu-id="f0ffe-126">Review the imported ER configurations</span></span>

1. <span data-ttu-id="f0ffe-127">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-127">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="f0ffe-128">Dans la page **Configurations de localisation**, dans la section **Configurations**, sélectionnez la vignette **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-128">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="f0ffe-129">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-129">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**.</span></span>

    ![Passer en revue les configurations importées sur la page Configurations](./media/er-multiple-model-mappings-image1.png)

4. <span data-ttu-id="f0ffe-131">Passez en revue le format **Facture financière (Excel)**  :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-131">Review the **Free text invoice (Excel)** format:</span></span>

    1. <span data-ttu-id="f0ffe-132">Dans l’arborescence de configuration du volet gauche, sélectionnez **Facture financière (Excel)**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-132">In the configuration tree in the left pane, select **Free text invoice (Excel)**.</span></span>
    2. <span data-ttu-id="f0ffe-133">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-133">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="f0ffe-134">Sur la page **Concepteur de format**, sous l’onglet **Mise en correspondance**, dans la liste des sources de données, sélectionnez **Modèle**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-134">On the **Format designer** page, on the **Mapping** tab, in the data sources list, select **Model**.</span></span>
    4. <span data-ttu-id="f0ffe-135">Sélectionnez **Afficher**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-135">Select **View**.</span></span>
    
       <span data-ttu-id="f0ffe-136">Le format de gestion des états électroniques actuel est configuré pour utiliser la définition racine **InvoiceCustomer** de **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-136">Thecurrent ER format is configured to use the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="f0ffe-137">Lorsque ce format est exécuté et que la source de données **Modèle** est appelée, le mappage de modèle configuré pour la définition racine **InvoiceCustomer** est utilisée pour accéder aux données d’application et remplir le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-137">When this format is run, and the **Model** data source is called, the model mapping that is configured for the **InvoiceCustomer** root definition is used to access application data and fill in the data model.</span></span>

        ![Passer en revue la source de données de modèle sur la page Concepteur de format](./media/er-multiple-model-mappings-image2.png)

    6. <span data-ttu-id="f0ffe-139">Fermez la page **Concepteur de format**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-139">Close the **Format designer** page.</span></span>

5. <span data-ttu-id="f0ffe-140">Passer en revue le contenu de la configuration **Mappage de modèle de facture** :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-140">Review the content of the **Invoice model mapping** configuration:</span></span>

    1. <span data-ttu-id="f0ffe-141">Dans l’arborescence de configuration du volet gauche, sélectionnez **Mappage de modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-141">In the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
    2. <span data-ttu-id="f0ffe-142">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-142">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="f0ffe-143">Sur la page **Mise en correspondance de modèle avec une source de données**, notez que la configuration de mappage de modèle de gestion des états électroniques actuelle contient plusieurs composants de mappage de modèle :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-143">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains several model mapping components:</span></span>

        + <span data-ttu-id="f0ffe-144">La mise en correspondance de modèle **Facture client** est configurée pour la définition racine **InvoiceCustomer** de **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-144">The **Customer Invoice** model mapping is configured for the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="f0ffe-145">Par conséquent, lorsque le format de gestion des états électroniques **Facture financière (Excel)** est exécuté, le mappage de modèle **Facture client** de cette configuration ER peut être choisi pour accéder aux données d’application et remplir le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-145">Therefore, when the **Free text invoice (Excel)** ER format is run, the **Customer Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>
        + <span data-ttu-id="f0ffe-146">Le mappage de modèle **Facture projet** est configuré pour la définition racine **InvoiceProject** de **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-146">The **Project Invoice** model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="f0ffe-147">Par conséquent, lorsque le format de gestion des états électroniques de **Facture financière (Excel)** est exécuté, la mise en correspondance du modèle **Facture projet** de cette configuration de gestion des états électroniques peut être choisie pour accéder aux données d’application et remplir le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-147">Therefore, when the **Project invoice (Excel)** ER format is run, the **Project Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>

        ![Mappage de modèle de facture sur la page Mappage de modèle à la source de données](./media/er-multiple-model-mappings-image3.png)

    4. <span data-ttu-id="f0ffe-149">Fermez la page **Mise en correspondance de modèle avec une source de données**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-149">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="f0ffe-150">Sur l’organisateur **Versions**, sélectionnez **Supprimer** pour supprimer toutes les versions de cette configuration de gestion des états électroniques postérieures à la version 240.175.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-150">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 240.175.</span></span>

6. <span data-ttu-id="f0ffe-151">Passer en revue le contenu de la configuration **Mappage de modèle de facture projet (RDP)**  :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-151">Review the content of the **Project invoice model mapping (RDP)** configuration:</span></span>

    1. <span data-ttu-id="f0ffe-152">Dans l’arborescence de configuration du volet gauche, sélectionnez **Mappage de modèle de facture projet (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-152">In the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
    2. <span data-ttu-id="f0ffe-153">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-153">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="f0ffe-154">Sur la page **Mise en correspondance de modèle avec une source de données**, observez que la configuration de mappage de modèle de gestion des états électroniques actuelle contient le mappage de modèle **InvoiceProject** et que ce mappage de modèle est configuré pour la définition de racine **InvoiceProject** de **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-154">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains the **InvoiceProject** model mapping, and that this model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="f0ffe-155">Lorsque le format de gestion des états électroniques de **Facture projet (Excel)** est exécuté, sélectionnez le mappage de modèle **InvoiceProject** de cette configuration de gestion des états électroniques pour accéder aux données d’application et remplir le modèle de données.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-155">When the **Project invoice (Excel)** ER format is run, select the **InvoiceProject** model mapping of this ER configuration to access application data and fill in the data model.</span></span>

        ![Mappage de modèle de facture projet sur la page Mappage de modèle à la source de données](./media/er-multiple-model-mappings-image4.png)

    4. <span data-ttu-id="f0ffe-157">Fermez la page **Mise en correspondance de modèle avec une source de données**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-157">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="f0ffe-158">Sur l’organisateur **Versions**, sélectionnez **Supprimer** pour supprimer toutes les versions de cette configuration de gestion des états électroniques postérieures à la version 226.35.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-158">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 226.35.</span></span>

## <a name="customize-the-imported-er-configurations"></a><span data-ttu-id="f0ffe-159">Personnaliser les configurations de gestion des états électroniques importées</span><span class="sxs-lookup"><span data-stu-id="f0ffe-159">Customize the imported ER configurations</span></span>

<span data-ttu-id="f0ffe-160">Cette section explique comment [Personnaliser](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration) les mappages de modèles fournis par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-160">This section explains how to [customize](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration) the model mappings that are provided by Microsoft.</span></span> <span data-ttu-id="f0ffe-161">Par exemple, une personnalisation peut être nécessaire pour implémenter votre logique personnalisée ou ajouter des liaisons manquantes.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-161">For example, customization might be required to implement your custom logic or add missing bindings.</span></span>

### <a name="customize-the-invoice-model-mapping-configuration"></a><span data-ttu-id="f0ffe-162">Personnaliser la configuration de mappage de modèle de facture</span><span class="sxs-lookup"><span data-stu-id="f0ffe-162">Customize the Invoice model mapping configuration</span></span>

1. <span data-ttu-id="f0ffe-163">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, sélectionnez **Mappage de modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-163">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
2. <span data-ttu-id="f0ffe-164">Dans le volet Actions, sélectionnez **Créer une configuration**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-164">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="f0ffe-165">Dans la boîte de dialogue **Créer la configuration**, dans le champ **Nouveau**, sélectionnez **Provenant du nom : Mappage de modèle de facture, Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-165">In the **Create configuration** drop-down dialog box, in the **New** field, select **Derive from Name: Invoice model mapping, Microsoft**.</span></span>
4. <span data-ttu-id="f0ffe-166">Dans le champ **Nom**, saisissez **Mappage de modèle de facture Litware**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-166">In the **Name** field, enter **Invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="f0ffe-167">Sélectionnez **Créer une configuration**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-167">Select **Create configuration**.</span></span>
6. <span data-ttu-id="f0ffe-168">[Marquez](er-quick-start2-customize-report.md#MarkFormatRunnable) la version [brouillon](general-electronic-reporting.md#component-versioning) du mappage dérivé disponible pour une utilisation au moment de l’exécution :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-168">[Mark](er-quick-start2-customize-report.md#MarkFormatRunnable) the [draft](general-electronic-reporting.md#component-versioning) version of the derived mapping as available for use at runtime:</span></span>

    1. <span data-ttu-id="f0ffe-169">Dans le volet Actions, sous l’onglet **Configurations**, dans le groupe **Paramètres avancés**, sélectionnez **Utiliser les paramètres**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-169">On the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
    2. <span data-ttu-id="f0ffe-170">Dans la boîte de dialogue **Paramètres utilisateur**, définissez l’option **Paramètres d’exécution** sur **Oui**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-170">In the **User parameters** dialog box, set the **Run settings** option to **Yes**, and then select **OK**.</span></span>
    3. <span data-ttu-id="f0ffe-171">Sélectionnez **Modifier** pour rendre la page modifiable, selon les besoins.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-171">Select **Edit** to make the page editable, as required.</span></span>
    4. <span data-ttu-id="f0ffe-172">Pour la configuration **Mappage de modèle de facture Litware** actuellement sélectionnée dans l’arborescence de configuration, définissez l’option **Exécuter le brouillon** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-172">For the **Invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>

7. <span data-ttu-id="f0ffe-173">Dans le volet Actions, sélectionnez **Concepteur** pour examiner les mappages de modèles de cette configuration.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-173">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Passer en revue les mappages de modèle de facture sur la page Mappage de modèle à la source de données](./media/er-multiple-model-mappings-image5.png)

    > [!TIP]
    > <span data-ttu-id="f0ffe-175">Vous pouvez maintenant ouvrir l’un des composants de mappage de modèle pour la gestion des états électroniques de cette configuration de gestion des états électroniques dans le concepteur pour configurer votre logique personnalisée.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-175">You can now open any of the ER model mapping components of this ER configuration in the designer to configure your custom logic.</span></span> <span data-ttu-id="f0ffe-176">Pour plus d’informations, consultez [Personnaliser la configuration du mappage de modèle](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span><span class="sxs-lookup"><span data-stu-id="f0ffe-176">For more information, see [Customize the model mapping configuration](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span></span>

8. <span data-ttu-id="f0ffe-177">Fermez la page **Mise en correspondance de modèle avec une source de données**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-177">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="f0ffe-178">Vous avez maintenant les configurations **Mappage de modèle de facture** et **Mappage de modèle de facture Litware**, chacune ayant un mappage de modèle configuré pour la définition racine **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-178">You now have **Invoice model mapping** and **Invoice model mapping Litware** configurations, each of which has a model mapping that is configured for the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="f0ffe-179">Attribuez explicitement l’un des mappages de modèle en tant que mappage de modèle par défaut utilisé par l’un des formats de gestion des états électroniques, tels que le format **Facture financière (Excel)** qui contient une source de données de modèle avec la définition racine **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-179">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats, such as the **Free text invoice (Excel)** format that contains a model data source that has the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="f0ffe-180">Sinon, lorsque vous exécutez, modifiez ou validez l’un des formats de gestion des états électroniques, l’exception suivante est levée pour vous informer qu’aucun mappage de modèle par défaut n’a été explicitement attribué :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-180">Otherwise, when you run, edit, or validate one of the ER formats, the following exception is thrown to notify you that no default model mapping has been explicitly assigned:</span></span>
 
> <span data-ttu-id="f0ffe-181">Il existe plus d’un mappage de modèle pour le modèle de données ’\<model name\> (\<root descriptor\>) ’ dans les configurations \<configuration names separated by commas\>.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-181">More than one model mapping exists for the '\<model name\> (\<root descriptor\>)' data model in the configurations \<configuration names separated by commas\>.</span></span> <span data-ttu-id="f0ffe-182">Définissez l’une des configurations par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-182">Set one of the configurations as default.</span></span>

![Ouvrir le format pour modification sur la page Configurations](./media/er-multiple-model-mappings-image6.gif)

### <a name="customize-the-project-invoice-model-mapping-rdp-configuration"></a><span data-ttu-id="f0ffe-184">Personnaliser la configuration de mappage de modèle de facture projet (RDP)</span><span class="sxs-lookup"><span data-stu-id="f0ffe-184">Customize the Project invoice model mapping (RDP) configuration</span></span>

1. <span data-ttu-id="f0ffe-185">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, sélectionnez **Mappage de modèle de facture projet (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-185">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
2. <span data-ttu-id="f0ffe-186">Dans le volet Actions, sélectionnez **Créer une configuration**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-186">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="f0ffe-187">Dans la boîte de dialogue **Créer la configuration**, dans le champ **Nouveau**, sélectionnez **Provenant du nom : Mappage de modèle de facture projet (RDP), Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-187">In the **Create configuration** dialog box, in the **New** field, select **Derive from Name: Project invoice model mapping (RDP), Microsoft**.</span></span>
4. <span data-ttu-id="f0ffe-188">Dans le champ **Nom**, saisissez **Mappage de modèle de facture projet Litware**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-188">In the **Name** field, enter **Project invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="f0ffe-189">Sélectionnez **Créer une configuration**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-189">Select **Create configuration**.</span></span>
6. <span data-ttu-id="f0ffe-190">Pour la configuration **Mappage de modèle de facture projet Litware** actuellement sélectionnée dans l’arborescence de configuration, définissez l’option **Exécuter le brouillon** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-190">For the **Project invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>
7. <span data-ttu-id="f0ffe-191">Dans le volet Actions, sélectionnez **Concepteur** pour examiner les mappages de modèles de cette configuration.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-191">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Passer en revue les mappages de modèle de facture projet personnalisés sur la page Mappage de modèle à la source de données](./media/er-multiple-model-mappings-image7.png)

8. <span data-ttu-id="f0ffe-193">Fermez la page **Mise en correspondance de modèle avec une source de données**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-193">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="f0ffe-194">Vous avez maintenant les configurations **Mappage de modèle de facture**, **Mappage de modèle de facture projet (RDP)**, et **Mappage de modèle de facture projet Litware**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-194">You now have **Invoice model mapping**, **Project invoice model mapping (RDP)**, and **Project invoice model mapping Litware** configurations.</span></span> <span data-ttu-id="f0ffe-195">Chacune de ces configurations a un mappage de modèles configuré pour la définition racine **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-195">Each of these configurations has a model mapping configured for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="f0ffe-196">Affectez explicitement l’un des mappages de modèles comme mappage de modèles par défaut utilisé par l’un des formats de gestion des états électroniques.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-196">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats.</span></span> <span data-ttu-id="f0ffe-197">Par exemple, utilisez le format **Facture projet (Excel)** qui contient une source de données de modèle avec la définition racine **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-197">For example, use the **Project invoice (Excel)** format that contains a model data source that has the **InvoiceProject** root definition.</span></span> <span data-ttu-id="f0ffe-198">Sinon, lorsque vous exécutez ou modifiez l’un des formats de gestion des états électroniques, une exception est levée pour vous informer qu’aucun mappage de modèle par défaut n’a été explicitement attribué.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-198">Otherwise, when you run or edit one of the ER formats, an exception is thrown to notify you that no default model mapping has been explicitly assigned.</span></span>

## <a name="select-the-derived-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="f0ffe-199">Sélectionner la configuration Litware de mappage de modèle de facture dérivée comme configuration contenant les mappages de modèle par défaut</span><span class="sxs-lookup"><span data-stu-id="f0ffe-199">Select the derived Invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="f0ffe-200">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, sélectionnez **Mappage de modèle de facture Litware**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-200">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="f0ffe-201">Définissez l’option **Valeur par défaut de la mise en correspondance des modèles** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-201">Set the **Default for model mapping** option to **Yes**.</span></span>

    ![Définition de la mise en correspondance des modèles comme mise en correspondance des modèles par défaut sur la page Configurations](./media/er-multiple-model-mappings-image8.png)

    <span data-ttu-id="f0ffe-203">En raison de ce paramètre, la mise en correspondance des modèles **Copie facture client** est utilisée lorsque vous exécutez la **Facture financière (Excel)**, ou lorsque vous la modifiez ou la validez.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-203">Because of this setting, the **Customer Invoice Copy** model mapping is used when you run the **Free text invoice (Excel)**, or when you edit or validate it.</span></span> <span data-ttu-id="f0ffe-204">La mise en correspondance des modèles **Facture client** de la configuration **Mappage de modèle de facture** est ignorée.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-204">The **Customer invoice** model mapping from the **Invoice model mapping** configuration is ignored.</span></span>

    <span data-ttu-id="f0ffe-205">Vous pouvez maintenant ouvrir le format **Facture financière (Excel)** pour révision dans le concepteur de format.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-205">You can now open the **Free text invoice (Excel)** format for review in the format designer.</span></span>

## <a name="select-the-derived-project-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="f0ffe-206">Sélectionner la configuration Litware de mappage de modèle de facture projet dérivée comme configuration contenant les mappages de modèle par défaut</span><span class="sxs-lookup"><span data-stu-id="f0ffe-206">Select the derived Project invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="f0ffe-207">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, sélectionnez **Mappage de modèle de facture projet Litware**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-207">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="f0ffe-208">Définissez l’option **Valeur par défaut de la mise en correspondance des modèles** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-208">Set the **Default for model mapping** option to **Yes**.</span></span>

    <span data-ttu-id="f0ffe-209">Dans ce cas, contrairement au cas décrit pour la configuration **Mappage de modèle de facture Litware** dans la précédente section, vous ne pouvez pas commencer à utiliser la mise en correspondance des modèles **Copie InvoiceProject** depuis la configuration **Mappage de modèle de facture projet Litware**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-209">In this case, unlike the case that is described for the **Invoice model mapping Litware** configuration in the previous section, you can't start to use the **InvoiceProject Copy** model mapping from the **Project invoice model mapping Litware** configuration.</span></span> <span data-ttu-id="f0ffe-210">Deux configurations qui contiennent un mappage de modèle pour la définition racine **InvoiceProject** sont actuellement marquées comme configuration par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-210">Two configurations that contain a model mapping for the **InvoiceProject** root definition are currently marked as the default configuration.</span></span> <span data-ttu-id="f0ffe-211">Par conséquent, ils ont la même priorité d’utilisation.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-211">Therefore, they have equal priority for use.</span></span> <span data-ttu-id="f0ffe-212">Pour résoudre ce problème, suivez les étapes restantes de cette procédure.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-212">To resolve this issue, complete the remaining steps of this procedure.</span></span>

3. <span data-ttu-id="f0ffe-213">Dans l’arborescence de configuration du volet gauche, sélectionnez **Mappage de modèle de facture Litware**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-213">In the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
4. <span data-ttu-id="f0ffe-214">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-214">On the Action Pane, select **Designer**.</span></span>
5. <span data-ttu-id="f0ffe-215">Sur la page **Mise en correspondance de modèle avec une source de données**, sélectionnez **Modifier** pour rendre la page modifiable, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-215">On the **Model to datasource mapping** page, select **Edit** to make the page editable, as required.</span></span>
6. <span data-ttu-id="f0ffe-216">Sélectionnez la mise en correspondance des modèles **Copie facture projet**, puis cochez la case **Est supprimé** correspondante.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-216">Select the **Project Invoice Copy** model mapping, and then select the **Is deleted** check box for it.</span></span>

    ![Définir la mise en correspondance des modèles comme virtuellement supprimée sur la page Mise en correspondance de modèle avec une source de données](./media/er-multiple-model-mappings-image9.png)

    <span data-ttu-id="f0ffe-218">En raison de ce paramètre, la configuration **Mappage de modèle de facture Litware** est traitée comme si elle n’a pas de mappage de modèles pour la définition racine **InvoiceProject**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-218">Because of this setting, the **Invoice model mapping Litware** configuration is treated as though it has no model mapping for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="f0ffe-219">La mise en correspondance des modèles **Copie InvoiceProject** émise par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-219">The **InvoiceProject Copy** model mapping issued by default.</span></span> <span data-ttu-id="f0ffe-220">La configuration, **Mappage de modèle de facture projet Litware**, qui contient ce mappage de modèle, est marquée comme configuration par défaut.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-220">The configuration, **Project invoice model mapping Litware**, which contains this model mapping, is marked as the default configuration.</span></span> <span data-ttu-id="f0ffe-221">Puisqu’elle est marquée par défaut, elle a une priorité supérieure au mappage de modèle **InvoiceProject** depuis la configuration **Mappage de modèle de facture projet (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-221">Because it is marked as default, it has a higher priority than the **InvoiceProject** model mapping from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="f0ffe-222">Autres considérations</span><span class="sxs-lookup"><span data-stu-id="f0ffe-222">Other considerations</span></span>

<span data-ttu-id="f0ffe-223">Le mappage de modèle **Copie InvoiceProject** de la configuration **Mappage de modèle de facture projet Litware** est conçu pour utiliser la source de données **ReportDataProvider**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-223">The **InvoiceProject Copy** model mapping of the **Project invoice model mapping Litware** configuration is designed to use the **ReportDataProvider** data source.</span></span> <span data-ttu-id="f0ffe-224">La source de données fait partie du type *Objet* qui fait référence à la classe d’application **PsaProjInvoiceDP**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-224">The data source is part of the *Object* type that refers to the **PsaProjInvoiceDP** application class.</span></span> <span data-ttu-id="f0ffe-225">Cette classe est implémentée en tant que fournisseur de données pour le rapport SQL Server Reporting Services (SSRS) de facture projet de l’infrastructure de gestion de l’impression.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-225">This class is implemented as the data provider for the project invoice SQL Server Reporting Services (SSRS) report of the Print management framework.</span></span> <span data-ttu-id="f0ffe-226">Sélectionnez cette source de données comme le [point d’intégration](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents) de la gestion des états électroniques.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-226">Select this data source as the ER [integration point](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents).</span></span> <span data-ttu-id="f0ffe-227">L’implémentation actuelle de la gestion des états électroniques pour les rapports de gestion d’impression prend en compte ce paramètre.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-227">The current ER implementation for Print management reports takes this setting into account.</span></span> <span data-ttu-id="f0ffe-228">Pour plus de détails, consultez le code source de la classe d’application **ERPrintMgmtDataProviderReport**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-228">For more details, review the source code of the **ERPrintMgmtDataProviderReport** application class.</span></span> <span data-ttu-id="f0ffe-229">Au moment de l’exécution, l’affectation de la source de données **ReportDataProvider** en tant que point d’intégration du mappage de modèle oblige Finance à traiter ce composant de mappage avec une priorité supérieure au composant de mappage **InvoiceProject** depuis la configuration **Mappage de modèle de facture projet (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="f0ffe-229">At runtime, the assignment of the **ReportDataProvider** data source as the model mapping integration point forces Finance to treat this mapping component with a higher priority than the **InvoiceProject** mapping component from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="see-also"></a><span data-ttu-id="f0ffe-230">Voir également :</span><span class="sxs-lookup"><span data-stu-id="f0ffe-230">See also</span></span>

- [<span data-ttu-id="f0ffe-231">Gérer la mise en correspondance de modèle de gestion des états électroniques dans des configurations ER distinctes</span><span class="sxs-lookup"><span data-stu-id="f0ffe-231">Manage ER model mapping in separate ER configurations</span></span>](./tasks/er-manage-model-mapping-configurations-july-2017.md)
- [<span data-ttu-id="f0ffe-232">Configurer les mises en correspondance de modèle de gestion des états électroniques en fonction du contexte de pays</span><span class="sxs-lookup"><span data-stu-id="f0ffe-232">Configure country context dependent ER model mappings</span></span>](er-country-dependent-model-mapping.md)
- [<span data-ttu-id="f0ffe-233">Modifications de l’API du cadre des états électroniques</span><span class="sxs-lookup"><span data-stu-id="f0ffe-233">Electronic reporting framework API changes</span></span>](er-apis-app10-0-11.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]