---
title: Personnaliser les configurations ER pour générer un document électronique
description: Cette rubrique explique comment personnaliser les configurations de gestion des états électroniques (ER) fournies par Microsoft qui permettent de générer un document électronique personnalisé.
author: NickSelin
manager: AnnBe
ms.date: 10/21/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable, ERParameters, ERDataModelDesigner, ERModelMappingTable, ERModelMappingDesigner, EROperationDesigner, ERVendorTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 220314
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: 2a0cc308e2e3c7f42295a6170c4f709a835c5c84
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/09/2021
ms.locfileid: "5566124"
---
# <a name="customize-electronic-reporting-configurations-to-generate-an-electronic-document"></a><span data-ttu-id="6c35a-103">Personnaliser les configurations ER pour générer un document électronique</span><span class="sxs-lookup"><span data-stu-id="6c35a-103">Customize Electronic reporting configurations to generate an electronic document</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="6c35a-104">La [structure de gestion des états électroniques (ER)](general-electronic-reporting.md) vous permet de télécharger les [configurations](general-electronic-reporting.md#Configuration) ER que Microsoft fournit dans votre instance Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="6c35a-104">The [Electronic reporting (ER) framework](general-electronic-reporting.md) lets you upload the ER [configurations](general-electronic-reporting.md#Configuration) that Microsoft provides into your Microsoft Dynamics 365 Finance instance.</span></span> <span data-ttu-id="6c35a-105">De cette manière, les configurations fournies par Microsoft peuvent servir de solution ER utilisée pour générer des factures clients électroniques (factures électroniques).</span><span class="sxs-lookup"><span data-stu-id="6c35a-105">In this way, the Microsoft-provided configurations can serve as the ER solution that is used to generate electronic customer invoices (e-invoices).</span></span> <span data-ttu-id="6c35a-106">Vous pouvez utiliser cette solution ER pour configurer votre solution ER personnalisée afin d’accéder à vos champs de base de données personnalisés et de générer des factures électroniques conformes à vos exigences spécifiques, sans avoir à modifier le code source.</span><span class="sxs-lookup"><span data-stu-id="6c35a-106">You can use this ER solution to configure your custom ER solution to access your custom database fields and generate e-invoices that are compliant with your specific requirements, without having to edit the source code.</span></span>

## <a name="overview"></a><span data-ttu-id="6c35a-107">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="6c35a-107">Overview</span></span>

<span data-ttu-id="6c35a-108">Pour l’exemple de cette rubrique, vous devez spécifier un code d’identification fiscale fédérale comme nouvel attribut personnalisé de chaque client que vous facturez électroniquement.</span><span class="sxs-lookup"><span data-stu-id="6c35a-108">For the example in this topic, you must specify a federal tax identification code as a new custom attribute of every customer that you electronically invoice.</span></span> <span data-ttu-id="6c35a-109">Par conséquent, vous devez personnaliser la structure de la facture actuellement utilisée, en ajoutant un nouvel élément qui doit être rempli avec le code taxe dans chaque facture électronique qui est générée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-109">Therefore, you must customize the structure of the invoice that is currently used, by adding a new item that must be filled with the tax code in every e-invoice that is generated.</span></span>

<span data-ttu-id="6c35a-110">Les procédures de cette rubrique expliquent comment un utilisateur doté du rôle Administrateur système, Développeur d’états électroniques ou Consultant fonctionnel ER peut effectuer les tâches suivantes dans votre instance de Finance :</span><span class="sxs-lookup"><span data-stu-id="6c35a-110">The procedures in this topic explain how a user in the System Administrator, Electronic Reporting Developer, or Electronic Reporting Functional Consultant role can perform the following tasks in your Finance instance:</span></span>

- <span data-ttu-id="6c35a-111">[Configurer l’ensemble minimal de paramètres ER requis pour commencer à utiliser la structure ER](#ConfigureER).</span><span class="sxs-lookup"><span data-stu-id="6c35a-111">[Configure the minimal set of ER parameters that is required to start to use the ER framework](#ConfigureER).</span></span>
- <span data-ttu-id="6c35a-112">[Importez les versions initiales des configurations ER standard fournies pour générer des factures électroniques](#ImportERConfigurations1).</span><span class="sxs-lookup"><span data-stu-id="6c35a-112">[Import the initial versions of the standard ER configurations that are provided to generate e-invoices](#ImportERConfigurations1).</span></span>
- <span data-ttu-id="6c35a-113">[Configurer les paramètres de la comptabilité client pour commencer à utiliser les configurations ER standard](#ConfigureAR1).</span><span class="sxs-lookup"><span data-stu-id="6c35a-113">[Configure the Accounts receivable parameters to start to use the standard ER configurations](#ConfigureAR1).</span></span>
- <span data-ttu-id="6c35a-114">[Configurer les paramètres d’entité juridique pour facturer les clients](#ConfigureLE).</span><span class="sxs-lookup"><span data-stu-id="6c35a-114">[Configure the legal entity parameters to invoice customers](#ConfigureLE).</span></span>
- <span data-ttu-id="6c35a-115">[Préparer un enregistrement client pour la facturation électronique](#ConfigureCustomer1).</span><span class="sxs-lookup"><span data-stu-id="6c35a-115">[Prepare a customer record for electronic invoicing](#ConfigureCustomer1).</span></span>
- <span data-ttu-id="6c35a-116">[Ajouter, valider et envoyer une facture client à l’aide des configurations ER standard](#ProcessInvoice1).</span><span class="sxs-lookup"><span data-stu-id="6c35a-116">[Add, post, and send a customer invoice by using the standard ER configurations](#ProcessInvoice1).</span></span>
- <span data-ttu-id="6c35a-117">[Ajouter un champ de base de données personnalisé pour gérer un code d’identification fiscale fédérale pour les clients](#AddCustomField).</span><span class="sxs-lookup"><span data-stu-id="6c35a-117">[Add a custom database field to manage a federal tax identification code for customers](#AddCustomField).</span></span>
- <span data-ttu-id="6c35a-118">[Actualiser les métadonnées ER pour activer les modifications de base de données pour le concepteur de mappage de modèle ER](#RefreshERMetadata).</span><span class="sxs-lookup"><span data-stu-id="6c35a-118">[Refresh the ER metadata to enable database changes for the ER model mapping designer](#RefreshERMetadata).</span></span>
- <span data-ttu-id="6c35a-119">[Concevoir les configurations ER personnalisées pour générer des factures électroniques contenant le nouveau code taxe](#DesignCustomERConfigurations).</span><span class="sxs-lookup"><span data-stu-id="6c35a-119">[Design the custom ER configurations to generate e-invoices that contain the new tax code](#DesignCustomERConfigurations).</span></span>
- <span data-ttu-id="6c35a-120">[Configurer les paramètres de la comptabilité client pour commencer à utiliser les configurations ER personnalisées](#ConfigureAR2).</span><span class="sxs-lookup"><span data-stu-id="6c35a-120">[Configure the Accounts receivable parameters to start to use the custom ER configurations](#ConfigureAR2).</span></span>
- <span data-ttu-id="6c35a-121">[Mettre à jour un enregistrement client pour la facturation électronique](#ConfigureCustomer2).</span><span class="sxs-lookup"><span data-stu-id="6c35a-121">[Update a customer record for electronic invoicing](#ConfigureCustomer2).</span></span>
- <span data-ttu-id="6c35a-122">[Ajouter, valider et envoyer une facture client à l’aide des configurations ER personnalisées](#ProcessInvoice2).</span><span class="sxs-lookup"><span data-stu-id="6c35a-122">[Add, post, and send a customer invoice by using the custom ER configurations](#ProcessInvoice2).</span></span>
- <span data-ttu-id="6c35a-123">[Importez les nouvelles versions des configurations ER standard fournies pour générer des factures électroniques](#ImportERConfigurations2).</span><span class="sxs-lookup"><span data-stu-id="6c35a-123">[Import the new versions of the standard ER configurations that are provided to generate e-invoices](#ImportERConfigurations2).</span></span>
- <span data-ttu-id="6c35a-124">[Adopter les modifications apportées aux nouvelles versions des configurations ER standard dans vos configurations ER personnalisées](#RebaseCustomERConfigurations).</span><span class="sxs-lookup"><span data-stu-id="6c35a-124">[Adopt the changes to the new versions of the standard ER configurations in your custom ER configurations](#RebaseCustomERConfigurations).</span></span>
- <span data-ttu-id="6c35a-125">[Ajouter, valider et envoyer une facture client à l’aide des nouvelles versions des configurations ER personnalisées](#ProcessInvoice3).</span><span class="sxs-lookup"><span data-stu-id="6c35a-125">[Add, post, and send a customer invoice by using the new versions of the custom ER configurations](#ProcessInvoice3).</span></span>

<span data-ttu-id="6c35a-126">Toutes ces procédures peuvent être effectuées dans la société **DEMF**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-126">All these procedures can be completed in the **DEMF** company.</span></span>

## <a name="configure-the-er-framework"></a><a name="ConfigureER"></a><span data-ttu-id="6c35a-127">Configurer la structure de gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="6c35a-127">Configure the ER framework</span></span>

<span data-ttu-id="6c35a-128">En tant qu’utilisateur ayant le rôle de consultant fonctionnel ER ou de développeur de rapports électroniques, vous devez configurer l’ensemble minimal de paramètres ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-128">As a user in the Electronic Reporting Functional Consultant or Electronic Reporting Developer role, you must configure the minimal set of ER parameters.</span></span> <span data-ttu-id="6c35a-129">Vous pouvez ensuite commencer à utiliser la structure ER pour concevoir des versions personnalisées des configurations standard de la solution ER utilisée pour générer des factures électroniques.</span><span class="sxs-lookup"><span data-stu-id="6c35a-129">You can then start to use the ER framework to design custom versions of the standard configurations of the ER solution that is used to generate e-invoices.</span></span>

### <a name="configure-er-parameters"></a><span data-ttu-id="6c35a-130">Configurer les paramètres ER</span><span class="sxs-lookup"><span data-stu-id="6c35a-130">Configure ER parameters</span></span>

1. <span data-ttu-id="6c35a-131">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-131">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-132">Sur la page **Configurations de localisation**, dans la section **Liens connexes**, sélectionnez **Paramètres de gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-132">On the **Localization configurations** page, in the **Related links** section, select **Electronic reporting parameters**.</span></span>
3. <span data-ttu-id="6c35a-133">Sur la page **Paramètres de gestion des états électroniques**, sous l’onglet **Général**, définissez l’option **Activer le mode de configuration** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-133">On the **Electronic reporting parameters** page, on the **General** tab, set the **Enable design mode** option to **Yes**.</span></span>
4. <span data-ttu-id="6c35a-134">Sur l’onglet **Pièces jointes**, dans le champ **Configurations**, sélectionnez **Fichier**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-134">On the **Attachments** tab, in the **Configurations** field, select **File**.</span></span>
5. <span data-ttu-id="6c35a-135">Dans les champs **Archive de tâche**, **Temporaire**, **Référence** et **Autres**, sélectionnez le type **Fichier**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-135">In the **Job archive**, **Temporary**, **Baseline**, and **Others** fields, select the **File** type.</span></span>

<span data-ttu-id="6c35a-136">Pour plus d’informations sur les paramètres de gestion des états électroniques, voir [Configurer la structure de gestion des états électroniques](electronic-reporting-er-configure-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="6c35a-136">For more information about ER parameters, see [Configure the ER framework](electronic-reporting-er-configure-parameters.md).</span></span>

### <a name="activate-an-er-configuration-provider"></a><span data-ttu-id="6c35a-137">Activer un fournisseur de configuration de gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="6c35a-137">Activate an ER configuration provider</span></span>

<span data-ttu-id="6c35a-138">Chaque configuration de gestion des états électroniques ajoutée est marquée comme appartenant à un fournisseur de configuration de gestion des états électroniques.</span><span class="sxs-lookup"><span data-stu-id="6c35a-138">Every ER configuration that is added is marked as owned by an ER configuration provider.</span></span> <span data-ttu-id="6c35a-139">Le fournisseur de configuration de gestion des états électroniques activé dans l’espace de travail **Gestion des états électroniques** est utilisé à cet effet.</span><span class="sxs-lookup"><span data-stu-id="6c35a-139">The ER configuration provider that is activated in the **Electronic reporting** workspace is used for this purpose.</span></span> <span data-ttu-id="6c35a-140">Par conséquent, vous devez activer un fournisseur de configuration de gestion des états électroniques dans l’espace de travail **Gestion des états électroniques** avant de commencer à ajouter ou modifier des configurations de gestion des états électroniques.</span><span class="sxs-lookup"><span data-stu-id="6c35a-140">Therefore, you must activate an ER configuration provider in the **Electronic reporting** workspace before you start to add or edit ER configurations.</span></span>

> [!NOTE]
> <span data-ttu-id="6c35a-141">Seul le propriétaire d’une configuration de gestion des états électroniques peut la modifier.</span><span class="sxs-lookup"><span data-stu-id="6c35a-141">Only the owner of an ER configuration can edit it.</span></span> <span data-ttu-id="6c35a-142">Par conséquent, avant qu’une configuration de gestion des états électroniques puisse être modifiée, le fournisseur de configuration de gestion des états électroniques approprié doit être activé dans l’espace de travail **Gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-142">Therefore, before an ER configuration can be edited, the appropriate ER configuration provider must be activated in the **Electronic reporting** workspace.</span></span>

#### <a name="review-the-list-of-er-configuration-providers"></a><span data-ttu-id="6c35a-143">Consulter la liste des fournisseurs de configuration de gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="6c35a-143">Review the list of ER configuration providers</span></span>

1. <span data-ttu-id="6c35a-144">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-144">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-145">Sur la page **Configurations de localisation**, dans la section **Liens connexes**, sélectionnez **Fournisseurs de configuration**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-145">On the **Localization configurations** page, in the **Related links** section, select **Configuration providers**.</span></span>
3. <span data-ttu-id="6c35a-146">Sur la page **Table des fournisseurs de configuration**, chaque enregistrement de fournisseur a un nom et une URL uniques.</span><span class="sxs-lookup"><span data-stu-id="6c35a-146">On the **Configuration provider table** page, each provider record has a unique name and URL.</span></span> <span data-ttu-id="6c35a-147">Passez en revue le contenu de cette page.</span><span class="sxs-lookup"><span data-stu-id="6c35a-147">Review the contents of this page.</span></span> <span data-ttu-id="6c35a-148">S’il existe déjà un enregistrement pour **Litware, Inc.** (`https://www.litware.com`), ignorez la procédure suivante, [Ajouter un nouveau fournisseur de configuration de gestion des états électroniques](#AddProvider).</span><span class="sxs-lookup"><span data-stu-id="6c35a-148">If a record for **Litware, Inc.** (`https://www.litware.com`) already exists, skip the next procedure, [Add a new ER configuration provider](#AddProvider).</span></span>

#### <a name="add-a-new-er-configuration-provider"></a><a id="AddProvider"></a><span data-ttu-id="6c35a-149">Ajouter un nouveau fournisseur de configuration de gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="6c35a-149">Add a new ER configuration provider</span></span>

1. <span data-ttu-id="6c35a-150">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-150">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-151">Sur la page **Configurations de localisation**, dans la section **Liens connexes**, sélectionnez **Fournisseurs de configuration**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-151">On the **Localization configurations** page, in the **Related links** section, select **Configuration providers**.</span></span>
3. <span data-ttu-id="6c35a-152">Sur la page **Fournisseurs de configuration**, sélectionnez **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-152">On the **Configuration providers** page, select **New**.</span></span>
4. <span data-ttu-id="6c35a-153">Dans le champ **Nom**, entrez **Litware, Inc.**</span><span class="sxs-lookup"><span data-stu-id="6c35a-153">In the **Name** field, enter **Litware, Inc.**</span></span>
5. <span data-ttu-id="6c35a-154">Dans le champ **Adresse Internet**, entrez `https://www.litware.com`.</span><span class="sxs-lookup"><span data-stu-id="6c35a-154">In the **Internet address** field, enter `https://www.litware.com`.</span></span>
6. <span data-ttu-id="6c35a-155">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-155">Select **Save**.</span></span>

#### <a name="activate-an-er-configuration-provider"></a><span data-ttu-id="6c35a-156">Activer un fournisseur de configuration de gestion des états électroniques</span><span class="sxs-lookup"><span data-stu-id="6c35a-156">Activate an ER configuration provider</span></span>

1. <span data-ttu-id="6c35a-157">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-157">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-158">Sur la page **Configurations de localisation**, dans la section **Fournisseurs de configuration**, sélectionnez la vignette **Litware, Inc.**, puis sélectionnez **Activer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-158">On the **Localization configurations** page, in the **Configuration providers** section, select the **Litware, Inc.** tile, and then select **Set active**.</span></span>

<span data-ttu-id="6c35a-159">Pour plus d’informations sur les fournisseurs de configuration de gestion des états électroniques, voir [Créer des fournisseurs de configuration et les marquer comme actifs](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="6c35a-159">For more information about ER configuration providers, see [Create configuration providers and mark them as active](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span></span>

## <a name="import-the-initial-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations1"></a><span data-ttu-id="6c35a-160">Importer les versions initiales de configurations ER standard</span><span class="sxs-lookup"><span data-stu-id="6c35a-160">Import the initial versions of standard ER configurations</span></span>

<span data-ttu-id="6c35a-161">Pour ajouter les configurations ER standard à votre instance actuelle de Finance, vous devez les importer depuis le [référentiel](general-electronic-reporting.md#Repository) ER qui a été configuré pour cette instance.</span><span class="sxs-lookup"><span data-stu-id="6c35a-161">To add the standard ER configurations to your current Finance instance, you must import them from the ER [repository](general-electronic-reporting.md#Repository) that was configured for that instance.</span></span>

1. <span data-ttu-id="6c35a-162">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-162">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-163">Sur la page **Configurations de localisation**, dans la section **Fournisseurs de configuration**, sélectionnez la vignette **Microsoft**, puis sélectionnez **Référentiels** pour afficher la liste des référentiels du fournisseur Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6c35a-163">On the **Localization configurations** page, in the **Configuration providers** section, select the **Microsoft** tile, and then select **Repositories** to view the list of repositories for the Microsoft provider.</span></span>
3. <span data-ttu-id="6c35a-164">Sur la page **Référentiels de configuration**, sélectionnez le référentiel de type **Global**, puis sélectionnez **Ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-164">On the **Configuration repositories** page, select the repository of the **Global** type, and then select **Open**.</span></span> <span data-ttu-id="6c35a-165">Si vous êtes invité à autoriser la connexion à Regulatory Configuration Service, suivez les instructions d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-165">If you're prompted for authorization to connect to Regulatory Configuration Service, follow the authorization instructions.</span></span>
4. <span data-ttu-id="6c35a-166">Sur la page **Référentiel de configuration**, dans l’arborescence de configuration du volet gauche, sélectionnez la configuration de format **Facture client Peppol**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-166">On the **Configuration repository** page, in the configuration tree in the left pane, select the **Peppol Sales Invoice** format configuration.</span></span>
5. <span data-ttu-id="6c35a-167">Dans l’organisateur **Versions**, sélectionnez la version **11.2.2**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-167">On the **Versions** FastTab, select version **11.2.2**.</span></span>
6. <span data-ttu-id="6c35a-168">Cliquez sur **Importer** pour télécharger la version sélectionnée depuis le référentiel global.</span><span class="sxs-lookup"><span data-stu-id="6c35a-168">Select **Import** to download the selected version from the Global repository.</span></span>

![Page du référentiel de configuration](./media/er-quick-start3-import-solution1.png)

> [!TIP]
> <span data-ttu-id="6c35a-170">Si vous ne parvenez pas à accéder au [Référentiel global](er-download-configurations-global-repo.md), vous pouvez [télécharger les configurations](download-electronic-reporting-configuration-lcs.md) depuis Microsoft Dynamics Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="6c35a-170">If you have trouble accessing the [Global repository](er-download-configurations-global-repo.md), you can [download configurations](download-electronic-reporting-configuration-lcs.md) from Microsoft Dynamics Lifecycle Services (LCS) instead.</span></span>

### <a name="review-the-imported-er-configurations"></a><span data-ttu-id="6c35a-171">Passer en revue les configurations de gestion des états électroniques importées</span><span class="sxs-lookup"><span data-stu-id="6c35a-171">Review the imported ER configurations</span></span>

1. <span data-ttu-id="6c35a-172">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-172">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-173">Dans la page **Configurations de localisation**, dans la section **Configurations**, sélectionnez la vignette **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-173">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="6c35a-174">Sur la page **Configurations**, développez le FastTab **Composants de configuration**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-174">On the **Configurations** page, expand the **Configuration components** FastTab.</span></span>
4. <span data-ttu-id="6c35a-175">Dans l’arborescence de configuration du volet gauche, développez **Modèle de facture**, puis développez **Facture client UBL**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-175">In the configuration tree in the left pane, expand **Invoice model**, and then expand **UBL Sales invoice**.</span></span>

<span data-ttu-id="6c35a-176">Notez qu’en plus du format ER **Facture client Peppol** sélectionné, d’autres configurations ER requises ont été importées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-176">Notice that, in addition to the selected **Peppol Sales Invoice** ER format, other required ER configurations were imported.</span></span> <span data-ttu-id="6c35a-177">Parce que les nouvelles versions des configurations ER sont constamment publiées dans le référentiel global et LCS pour maintenir les solutions correspondantes conformes aux nouvelles exigences, les dernières versions de la configuration de [modèle de données](general-electronic-reporting.md#data-model-and-model-mapping-components) requise et ses configurations de [mise en correspondance des modèles](general-electronic-reporting.md#data-model-and-model-mapping-components) ont été importées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-177">Because new versions of ER configurations are constantly published to the Global repository and LCS to keep the corresponding solutions compliant with new requirements, the latest versions of the required [data model](general-electronic-reporting.md#data-model-and-model-mapping-components) configuration and its [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) configurations were imported.</span></span>

![Page Configurations](./media/er-quick-start3-imported-solution1a.png)

<span data-ttu-id="6c35a-179">Pour simuler l’état dans lequel se trouveraient les configurations ER dans l’instance de Finance actuelle si vous importiez la version **11.2.2** du format ER **Facture client Peppol** dans le passé (par exemple, le 7 août 2019), suivez ces étapes.</span><span class="sxs-lookup"><span data-stu-id="6c35a-179">To simulate the state that ER configurations in the current Finance instance  would be in if you imported version **11.2.2** of the **Peppol Sales Invoice** ER format in the past (for example, on August 7, 2019), follow these steps.</span></span>

- <span data-ttu-id="6c35a-180">Dans le volet Actions, sélectionnez **Supprimer** pour supprimer toutes les configurations ER publiées après le 7 août 2019.</span><span class="sxs-lookup"><span data-stu-id="6c35a-180">On the Action Pane, select **Delete** to delete all ER configurations that were published after August 7, 2019.</span></span> <span data-ttu-id="6c35a-181">Seules les configurations **Modèle de facture**, **Mappage du modèle de facture** (initialement nommé **Mappage du modèle de facture client**), **Facture client UBL** et **Facture client Peppol** doivent être conservées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-181">The only **Invoice model**, **Invoice model mapping** (initially named **Customer invoice model mapping**), **UBL Sales invoice** and **Peppol Sales Invoice** configurations must be left.</span></span>
- <span data-ttu-id="6c35a-182">Pour les configurations ER restantes, sur le FastTab **Versions**, sélectionnez **Supprimer** pour supprimer toutes les versions des configurations ER publiées après le 7 août 2019.</span><span class="sxs-lookup"><span data-stu-id="6c35a-182">For the remained ER configurations, on the **Versions** FastTab, select **Delete** to delete all versions of ER configurations that were published after August 7, 2019.</span></span>

<span data-ttu-id="6c35a-183">Vérifiez ensuite que les configurations suivantes sont disponibles dans l’arborescence de configuration :</span><span class="sxs-lookup"><span data-stu-id="6c35a-183">Then verify that the following configurations are available in the configuration tree:</span></span>

- <span data-ttu-id="6c35a-184">Configuration du modèle de données ER **Modèle de facture** (initialement nommée **Modèle de facture client**) :</span><span class="sxs-lookup"><span data-stu-id="6c35a-184">**Invoice model** ER data model configuration (initially named **Customer invoice model**):</span></span>

    - <span data-ttu-id="6c35a-185">La version 11 contient la version 10 du composant ER [modèle de données](general-electronic-reporting.md#data-model-and-model-mapping-components) qui représente la structure de données du domaine métier de facturation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-185">Version 11 contains version 10 of the [data model](general-electronic-reporting.md#data-model-and-model-mapping-components) ER component that represents the data structure of the invoicing business domain.</span></span> <span data-ttu-id="6c35a-186">Cette configuration ER a été importée comme ancêtre du format ER **Facture client Peppol** sélectionné pour l’importation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-186">This ER configuration has been imported as an ancestor of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>
    - <span data-ttu-id="6c35a-187">La version 50 contient la version 31 du composant ER de modèle de données.</span><span class="sxs-lookup"><span data-stu-id="6c35a-187">Version 50 contains version 31 of the data model ER component.</span></span> <span data-ttu-id="6c35a-188">Cette configuration ER a été importée en tant qu’ancêtre de la version du 7 août 2019 de la configuration du mappage du modèle ER **Mappage du modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-188">This ER configuration has been imported as an ancestor of the August 7, 2019, version of the **Invoice model mapping** ER model mapping configuration.</span></span>

    ![Configuration du modèle de données ER Modèle de facture sur la page Configurations](./media/er-quick-start3-imported-solution1b1.png)

    > [!TIP]
    > <span data-ttu-id="6c35a-190">Si vous ne voyez pas la version 50 de ce modèle de données, ouvrez le référentiel global et importez la version 50.19 de la configuration ER **Mappage du modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-190">If you don't see version 50 of this data model, open the Global repository, and import version 50.19 of the **Invoice model mapping** ER configuration.</span></span>

- <span data-ttu-id="6c35a-191">Configuration du mappage de modèle ER **Mappage du modèle de facture** (initialement nommée **Mappage de modèle de facture client**) :</span><span class="sxs-lookup"><span data-stu-id="6c35a-191">**Invoice model mapping** ER model mapping configuration (initially named **Customer invoice model mapping**):</span></span>

    - <span data-ttu-id="6c35a-192">La version 50.19 a été importée en tant que dernière implémentation de la version 50 de la configuration du modèle de données ER **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-192">Version 50.19 has been imported as the latest implementation of version 50 of the **Invoice model** ER data model configuration.</span></span> <span data-ttu-id="6c35a-193">Elle contient deux composants ER de [mappage du modèle](general-electronic-reporting.md#data-model-and-model-mapping-components) qui décrivent comment le modèle de données est rempli avec les données d’application au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="6c35a-193">It contains two [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) ER components that describe how the data model is filled in with application data at runtime.</span></span>

    ![Configuration du mappage du modèle ER Mappage du modèle de facture sur la page Configurations](./media/er-quick-start3-imported-solution1b2.png)

    > [!TIP]
    > <span data-ttu-id="6c35a-195">Si vous ne voyez pas la version 50.19 de ce mappage du modèle, ouvrez le référentiel global et importez la version 50.19 de la configuration ER **Mappage du modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-195">If you don't see version 50.19 of this model mapping, open the Global repository, and import version 50.19 of the **Invoice model mapping** ER configuration.</span></span>

- <span data-ttu-id="6c35a-196">Configuration du format ER **Facture client UBL** :</span><span class="sxs-lookup"><span data-stu-id="6c35a-196">**UBL Sales invoice** ER format configuration:</span></span>

    - <span data-ttu-id="6c35a-197">La version 11.2 contient les composants de gestion des états électroniques [Format](general-electronic-reporting.md#FormatComponentOutbound) et Mise en correspondance des formats.</span><span class="sxs-lookup"><span data-stu-id="6c35a-197">Version 11.2 contains the [format](general-electronic-reporting.md#FormatComponentOutbound) and format mapping ER components.</span></span> <span data-ttu-id="6c35a-198">Le composant Format spécifie la présentation de l’état.</span><span class="sxs-lookup"><span data-stu-id="6c35a-198">The format component specifies the report layout.</span></span> <span data-ttu-id="6c35a-199">Le composant Mise en correspondance des formats contient la source de données du modèle et spécifie comment cette source de données est utilisée pour remplir la présentation de l’état au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="6c35a-199">The format mapping component contains the model data source and specifies how this data source is used to fill in the report layout at runtime.</span></span> <span data-ttu-id="6c35a-200">Ce format ER a été configuré pour générer des factures électroniques au format UBL (Universal Business Language, langage universel des affaires).</span><span class="sxs-lookup"><span data-stu-id="6c35a-200">This ER format was configured to generate e-invoices in Universal Business Language (UBL) format.</span></span> <span data-ttu-id="6c35a-201">Il a été importé comme parent du format de gestion des états électroniques **Facture client Peppol** sélectionné pour l’importation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-201">It has been imported as a parent of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>

- <span data-ttu-id="6c35a-202">Configuration du format ER **Facture client Peppol** :</span><span class="sxs-lookup"><span data-stu-id="6c35a-202">**Peppol Sales Invoice** ER format configuration:</span></span>

    - <span data-ttu-id="6c35a-203">La version 11.2.2 contient les composants ER de format et de mappage de formats qui ont été configurés pour générer des factures électroniques au format PEPPOL (Pan-European Public Procurement OnLine).</span><span class="sxs-lookup"><span data-stu-id="6c35a-203">Version 11.2.2 contains the format and format mapping ER components that were configured to generate e-invoices in Pan-European Public Procurement OnLine (PEPPOL) format.</span></span>

    ![Configuration du format ER Facture client Peppol sur la page Configurations](./media/er-quick-start3-imported-solution1b3.png)

## <a name="configure-the-accounts-receivable-parameters"></a><a name="ConfigureAR1"></a><span data-ttu-id="6c35a-205">Configurer les paramètres de la comptabilité client</span><span class="sxs-lookup"><span data-stu-id="6c35a-205">Configure the Accounts receivable parameters</span></span>

1. <span data-ttu-id="6c35a-206">Accédez à **Comptabilité client** \> **Configuration** \> **Paramètres de la comptabilité client**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-206">Go to **Accounts receivable** \> **Setup** \> **Accounts receivable parameters**.</span></span>
2. <span data-ttu-id="6c35a-207">Sur l’onglet **Documents électroniques**, sur le FastTab **Gestion des états électroniques**, dans le champ **Facture client et financière**, sélectionnez **Facture client Peppol**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-207">On the **Electronic documents** tab, on the **Electronic reporting** FastTab, in the **Sales and Free text invoice** field, select **Peppol Sales Invoice**.</span></span>
3. <span data-ttu-id="6c35a-208">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-208">Select **Save**.</span></span>

![Onglet Documents électroniques sur la page Paramètres de la comptabilité client](./media/er-quick-start3-configure-ar1.png)

## <a name="configure-the-legal-entity-parameters"></a><a name="ConfigureLE"></a><span data-ttu-id="6c35a-210">Configurer les paramètres d’entité juridique</span><span class="sxs-lookup"><span data-stu-id="6c35a-210">Configure the legal entity parameters</span></span>

1. <span data-ttu-id="6c35a-211">Allez dans **Administration d’organisation** \> **Organisations** \> **Entités juridiques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-211">Go to **Organization administration** \> **Organizations** \> **Legal entities**.</span></span>
2. <span data-ttu-id="6c35a-212">Pour l’entreprise sélectionné **DEMF**, sur le FastTab **Informations sur le compte en banque**, dans le champ **Numéro d’acheminement**, entrez **1234**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-212">For the selected **DEMF** company, on the **Bank account information** FastTab, in the **Routing number** field, enter **1234**.</span></span>
3. <span data-ttu-id="6c35a-213">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-213">Select **Save**.</span></span>
4. <span data-ttu-id="6c35a-214">Fermez la page **Entités juridiques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-214">Close the **Legal entities** page.</span></span>

## <a name="prepare-a-customer-record"></a><a name="ConfigureCustomer1"></a><span data-ttu-id="6c35a-215">Préparer un enregistrement client</span><span class="sxs-lookup"><span data-stu-id="6c35a-215">Prepare a customer record</span></span>

1. <span data-ttu-id="6c35a-216">Allez dans **Comptabilité client** \> **Clients** \> **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-216">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="6c35a-217">Sur la page **Tous les clients**, sélectionnez le lien de compte client **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-217">On the **All customers** page, select the **DE-014** customer account link.</span></span>

### <a name="add-a-customer-contact"></a><span data-ttu-id="6c35a-218">Ajouter un contact client</span><span class="sxs-lookup"><span data-stu-id="6c35a-218">Add a customer contact</span></span>

1. <span data-ttu-id="6c35a-219">Allez dans **Comptabilité client** \> **Clients** \> **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-219">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="6c35a-220">Dans le volet Actions, sous l’onglet **Client**, dans le groupe **Compte**, cliquez sur **Contacts**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-220">On the Action Pane, on the **Customer** tab, in the **Accounts** group, select **Contacts**.</span></span>
3. <span data-ttu-id="6c35a-221">Sélectionnez **Ajouter des contacts**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-221">Select **Add contacts**.</span></span>
4. <span data-ttu-id="6c35a-222">Sur la page **Contacts**, dans le champ **Prénom**, ouvrez la recherche, sélectionnez **Adam Carter**, puis sélectionnez **Sélectionner** pour fermer la recherche.</span><span class="sxs-lookup"><span data-stu-id="6c35a-222">On the **Contacts** page, in the **First name** field, open the lookup, select **Adam Carter**, and then select **Select** to close the lookup.</span></span>
5. <span data-ttu-id="6c35a-223">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-223">Select **Save**.</span></span>
6. <span data-ttu-id="6c35a-224">Fermez la page **Contacts**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-224">Close the **Contacts** page.</span></span>

### <a name="define-a-primary-contact"></a><span data-ttu-id="6c35a-225">Définir un contact principal</span><span class="sxs-lookup"><span data-stu-id="6c35a-225">Define a primary contact</span></span>

1. <span data-ttu-id="6c35a-226">Allez dans **Comptabilité client** \> **Clients** \> **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-226">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="6c35a-227">Sur le FastTab **Démographie de vente**, dans le champ **Premier contact**, sélectionnez **Adam Carter**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-227">On the **Sales demographics** FastTab, in the **Primary contact** field, select **Adam Carter**.</span></span>

### <a name="set-the-e-invoicing-option"></a><span data-ttu-id="6c35a-228">Définir l’option de facturation électronique</span><span class="sxs-lookup"><span data-stu-id="6c35a-228">Set the e-invoicing option</span></span>

1. <span data-ttu-id="6c35a-229">Allez dans **Comptabilité client** \> **Clients** \> **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-229">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="6c35a-230">Sur le FastTab **Facture et livraison**, définissez l’option **Facture électronique** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-230">On the **Invoice and delivery** FastTab, set the **eInvoice** option to **Yes**.</span></span>
3. <span data-ttu-id="6c35a-231">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-231">Select **Save**.</span></span>
4. <span data-ttu-id="6c35a-232">Fermez la page **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-232">Close the **All customers** page.</span></span>

## <a name="process-a-customer-invoice-by-using-the-standard-er-configurations"></a><a name="ProcessInvoice1"></a><span data-ttu-id="6c35a-233">Traiter une facture client à l’aide des configurations de gestion des états électroniques standard</span><span class="sxs-lookup"><span data-stu-id="6c35a-233">Process a customer invoice by using the standard ER configurations</span></span>

<span data-ttu-id="6c35a-234">Vous pouvez désormais utiliser les configurations ER standard que vous avez importées pour envoyer électroniquement une facture financière à un client.</span><span class="sxs-lookup"><span data-stu-id="6c35a-234">You can now use the standard ER configurations that you imported to electronically send a free text invoice to a customer.</span></span>

### <a name="add-a-new-invoice"></a><span data-ttu-id="6c35a-235">Ajouter une nouvelle facture</span><span class="sxs-lookup"><span data-stu-id="6c35a-235">Add a new invoice</span></span>

1. <span data-ttu-id="6c35a-236">Allez dans **Comptabilité client** \> **Factures** \> **Toutes factures financières**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-236">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="6c35a-237">Sur la page **Facture financière**, sélectionnez **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-237">On the **Free text invoice** page, select **New**.</span></span>
3. <span data-ttu-id="6c35a-238">Sur le FastTab **En-tête de facture financière**, dans le champ **Compte client**, sélectionnez **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-238">On the **Free text invoice header** FastTab, in the **Customer account** field, select **DE-014**.</span></span>
4. <span data-ttu-id="6c35a-239">Sur le FastTab **Lignes de facture**, une ligne de facture est automatiquement ajoutée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-239">On the **Invoice lines** FastTab, an invoice line is automatically added.</span></span> <span data-ttu-id="6c35a-240">Sur cette ligne, définissez les champs suivants :</span><span class="sxs-lookup"><span data-stu-id="6c35a-240">On this line, set the following fields:</span></span>

    - <span data-ttu-id="6c35a-241">Dans le champ **Description**, entrez **Notebook**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-241">In the **Description** field, enter **Notebook**.</span></span>
    - <span data-ttu-id="6c35a-242">Dans le champ **Compte principal**, sélectionnez **401100**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-242">In the **Main account** field, select **401100**.</span></span>
    - <span data-ttu-id="6c35a-243">Dans le champ **Prix unitaire**, entrez **1000**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-243">In the **Unit price** field, enter **1000**.</span></span>

5. <span data-ttu-id="6c35a-244">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-244">Select **Save**.</span></span>

![Page Facture financière](./media/er-quick-start3-add-invoice.png)

<span data-ttu-id="6c35a-246">Pour plus d’informations, voir [Créer une facture financière](../../../finance/accounts-receivable/create-free-text-invoice-new.md).</span><span class="sxs-lookup"><span data-stu-id="6c35a-246">For more information, see [Create a free text invoice](../../../finance/accounts-receivable/create-free-text-invoice-new.md).</span></span>

### <a name="post-a-new-invoice"></a><span data-ttu-id="6c35a-247">Valider une nouvelle facture</span><span class="sxs-lookup"><span data-stu-id="6c35a-247">Post a new invoice</span></span>

1. <span data-ttu-id="6c35a-248">Allez dans **Comptabilité client** \> **Factures** \> **Toutes factures financières**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-248">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="6c35a-249">Sur la page **Facture financière**, dans le volet Actions, sélectionnez **Valider**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-249">On the **Free text invoice** page, on the Action Pane, select **Post**.</span></span>
3. <span data-ttu-id="6c35a-250">Dans la boîte de dialogue **Valider une facture financière**, sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-250">In the **Post free text invoice** dialog box, select **OK**.</span></span>

![Page Détails de la facture financière](./media/er-quick-start3-post-invoice.png)

### <a name="send-a-posted-invoice"></a><span data-ttu-id="6c35a-252">Envoyer une facture validée</span><span class="sxs-lookup"><span data-stu-id="6c35a-252">Send a posted invoice</span></span>

1. <span data-ttu-id="6c35a-253">Allez dans **Comptabilité client** \> **Factures** \> **Toutes factures financières**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-253">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="6c35a-254">Sur la page **Facture financière**, sur le volet Actions, dans le groupe **Document**, sélectionnez **Envoyer** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-254">On the **Free text invoice** page, on the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>

    ![Aperçu de la facture originale](./media/er-quick-start3-send-invoice.png)

3. <span data-ttu-id="6c35a-256">Fermez la page **Facture financière**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-256">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="6c35a-257">Analyser une facture électronique générée</span><span class="sxs-lookup"><span data-stu-id="6c35a-257">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="6c35a-258">Accédez à **Administration d’organisation** \> **États électroniques** \> **Tâches de gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-258">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="6c35a-259">Sur la page **Tâches de gestion des états électroniques**, sélectionnez l’enregistrement initial contenant la description de la tâche **Envoyer le fichier XML de facture électronique**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-259">On the **Electronic reporting jobs** page, select the initial record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="6c35a-260">Sélectionnez **Afficher les fichiers** pour accéder à la liste des fichiers générés.</span><span class="sxs-lookup"><span data-stu-id="6c35a-260">Select **Show files** to access the list of generated files.</span></span>

    ![Page Tâches de gestion des états électroniques](./media/er-quick-start3-jobs-list.png)

4. <span data-ttu-id="6c35a-262">Sélectionnez **Ouvrir** pour télécharger le fichier XML de facture électronique généré.</span><span class="sxs-lookup"><span data-stu-id="6c35a-262">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="6c35a-263">Analysez le fichier XML de facture électronique.</span><span class="sxs-lookup"><span data-stu-id="6c35a-263">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="6c35a-264">Notez que le schéma de taxe client est actuellement représenté par les attributs XML **schemaID** et **schemaAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-264">Notice that the customer tax schema is currently represented by the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="6c35a-265">Notez également que l’élément XML **cbc:CustomizationID** contient actuellement le texte suivant : `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0`.</span><span class="sxs-lookup"><span data-stu-id="6c35a-265">Also notice that the **cbc:CustomizationID** XML element currently contains the following text: `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0`.</span></span>

    ![Aperçu du fichier XML de facture électronique généré](./media/er-quick-start3-e-invoice1.png)

## <a name="add-a-custom-database-field"></a><a name="AddCustomField"></a><span data-ttu-id="6c35a-267">Ajouter un champ de base de données personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-267">Add a custom database field</span></span>

<span data-ttu-id="6c35a-268">Vous pouvez utiliser la fonctionnalité [Champ personnalisé](../../fin-ops/get-started/user-defined-fields.md) pour effectuer la personnalisation suivante dans l’instance Finance actuelle :</span><span class="sxs-lookup"><span data-stu-id="6c35a-268">You can use the [Custom field](../../fin-ops/get-started/user-defined-fields.md) feature to do the following customization in the current Finance instance:</span></span>

- <span data-ttu-id="6c35a-269">Personnalisez la structure de la base de données en ajoutant un nouveau champ de base de données personnalisé qui stocke un code d’identification fiscale fédérale pour chaque client.</span><span class="sxs-lookup"><span data-stu-id="6c35a-269">Customize the database structure by adding a new custom database field that stores a federal tax identification code for every customer.</span></span>
- <span data-ttu-id="6c35a-270">Personnalisez la page **Client** en ajoutant un nouveau champ de saisie de données qui peut être utilisé pour entrer une valeur de code de taxe dans le nouveau champ de base de données personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-270">Customize the **Customer** page by adding a new data entry field that can be used to enter a tax code value in the new custom database field.</span></span>

<span data-ttu-id="6c35a-271">Suivez ces étapes pour effectuer la personnalisation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-271">Follow these steps to do the customization.</span></span>

1. <span data-ttu-id="6c35a-272">Allez dans **Comptabilité client** \> **Clients** \> **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-272">Go to **Accounts receivables** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="6c35a-273">Sur la page **Tous les clients**, sélectionnez le lien de compte client **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-273">On the **All customers** page, select the **DE-014** customer account link.</span></span>
3. <span data-ttu-id="6c35a-274">Sur le FastTab **Général**, cliquez avec le bouton droit de la souris dans une zone vide sous le champ **Langue**, puis sélectionnez **Personnaliser : UpperGroup**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-274">On the **General** FastTab, right-click in any blank area under the **Language** field, and then select **Personalize: UpperGroup**.</span></span>

    <span data-ttu-id="6c35a-275">Le contenu du FastTab **Général** est mis en surbrillance et un menu **Personnaliser** apparaît.</span><span class="sxs-lookup"><span data-stu-id="6c35a-275">The contents of the **General** FastTab are highlighted, and a **Personalize** menu appears.</span></span>

4. <span data-ttu-id="6c35a-276">Sur le menu **Personnaliser**, sélectionnez **Ajouter un champ**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-276">On the **Personalize** menu, select **Add a field**.</span></span>
5. <span data-ttu-id="6c35a-277">Dans la boîte de dialogue **Ajouter des colonnes**, sélectionnez **Créer un champ**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-277">In the **Add columns** dialog box, select **Create new field**.</span></span>
6. <span data-ttu-id="6c35a-278">Dans la boîte de dialogue **Créer un champ**, dans le champ **Nom de la table**, sélectionnez **Clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-278">In the **Create new field** dialog box, in the **Table name** field, select **Customers**.</span></span>
7. <span data-ttu-id="6c35a-279">Dans le champ **Préfixe du nom**, entrez **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-279">In the **Name prefix** field, enter **FederalTaxID**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6c35a-280">Le nom complet du champ a été automatiquement défini comme **FederalTaxID\_Personnalisé**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-280">The whole field name has been automatically defined as **FederalTaxID\_Custom**.</span></span>

8. <span data-ttu-id="6c35a-281">Dans le champ **Libellé**, entrez **ID taxe fédérale**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-281">In the **Label** field, enter **Federal Tax ID**.</span></span>
9. <span data-ttu-id="6c35a-282">Dans le champ **Type**, sélectionnez **Texte**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-282">In the **Type** field, select **Text**.</span></span>
10. <span data-ttu-id="6c35a-283">Dans le champ **Longueur**, entrez **20**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-283">In the **Length** field, enter **20**.</span></span>
11. <span data-ttu-id="6c35a-284">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-284">Select **Save**.</span></span>
12. <span data-ttu-id="6c35a-285">Dans la boîte de message qui apparaît, sélectionnez **Oui** pour confirmer que vous souhaitez créer une entrée de champ **FederalTaxID** pour la table **Clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-285">In the message box that appears, select **Yes** to confirm that you want to create a new **FederalTaxID** field entry for the **Customers** table.</span></span>
13. <span data-ttu-id="6c35a-286">Sélectionnez **Insérer** pour <a name="insert_custom_field"></a>ajouter le champ **FederalTaxID\_Personnalisé** à la page actuelle.</span><span class="sxs-lookup"><span data-stu-id="6c35a-286">Select **Insert** to <a name="insert_custom_field"></a>add the **FederalTaxID\_Custom** field to the current page.</span></span>

    ![Page Tous les clients](./media/er-quick-start3-create-new-field.gif)

14. <span data-ttu-id="6c35a-288">Fermez la page **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-288">Close the **All customers** page.</span></span>

## <a name="refresh-the-er-metadata"></a><a name="RefreshERMetadata"></a><span data-ttu-id="6c35a-289">Actualiser les métadonnées ER</span><span class="sxs-lookup"><span data-stu-id="6c35a-289">Refresh the ER metadata</span></span>

<span data-ttu-id="6c35a-290">Vous devez actualiser les métadonnées ER pour rendre le champ personnalisé que vous avez ajouté [visible](electronic-reporting-er-configure-parameters.md#frequently-asked-questions) dans le concepteur de mappage de modèles ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-290">You must refresh the ER metadata to make the custom field that you added [visible](electronic-reporting-er-configure-parameters.md#frequently-asked-questions) in the ER model mapping designer.</span></span>

1. <span data-ttu-id="6c35a-291">Accédez à **Administration d’organisation** \> **États électroniques** \> **Reconstruire les références des tables**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-291">Go to **Organization administration** \> **Electronic reporting** \> **Rebuild table references**.</span></span>
2. <span data-ttu-id="6c35a-292">Dans la boîte de dialogue **Mettre à jour le modèle de données**, sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-292">In the **Update data model** dialog box, select **OK**.</span></span>

## <a name="design-the-custom-er-configurations"></a><a name="DesignCustomERConfigurations"></a><span data-ttu-id="6c35a-293">Concevoir les configurations ER personnalisées</span><span class="sxs-lookup"><span data-stu-id="6c35a-293">Design the custom ER configurations</span></span>

<span data-ttu-id="6c35a-294">Vous pouvez utiliser les configurations ER fournies par Microsoft pour concevoir vos configurations ER personnalisées afin qu’elles génèrent des factures électroniques contenant le nouveau code taxe.</span><span class="sxs-lookup"><span data-stu-id="6c35a-294">You can use the Microsoft-provided ER configurations to design your custom ER configurations so that they generate e-invoices that contain the new tax code.</span></span>

### <a name="customize-the-data-model-configuration"></a><span data-ttu-id="6c35a-295">Personnaliser la configuration du modèle de données</span><span class="sxs-lookup"><span data-stu-id="6c35a-295">Customize the data model configuration</span></span>

<span data-ttu-id="6c35a-296">En tant qu’utilisateur doté du rôle de Consultant fonctionnel de gestion des états électroniques, vous pouvez concevoir votre modèle de données ER personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-296">As a user in the Electronic Reporting Functional Consultant role, you can design your custom ER data model.</span></span>

#### <a name="add-a-custom-data-model-configuration"></a><span data-ttu-id="6c35a-297">Ajouter une configuration du modèle de données personnalisée</span><span class="sxs-lookup"><span data-stu-id="6c35a-297">Add a custom data model configuration</span></span>

1. <span data-ttu-id="6c35a-298">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-298">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-299">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, sélectionnez **Modèle de facture client**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-299">On the **Configurations** page, in the configuration tree in the left pane, select **Customer invoice model**.</span></span>
3. <span data-ttu-id="6c35a-300">Dans le volet Actions, sélectionnez **Créer une configuration**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-300">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="6c35a-301">Dans la boîte de dialogue déroulante, dans le champ **Nouveau**, sélectionnez **Provenant du nom : Modèle de facture client, Microsoft** pour indiquer que votre nouvelle configuration du modèle de données ER personnalisé doit être basée sur la configuration du modèle de données ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-301">In the drop-down dialog box, in the **New** field, select **Derive from Name: Customer invoice model, Microsoft** to indicate that your new custom ER data model configuration should be based on the ER data model configuration.</span></span>
5. <span data-ttu-id="6c35a-302">Dans le champ **Nom**, saisissez **Modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-302">In the **Name** field, enter **Invoice model (Litware)**.</span></span>
6. <span data-ttu-id="6c35a-303">Sélectionnez **Créer une configuration** pour ajouter une nouvelle configuration ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-303">Select **Create configuration** to add the new ER configuration.</span></span>

<span data-ttu-id="6c35a-304">Vous pouvez désormais utiliser le concepteur de modèle de données ER pour modifier la version 50.1 de la configuration ER **Modèle de facture (Litware)** au [statut](general-electronic-reporting.md#component-versioning) **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-304">You can now use the ER data model designer to edit version 50.1 of the **Invoice model (Litware)** ER configuration in **Draft** [status](general-electronic-reporting.md#component-versioning).</span></span>

![Version 50.1 de la configuration ER sur la page Configurations](./media/er-quick-start3-added-custom-model.png)

#### <a name="configure-a-custom-data-model"></a><span data-ttu-id="6c35a-306">Configurer un modèle de données personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-306">Configure a custom data model</span></span>

<span data-ttu-id="6c35a-307">Vous devez modifier votre modèle de données personnalisé en ajoutant un nouveau champ pour fournir la valeur d’un code d’identification fiscale fédérale.</span><span class="sxs-lookup"><span data-stu-id="6c35a-307">You must modify your custom data model by adding a new field to provide the value of a federal tax identification code.</span></span> <span data-ttu-id="6c35a-308">Ce code fait partie des données client pour chaque format ER qui utilisera ce modèle de données comme source de données.</span><span class="sxs-lookup"><span data-stu-id="6c35a-308">This code is part of the customer data for every ER format that will use this data model as a data source.</span></span>

1. <span data-ttu-id="6c35a-309">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, sélectionnez **Modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-309">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model (Litware)**.</span></span>
2. <span data-ttu-id="6c35a-310">Dans le FastTab **Versions**, sélectionnez la version **50.1** de la configuration du modèle de données ER sélectionnée au statut **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-310">On the **Versions** FastTab, select version **50.1** of the selected ER data model configuration in **Draft** status.</span></span>
3. <span data-ttu-id="6c35a-311">Dans le volet Actions, sélectionnez **Concepteur** pour la version de configuration sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-311">On the Action Pane, select **Designer** for the selected configuration version.</span></span>
4. <span data-ttu-id="6c35a-312">Sur la page **Concepteur de modèles de données**, dans l’arborescence du modèle de données, sélectionnez **Informations client (Client)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-312">On the **Data model designer** page, in the data model tree, select **Customer information (Customer)**.</span></span>
5. <span data-ttu-id="6c35a-313">Sélectionnez **Nouveau**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-313">Select **New**.</span></span>
6. <span data-ttu-id="6c35a-314">Dans la boîte de dialogue déroulante, dans le champ **Nouveau nœud en tant que**, acceptez la valeur par défaut, **Enfant d’un nœud actif**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-314">In the drop-down dialog box, in the **New node as a** field, accept the default value, **Child of an active node**.</span></span>
7. <span data-ttu-id="6c35a-315">Dans le champ **Nom**, entrez **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-315">In the **Name** field, enter **FederalTaxID\_Litware**.</span></span>
8. <span data-ttu-id="6c35a-316">Dans le champ **Type d’élément**, acceptez la valeur par défaut, **Chaîne**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-316">In the **Item type** field, accept the default value, **String**.</span></span>
9. <span data-ttu-id="6c35a-317">Sélectionnez **Ajouter**, puis sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-317">Select **Add**, and then select **Save**.</span></span>

    ![Page Concepteur de modèles de données](./media/er-quick-start3-add-data-model-field.png)

    > [!NOTE]
    > <span data-ttu-id="6c35a-319">Les champs **Étiquette** et **Description** décrivent le but du nouveau champ.</span><span class="sxs-lookup"><span data-stu-id="6c35a-319">The **Label** and **Description** fields describe the purpose of the new field.</span></span> <span data-ttu-id="6c35a-320">Vous pouvez remplir ces champs dans plusieurs langues.</span><span class="sxs-lookup"><span data-stu-id="6c35a-320">You can fill in these fields in multiple languages.</span></span> <span data-ttu-id="6c35a-321">Pour plus d’informations, voir [Concevoir des états multilingues dans la gestion des états électroniques](er-design-multilingual-reports.md).</span><span class="sxs-lookup"><span data-stu-id="6c35a-321">For more information, see [Design multilingual reports in Electronic reporting](er-design-multilingual-reports.md).</span></span>

10. <span data-ttu-id="6c35a-322">Fermez la page **Concepteur de modèle de données**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-322">Close the **Data model designer** page.</span></span>

#### <a name="complete-a-custom-data-model-configuration"></a><span data-ttu-id="6c35a-323">Achever une configuration du modèle de données personnalisée</span><span class="sxs-lookup"><span data-stu-id="6c35a-323">Complete a custom data model configuration</span></span>

<span data-ttu-id="6c35a-324">Vous devez [achever](general-electronic-reporting.md#component-versioning) votre travail avec la version 50.1 de votre configuration du modèle de données ER personnalisé pour la rendre disponible afin que d’autres configurations ER personnalisées puissent être ajoutées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-324">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 50.1 of your custom ER data model configuration to make it available so that other custom ER configurations can be added.</span></span>

1. <span data-ttu-id="6c35a-325">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-325">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-326">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture**, puis sélectionnez **Modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-326">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**, and select **Invoice model (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-327">Dans l’organisateur **Versions**, sélectionnez **Modifier le statut** \> **Terminé**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-327">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="6c35a-328">Le statut de la version 50.1 passe de **Brouillon** à **Terminé** et la version devient en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="6c35a-328">The status of version 50.1 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="6c35a-329">Une nouvelle version modifiable, 50.2, est ajoutée et son statut est **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-329">A new editable version, 50.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="6c35a-330">Vous pouvez utiliser cette version pour apporter d’autres modifications à votre configuration du modèle de données ER personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-330">You can use this version to make further changes in your custom ER data model configuration.</span></span>

![Version 50.1 terminée sur la page Configurations](./media/er-quick-start3-completed-custom-model1.png)

### <a name="customize-the-model-mapping-configuration"></a><span data-ttu-id="6c35a-332">Personnaliser la configuration de mise en correspondance de modèles</span><span class="sxs-lookup"><span data-stu-id="6c35a-332">Customize the model mapping configuration</span></span>

<span data-ttu-id="6c35a-333">En tant qu’utilisateur doté du rôle de Développeur d’états électroniques , vous pouvez concevoir votre mise en correspondance de modèle de gestion des états électroniques personnalisée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-333">As a user in the Electronic Reporting Developer role, you can design your custom ER model mapping.</span></span>

#### <a name="add-a-custom-model-mapping-configuration"></a><span data-ttu-id="6c35a-334">Ajouter une configuration de mise en correspondance de modèles de données personnalisée</span><span class="sxs-lookup"><span data-stu-id="6c35a-334">Add a custom model mapping configuration</span></span>

1. <span data-ttu-id="6c35a-335">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-335">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-336">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture client**, puis sélectionnez **Mappage de modèle de facture client**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-336">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model**, and select **Customer invoice model mapping**.</span></span>
3. <span data-ttu-id="6c35a-337">Dans le volet Actions, sélectionnez **Créer une configuration**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-337">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="6c35a-338">Dans la boîte de dialogue déroulante, dans le champ **Nouveau**, sélectionnez **Provenant du nom : Modèle de facture client, Microsoft** pour indiquer que votre nouvelle configuration de mappage de modèles ER personnalisée doit être basée sur la configuration de mappage de modèles ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-338">In the drop-down dialog box, in the **New** field, select **Derive from Name: Customer invoice model mapping, Microsoft** to indicate that your new custom ER model mapping configuration should be based on the ER model mapping configuration.</span></span>
5. <span data-ttu-id="6c35a-339">Dans le champ **Nom**, saisissez **Mappage de modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-339">In the **Name** field, enter **Invoice model mapping (Litware)**.</span></span>
6. <span data-ttu-id="6c35a-340">Dans le champ **Modèle cible**, sélectionnez **Modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-340">In the **Target model** field, select **Invoice model (Litware)**.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="6c35a-341">Cette étape est très importante.</span><span class="sxs-lookup"><span data-stu-id="6c35a-341">This step is very important.</span></span> <span data-ttu-id="6c35a-342">Si vous l’omettez, vous ne pourrez pas utiliser votre modèle de données personnalisé dans le mappage de modèle configuré.</span><span class="sxs-lookup"><span data-stu-id="6c35a-342">If you omit it, you won't be able to use your custom data model in the configured model mapping.</span></span>

7. <span data-ttu-id="6c35a-343">Sélectionnez **Créer une configuration** pour ajouter une nouvelle configuration ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-343">Select **Create configuration** to add the new ER configuration.</span></span>

![Ajout d’une configuration du mappage de modèle ER sur la page Configurations](./media/er-quick-start3-adding-custom-mapping.png)

#### <a name="configure-a-custom-model-mapping"></a><span data-ttu-id="6c35a-345">Configurer un mappage de modèle personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-345">Configure a custom model mapping</span></span>

<span data-ttu-id="6c35a-346">Vous devez modifier votre mappage de modèle personnalisé et spécifier comment le champ **FederalTaxID\_Litware** du modèle de données personnalisé doit être rempli avec les données d’application au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="6c35a-346">You must modify your custom model mapping and specify how the custom **FederalTaxID\_Litware** field of the custom data model should be filled in with application data at runtime.</span></span>

1. <span data-ttu-id="6c35a-347">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-347">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-348">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture client** \> **Mappage de modèle de facture client**, puis sélectionnez **Mappage de modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-348">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **Customer invoice model mapping**, and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-349">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-349">On the Action Pane, select **Designer**.</span></span>
4. <span data-ttu-id="6c35a-350">Sur la page **Mise en correspondance de modèles à la source de données**, sélectionnez le mappage **Facture client**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-350">On the **Model to datasource mapping** page, select the **Customer invoice** mapping.</span></span>

    ![Page Mise en correspondance de modèle avec une source de données](./media/er-quick-start3-select-customer-mapping.png)

5. <span data-ttu-id="6c35a-352">Sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-352">Select **Designer**.</span></span>
6. <span data-ttu-id="6c35a-353">Sur la page **Concepteur de mappage de modèle**, dans le volet **Sources de données**, développez la source de données **CustInvoiceJour** qui représente la table d’application **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-353">On the **Model mapping designer** page, in the **Data sources** pane, expand the **CustInvoiceJour** data source that represents the **CustInvoiceJour** application table.</span></span>
7. <span data-ttu-id="6c35a-354">Sous **CustInvoiceJour**, développez **Relations** pour revoir la liste des relations de type plusieurs-à-un (N : 1) pour la table **CustInvoiceJour**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-354">Under **CustInvoiceJour**, expand **Relations** to review the list of relations of the many-to-one (N:1) type for the **CustInvoiceJour** table.</span></span>
8. <span data-ttu-id="6c35a-355">Sous **CustInvoiceJour** \> **Relations**, développez **Clients (CustTable)** pour accéder aux champs et aux relations de la table **Clients (CustTable)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-355">Under **CustInvoiceJour** \> **Relations**, expand **Customers (CustTable)** to access the fields and relations of the **Customers (CustTable)** table.</span></span>
9. <span data-ttu-id="6c35a-356">Sélectionnez le champ de source de données **FederalTaxID\_Personnalisé** que vous avez implémenté [plus tôt](#insert_custom_field).</span><span class="sxs-lookup"><span data-stu-id="6c35a-356">Select the **FederalTaxID\_Custom** data source field that you implemented [earlier](#insert_custom_field).</span></span>
10. <span data-ttu-id="6c35a-357">Dans le volet **Modèle de données**, développez **Informations client (client)**, et sélectionnez le champ de modèle de données **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-357">In the **Data model** pane, expand **Customer information (Customer)**, and select the **FederalTaxID\_Litware** data model field.</span></span>
11. <span data-ttu-id="6c35a-358">Sélectionnez **Lier**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-358">Select **Bind**.</span></span>

    ![Page Concepteur de mise en correspondance de modèle](./media/er-quick-start3-customize-model-mapping.gif)

12. <span data-ttu-id="6c35a-360">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-360">Select **Save**.</span></span>
13. <span data-ttu-id="6c35a-361">Fermez la page **Concepteur de mise en correspondance des modèles**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-361">Close the **Model mapping designer** page.</span></span>
14. <span data-ttu-id="6c35a-362">Fermez la page **Mise en correspondance de modèle avec une source de données**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-362">Close the **Model to datasource mapping** page.</span></span>

#### <a name="complete-a-custom-model-mapping-configuration"></a><span data-ttu-id="6c35a-363">Achever une configuration de mappage de modèle personnalisée</span><span class="sxs-lookup"><span data-stu-id="6c35a-363">Complete a custom model mapping configuration</span></span>

<span data-ttu-id="6c35a-364">Vous devez [achever](general-electronic-reporting.md#component-versioning) votre travail avec la version 50.19.1 de votre configuration de mappage de modèle ER personnalisé pour la rendre disponible pour être utilisée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-364">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 50.19.1 of your custom ER model mapping configuration to make it available for use.</span></span>

1. <span data-ttu-id="6c35a-365">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-365">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-366">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture client** \> **Mappage de modèle de facture client**, puis sélectionnez **Mappage de modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-366">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **Customer invoice model mapping**, and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-367">Dans l’organisateur **Versions**, sélectionnez **Modifier le statut** \> **Terminé**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-367">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="6c35a-368">Le statut de la version 50.19.1 passe de **Brouillon** à **Terminé** et la version devient en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="6c35a-368">The status of version 50.19.1 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="6c35a-369">Une nouvelle version modifiable, 50.19.2, est ajoutée et son statut est **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-369">A new editable version, 50.19.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="6c35a-370">Vous pouvez utiliser cette version pour apporter d’autres modifications à votre configuration de mappage de modèle ER personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-370">You can use this version to make further changes in your custom ER model mapping configuration.</span></span>

![Version 50.19.1 terminée sur la page Configurations](./media/er-quick-start3-completed-custom-mapping1.png)

> [!NOTE]
> <span data-ttu-id="6c35a-372">Le [cycle de vie](general-electronic-reporting-manage-configuration-lifecycle.md) de la configuration pris en charge ne couvre pas le cycle de vie des modifications de base de données.</span><span class="sxs-lookup"><span data-stu-id="6c35a-372">The supported configuration [lifecycle](general-electronic-reporting-manage-configuration-lifecycle.md) doesn't cover the lifecycle of database changes.</span></span> <span data-ttu-id="6c35a-373">Si vous exportez la version 50.19.1 de la configuration **Mappage du modèle de facture (Litware)** de l’instance de Finance actuelle et essayez de l’importer dans une autre instance qui ne contient pas le champ **FederalTaxID\_Personnalisé** dans la table **CustTable**, une exception se produira.</span><span class="sxs-lookup"><span data-stu-id="6c35a-373">If you export version 50.19.1 of the **Invoice model mapping (Litware)** configuration from the current Finance instance and try to import it into another instance that doesn't contain the custom **FederalTaxID\_Custom** field in the **CustTable** table, an exception will occur.</span></span> <span data-ttu-id="6c35a-374">L’exception indiquera que la configuration ER importée n’est pas compatible avec les métadonnées de l’instance de Finance cible.</span><span class="sxs-lookup"><span data-stu-id="6c35a-374">The exception will state that the imported ER configuration isn't compatible with the metadata of the target Finance instance.</span></span>

### <a name="customize-the-format-configuration"></a><span data-ttu-id="6c35a-375">Personnaliser la configuration du format</span><span class="sxs-lookup"><span data-stu-id="6c35a-375">Customize the format configuration</span></span>

<span data-ttu-id="6c35a-376">En tant qu’utilisateur doté du rôle de Consultant fonctionnel de gestion des états électroniques, vous pouvez concevoir votre format ER personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-376">As a user in the Electronic Reporting Functional Consultant role, you can design your custom ER format.</span></span>

#### <a name="add-a-custom-format-configuration"></a><span data-ttu-id="6c35a-377">Ajouter une configuration du format personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-377">Add a custom format configuration</span></span>

1. <span data-ttu-id="6c35a-378">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-378">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-379">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture client** \> **Facture client UBL**, puis sélectionnez **Facture client Peppol**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-379">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice**, and select **Peppol Sales Invoice**.</span></span>
3. <span data-ttu-id="6c35a-380">Dans le volet Actions, sélectionnez **Créer une configuration**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-380">On the Action Pane, select **Create configuration**.</span></span>
4. <span data-ttu-id="6c35a-381">Dans la boîte de dialogue déroulante, dans le champ **Nouveau**, sélectionnez **Provenant du nom : Facture client Peppol, Microsoft** pour indiquer que votre nouvelle configuration du format ER personnalisé doit être basée sur la configuration du format ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-381">In the drop-down dialog box, in the **New** field, select **Derive from Name: Peppol Sales Invoice, Microsoft** to indicate that your custom ER format configuration should be based on the ER format configuration.</span></span>
5. <span data-ttu-id="6c35a-382">Dans le champ **Nom**, saisissez **Facture client Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-382">In the **Name** field, enter **Peppol Sales Invoice (Litware)**.</span></span>
6. <span data-ttu-id="6c35a-383">Dans le champ **Modèle de données**, sélectionnez **Modèle de facture (Litware)** pour utiliser vos composants de modèle de données et de mappage de modèle personnalisés.</span><span class="sxs-lookup"><span data-stu-id="6c35a-383">In the **Data model** field, select **Invoice model (Litware)** to use your custom data model and model mapping components.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6c35a-384">Cette étape est très importante.</span><span class="sxs-lookup"><span data-stu-id="6c35a-384">This step is very important.</span></span> <span data-ttu-id="6c35a-385">Si vous l’omettez, vous ne pourrez pas utiliser votre modèle de données personnalisé dans le format configuré.</span><span class="sxs-lookup"><span data-stu-id="6c35a-385">If you omit it, you won't be able to use your custom data model in the configured format.</span></span>

7. <span data-ttu-id="6c35a-386">Dans le champ **Modèle de données**, sélectionnez la définition racine **InvoiceCustomer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-386">In the **Data model** field, select the **InvoiceCustomer** root definition.</span></span>
8. <span data-ttu-id="6c35a-387">Sélectionnez **Créer une configuration** pour ajouter une nouvelle configuration ER.</span><span class="sxs-lookup"><span data-stu-id="6c35a-387">Select **Create configuration** to add the new ER configuration.</span></span>

![Ajout d’une configuration du format personnalisé sur la page Configurations](./media/er-quick-start3-adding-custom-format.png)

<span data-ttu-id="6c35a-389">Vous pouvez désormais utiliser le concepteur d’opérations ER pour modifier la version 11.2.2.1 de la configuration ER **Facture client Peppol (Litware)** au [statut](general-electronic-reporting.md#component-versioning) **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-389">You can now use the ER Operations designer to edit version 11.2.2.1 of the **Peppol Sales Invoice (Litware)** ER configuration in **Draft** [status](general-electronic-reporting.md#component-versioning).</span></span>

![Version 11.2.2.1 de la configuration ER sur la page Configurations](./media/er-quick-start3-added-custom-format.png)

#### <a name="configure-a-custom-format"></a><span data-ttu-id="6c35a-391">Configurer un format personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-391">Configure a custom format</span></span>

<span data-ttu-id="6c35a-392">Vous devez modifier votre format personnalisé en ajoutant un nouvel élément de format pour renseigner la valeur du code d’identification fiscale fédérale d’un client facturé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-392">You must modify your custom format by adding a new format element to fill in the value of an invoiced customer's federal tax identification code.</span></span>

1. <span data-ttu-id="6c35a-393">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-393">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-394">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture client** \> **Facture client UBL** \> **Facture client Peppol**, puis sélectionnez **Facture client Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-394">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice**, and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-395">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-395">On the Action Pane, select **Designer**.</span></span>
4. <span data-ttu-id="6c35a-396">Dans l’arborescence des formats, développez **XMLHeader** \> **Facture** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** et sélectionnez **cbc:ID**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-396">In the format tree, expand **XMLHeader** \> **Invoice** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme**, and select **cbc:ID**.</span></span>
5. <span data-ttu-id="6c35a-397">Sélectionnez **Ajouter**, puis sélectionnez **XML** \> **Attribut**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-397">Select **Add**, and then select **XML** \> **Attribute**.</span></span>
6. <span data-ttu-id="6c35a-398">Dans la boîte de dialogue **Propriété du composant**, dans le champ **Nom**, tapez **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-398">In the **Component property** dialog box, in the **Name** field, enter **FederalTaxID**.</span></span>
7. <span data-ttu-id="6c35a-399">Sélectionner **OK** pour ajouter un nouvel élément de format pour créer un nouvel attribut XML **FederalTaxID** dans un fichier XML généré.</span><span class="sxs-lookup"><span data-stu-id="6c35a-399">Select **OK** to add a new format element to create a new **FederalTaxID** XML attribute in a generated XML file.</span></span>
8. <span data-ttu-id="6c35a-400">Dans l’arborescence des formats, sous **XMLHeader** \> **Facture** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** \> **cbc:ID**, sélectionnez **FederalTaxID**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-400">In the format tree, under **XMLHeader** \> **Invoice** \> **cac:AccountingCustomerParty** \> **cac:Party** \> **cac:PartyTaxScheme** \> **cac:TaxScheme** \> **cbc:ID**, select **FederalTaxID**.</span></span>
9. <span data-ttu-id="6c35a-401">Sélectionnez **Déplacer vers le haut**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-401">Select **Move up**.</span></span>

![Nouvel élément de format sur la page Concepteur de format](./media/er-quick-start3-customized-format.png)

#### <a name="configure-a-custom-format-mapping"></a><span data-ttu-id="6c35a-403">Configurer un mappage de format personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-403">Configure a custom format mapping</span></span>

1. <span data-ttu-id="6c35a-404">Sur la page **Concepteur de format**, sous l’onglet **Mappage**, développez la source de données **Facture** du type **Modèle**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-404">On the **Format designer** page, on the **Mapping** tab, expand the **Invoice** data source of the **Model** type.</span></span>
2. <span data-ttu-id="6c35a-405">Sous **Facture**, développez **Informations client (Client)** et sélectionnez **FederalTaxID\_Litware**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-405">Under **Invoice**, expand **Customer information (Customer)**, and select **FederalTaxID\_Litware**.</span></span>
3. <span data-ttu-id="6c35a-406">Sélectionnez **Lier**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-406">Select **Bind**.</span></span>

    ![Page Concepteur de formats](./media/er-quick-start3-customized-format-mapping.png)

4. <span data-ttu-id="6c35a-408">Sélectionnez la source de données **Facture** du type **Modèle**, puis sélectionnez **Modifier**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-408">Select the **Invoice** data source of the **Model** type, and then select **Edit**.</span></span>
5. <span data-ttu-id="6c35a-409">Dans le champ **Version**, sélectionnez la version **1** de votre modèle de données personnalisé, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-409">In the **Version** field, select version **1** of your custom data model, and then select **OK**.</span></span>
6. <span data-ttu-id="6c35a-410">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-410">Select **Save**.</span></span>
7. <span data-ttu-id="6c35a-411">Fermez la page **Concepteur de format**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-411">Close the **Format designer** page.</span></span>

#### <a name="complete-a-custom-format-configuration"></a><span data-ttu-id="6c35a-412">Achever une configuration du format personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-412">Complete a custom format configuration</span></span>

<span data-ttu-id="6c35a-413">Vous devez [achever](general-electronic-reporting.md#component-versioning) votre travail avec la version 11.2.2.1 de votre configuration du format ER personnalisé pour la rendre disponible pour être utilisée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-413">You must [complete](general-electronic-reporting.md#component-versioning) your work with version 11.2.2.1 of your custom ER format configuration to make it available for use.</span></span>

1. <span data-ttu-id="6c35a-414">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-414">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-415">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture client** \> **Facture client UBL** \> **Facture client Peppol**, puis sélectionnez **Facture client Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-415">On the **Configurations** page, in the configuration tree in the left pane, expand **Customer invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice**, and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-416">Dans l’organisateur **Versions**, sélectionnez **Modifier le statut** \> **Terminé**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-416">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="6c35a-417">Le statut de la version 11.2.2.1 passe de **Brouillon** à **Terminé** et la version devient en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="6c35a-417">The status of version 11.2.2.1 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="6c35a-418">Une nouvelle version modifiable, 11.2.2.2, est ajoutée et son statut est **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-418">A new editable version, 11.2.2.2, is added and has a status of **Draft**.</span></span> <span data-ttu-id="6c35a-419">Vous pouvez utiliser cette version pour apporter d’autres modifications à votre configuration du format de gestion des états électroniques personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-419">You can use this version to make further changes in your custom ER format configuration.</span></span>

![Version 11.2.2.1 terminée sur la page Configurations](./media/er-quick-start3-completed-custom-format1.png)

## <a name="configure-the-accounts-receivable-parameters-to-start-to-use-custom-er-configurations"></a><a name="ConfigureAR2"></a><span data-ttu-id="6c35a-421">Configurer les paramètres de la comptabilité client pour commencer à utiliser les configurations de gestion des états électroniques personnalisées</span><span class="sxs-lookup"><span data-stu-id="6c35a-421">Configure the Accounts receivable parameters to start to use custom ER configurations</span></span>

1. <span data-ttu-id="6c35a-422">Accédez à **Comptabilité client** \> **Configuration** \> **Paramètres de la comptabilité client**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-422">Go to **Accounts receivable** \> **Setup** \> **Accounts receivable parameters**.</span></span>
2. <span data-ttu-id="6c35a-423">Sur l’onglet **Documents électroniques**, sur le FastTab **Gestion des états électroniques**, dans le champ **Facture client et financière**, sélectionnez **Facture client Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-423">On the **Electronic documents** tab, on the **Electronic reporting** FastTab, in the **Sales and Free text invoice** field, select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-424">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-424">Select **Save**.</span></span>

![Page Paramètres de la comptabilité client, Onglet Documents électroniques, FastTab Gestion des états électroniques](./media/er-quick-start3-configure-ar2.png)

## <a name="update-a-customer-record-by-adding-a-federal-tax-identification-code"></a><a name="ConfigureCustomer2"></a><span data-ttu-id="6c35a-426">Mettre à jour un enregistrement client en ajoutant un code d’identification fiscale fédérale</span><span class="sxs-lookup"><span data-stu-id="6c35a-426">Update a customer record by adding a federal tax identification code</span></span>

1. <span data-ttu-id="6c35a-427">Allez dans **Comptabilité client** \> **Clients** \> **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-427">Go to **Accounts receivable** \> **Customers** \> **All customers**.</span></span>
2. <span data-ttu-id="6c35a-428">Sur la page **Tous les clients**, sélectionnez le lien de compte client **DE-014**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-428">On the **All customers** page, select the **DE-014** customer account link.</span></span>
3. <span data-ttu-id="6c35a-429">Sur le FastTab **Général**, dans le champ **ID taxe fédérale** , entrez **LITWARE-6789**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-429">On the **General** FastTab, in the **Federal Tax ID** field, enter **LITWARE-6789**.</span></span>
4. <span data-ttu-id="6c35a-430">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-430">Select **Save**.</span></span>

    ![Page Détails du client DE-014](./media/er-quick-start3-added-tax-id-value.png)

5. <span data-ttu-id="6c35a-432">Fermez la page **Tous les clients**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-432">Close the **All customers** page.</span></span>

## <a name="process-a-customer-invoice-by-using-custom-er-configurations"></a><a name="ProcessInvoice2"></a><span data-ttu-id="6c35a-433">Traiter une facture client à l’aide des configurations de gestion des états électroniques personnalisées</span><span class="sxs-lookup"><span data-stu-id="6c35a-433">Process a customer invoice by using custom ER configurations</span></span>

### <a name="select-and-send-a-posted-invoice"></a><span data-ttu-id="6c35a-434">Sélectionner et envoyer une facture validée</span><span class="sxs-lookup"><span data-stu-id="6c35a-434">Select and send a posted invoice</span></span>

1. <span data-ttu-id="6c35a-435">Allez dans **Comptabilité client** \> **Factures** \> **Toutes factures financières**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-435">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="6c35a-436">Sur la page **Facture financière**, sélectionnez la facture que vous avez précédemment ajoutée et validée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-436">On the **Free text invoice** page, select the invoice that you previously added and posted.</span></span>
3. <span data-ttu-id="6c35a-437">Sur le volet Actions, dans le groupe **Document**, sélectionnez **Envoyer** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-437">On the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>
4. <span data-ttu-id="6c35a-438">Fermez la page **Facture financière**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-438">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="6c35a-439">Analyser une facture électronique générée</span><span class="sxs-lookup"><span data-stu-id="6c35a-439">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="6c35a-440">Accédez à **Administration d’organisation** \> **États électroniques** \> **Tâches de gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-440">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="6c35a-441">Sur la page **Tâches de gestion des états électroniques**, sélectionnez le dernier enregistrement contenant la description de la tâche **Envoyer le fichier XML de facture électronique**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-441">On the **Electronic reporting jobs** page, select the latest record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="6c35a-442">Sélectionnez **Afficher les fichiers** pour accéder à la liste des fichiers générés.</span><span class="sxs-lookup"><span data-stu-id="6c35a-442">Select **Show files** to access the list of generated files.</span></span>
4. <span data-ttu-id="6c35a-443">Sélectionnez **Ouvrir** pour télécharger le fichier XML de facture électronique généré.</span><span class="sxs-lookup"><span data-stu-id="6c35a-443">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="6c35a-444">Analysez le fichier XML de facture électronique.</span><span class="sxs-lookup"><span data-stu-id="6c35a-444">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="6c35a-445">Notez que, conformément à votre personnalisation, le schéma de taxe client inclut l’attribut XML **FederalTaxID** en plus des attributs XML **schemaID** et **schemaAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-445">Notice that, in accordance with your customization, the customer tax schema includes the custom **FederalTaxID** XML attribute in addition to the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="6c35a-446">La valeur de ce nouvel attribut XML est spécifiée par l’ID taxe fédérale **LITWARE-6789** saisi pour un client facturé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-446">The value of this new XML attribute is specified by the **LITWARE-6789** federal tax ID that was entered for an invoiced customer.</span></span>

    ![Aperçu du fichier XML de facture électronique généré avec vos personnalisations](./media/er-quick-start3-e-invoice2.png)

## <a name="import-the-latest-versions-of-standard-er-configurations"></a><a name="ImportERConfigurations2"></a><span data-ttu-id="6c35a-448">Importer les dernières versions des configurations de gestion des états électroniques standard</span><span class="sxs-lookup"><span data-stu-id="6c35a-448">Import the latest versions of standard ER configurations</span></span>

<span data-ttu-id="6c35a-449">Pour tenir l’ensemble des configurations ER standard dans votre instance de Finance [à jour](general-electronic-reporting-manage-configuration-lifecycle.md), vous devez en importer les nouvelles versions dès qu’elles sont disponibles dans le [référentiel](general-electronic-reporting.md#Repository) ER qui a été configuré pour cette instance.</span><span class="sxs-lookup"><span data-stu-id="6c35a-449">To keep the set of standard ER configurations in your Finance instance [up to date](general-electronic-reporting-manage-configuration-lifecycle.md), you must import new versions of them whenever they become available in the ER [repository](general-electronic-reporting.md#Repository) that was configured for that instance.</span></span>

1. <span data-ttu-id="6c35a-450">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-450">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-451">Sur la page **Configurations de localisation**, dans la section **Fournisseurs de configuration**, sélectionnez la vignette **Microsoft**, puis sélectionnez **Référentiels** pour afficher la liste des référentiels du fournisseur Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6c35a-451">On the **Localization configurations** page, in the **Configuration providers** section, select the **Microsoft** tile, and then select **Repositories** to view the list of repositories for the Microsoft provider.</span></span>
3. <span data-ttu-id="6c35a-452">Sur la page **Référentiels de configuration**, sélectionnez le référentiel de type **Global**, puis sélectionnez **Ouvrir**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-452">On the **Configuration repositories** page, select the repository of the **Global** type, and then select **Open**.</span></span> <span data-ttu-id="6c35a-453">Si vous êtes invité à autoriser la connexion à Regulatory Configuration Service, suivez les instructions d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-453">If you're prompted for authorization to connect to Regulatory Configuration Service, follow the authorization instructions.</span></span>
4. <span data-ttu-id="6c35a-454">Sur la page **Référentiel de configuration**, dans l’arborescence de configuration du volet gauche, sélectionnez la configuration de format **Facture client Peppol**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-454">On the **Configuration repository** page, in the configuration tree in the left pane, select the **Peppol Sales Invoice** format configuration.</span></span>
5. <span data-ttu-id="6c35a-455">Sur le FastTab **Versions**, sélectionnez la version **32.6.7** de la configuration de format ER sélectionnée qui a été lancée pour prendre en charge les factures électroniques des clients au format PEPPOL BIS 3.</span><span class="sxs-lookup"><span data-stu-id="6c35a-455">On the **Versions** FastTab, select version **32.6.7** of the selected ER format configuration that has been released to support customer electronic invoices in PEPPOL BIS 3 format.</span></span> <span data-ttu-id="6c35a-456">Pour plus d’informations, voir [KB4490320](https://support.microsoft.com/help/4490320/an-update-for-european-union-to-support-export-of-customers-electronic).</span><span class="sxs-lookup"><span data-stu-id="6c35a-456">For more information, see [KB4490320](https://support.microsoft.com/help/4490320/an-update-for-european-union-to-support-export-of-customers-electronic).</span></span>
6. <span data-ttu-id="6c35a-457">Sélectionnez **Importer** pour télécharger la version sélectionnée depuis le référentiel global vers l’instance actuelle de Finance.</span><span class="sxs-lookup"><span data-stu-id="6c35a-457">Select **Import** to download the selected version from the Global repository to the current Finance instance.</span></span>

![Version 32.6.7 sélectionnée sur la page Référentiel de configuration](./media/er-quick-start3-import-solution2.png)

<span data-ttu-id="6c35a-459">Pour plus d’informations sur la manière dont ce processus peut être automatisé, voir [Importer des versions mises à jour des configurations ER](er-download-updated-versions-global-repo.md).</span><span class="sxs-lookup"><span data-stu-id="6c35a-459">For information about how this process can be automated, see [Import updated versions of ER configurations](er-download-updated-versions-global-repo.md).</span></span>

### <a name="review-the-imported-er-configurations"></a><span data-ttu-id="6c35a-460">Passer en revue les configurations de gestion des états électroniques importées</span><span class="sxs-lookup"><span data-stu-id="6c35a-460">Review the imported ER configurations</span></span>

1. <span data-ttu-id="6c35a-461">Accédez à **Administration d’organisation** \> **Espaces de travail** \> **États électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-461">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="6c35a-462">Dans la page **Configurations de localisation**, dans la section **Configurations**, sélectionnez la vignette **Configurations des états**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-462">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="6c35a-463">Développez le FastTab **Composants de configuration**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-463">Expand the **Configuration components** FastTab.</span></span>
4. <span data-ttu-id="6c35a-464">Dans l’arborescence de configuration du volet gauche, développez **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-464">In the configuration tree in the left pane, expand **Invoice model**.</span></span> <span data-ttu-id="6c35a-465">Notez que le nom de **Modèle de facture client** a été changé en **Modèle de facture** dans l’une des configurations du modèle de données ER importées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-465">Notice that the name of **Customer invoice model** has been changed to **Invoice model** in one of the imported ER data model configurations.</span></span>
5. <span data-ttu-id="6c35a-466">Dans l’arborescence de configuration du volet gauche, développez **Mappage de modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-466">In the configuration tree in the left pane, expand **Invoice model mapping**.</span></span> <span data-ttu-id="6c35a-467">Notez que le nom de **Mappage de modèle de facture client** a été changé en **Mappage de modèle de facture** dans l’une des configurations de mappage de modèle ER importées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-467">Notice that the name of **Customer invoice model mapping** has been changed to **Invoice model mapping** in one of the imported ER model mapping configurations.</span></span>
6. <span data-ttu-id="6c35a-468">Développez **Facture client UBL** \> **Facture Peppol**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-468">Expand **UBL Sales invoice** \> **Peppol Sales Invoice**.</span></span>

<span data-ttu-id="6c35a-469">Notez qu’en plus du format de gestion des états électroniques **Facture client Peppol** sélectionné, les dernières versions des configurations de gestion des états électroniques requises ont été importées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-469">Notice that, in addition to the selected **Peppol Sales Invoice** ER format, the latest versions of other required ER configurations were imported.</span></span> <span data-ttu-id="6c35a-470">Parce que les nouvelles versions des configurations de gestion des états électroniques sont constamment publiées dans le référentiel global et LCS pour maintenir les solutions ER correspondantes conformes aux nouvelles exigences, les dernières versions de la configuration de modèle de données requise et ses configurations de mise en correspondance des modèles ont été importées.</span><span class="sxs-lookup"><span data-stu-id="6c35a-470">Because new versions of ER configurations are constantly published to the Global repository and LCS to keep the corresponding ER solutions compliant with new requirements, the latest versions of the required data model configuration and its model mapping configurations were imported.</span></span>

<span data-ttu-id="6c35a-471">Assurez-vous que les configurations de gestion des états électroniques suivantes sont finalement disponibles dans l’arborescence de configuration :</span><span class="sxs-lookup"><span data-stu-id="6c35a-471">Make sure that the following ER configurations are eventually available in the configuration tree:</span></span>

- <span data-ttu-id="6c35a-472">Configuration du modèle de données ER **Modèle de facture** :</span><span class="sxs-lookup"><span data-stu-id="6c35a-472">**Invoice model** ER data model configuration:</span></span>

    - <span data-ttu-id="6c35a-473">La version 206 (ou ultérieure) contient la version 24 (ou ultérieure) du composant ER de modèle de données qui représente la structure de données du domaine métier de facturation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-473">Version 206 (or later) contains version 24 (or later) of the data model ER component that represents the data structure of the invoicing business domain.</span></span> <span data-ttu-id="6c35a-474">Cette configuration ER a été importée en tant qu’ancêtre de la dernière version disponible de la configuration du mappage du modèle ER **Mappage du modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-474">This ER configuration has been imported as an ancestor of the latest available **Invoice model mapping** ER model mapping configuration.</span></span>

    ![Version 206 sur la page Configurations](./media/er-quick-start3-imported-solution2b1.png)

- <span data-ttu-id="6c35a-476">Configuration du mappage de modèle ER **Mappage de modèle de facture** :</span><span class="sxs-lookup"><span data-stu-id="6c35a-476">**Invoice model mapping** ER model mapping configuration:</span></span>

    - <span data-ttu-id="6c35a-477">La version 206.132 (ou ultérieure) a été importée en tant que dernière implémentation de la version 206 de la configuration du modèle de données ER **Modèle de facture**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-477">Version 206.132 (or later) has been imported as the latest implementation of version 206 of the **Invoice model** ER data model configuration.</span></span> <span data-ttu-id="6c35a-478">Elle contient plusieurs composants ER de mappage du modèle qui décrivent comment le modèle de données est rempli avec les données d’application au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="6c35a-478">It contains several model mapping ER components that describe how the data model is filled in with application data at runtime.</span></span>

    ![Version 206.132 sur la page Configurations](./media/er-quick-start3-imported-solution2b2.png)

- <span data-ttu-id="6c35a-480">Configuration du format ER **Facture client UBL** :</span><span class="sxs-lookup"><span data-stu-id="6c35a-480">**UBL Sales invoice** ER format configuration:</span></span>

    - <span data-ttu-id="6c35a-481">La version 32.6 contient les composants ER Format et Mise en correspondance des formats.</span><span class="sxs-lookup"><span data-stu-id="6c35a-481">Version 32.6 contains the format and format mapping ER components.</span></span> <span data-ttu-id="6c35a-482">Le composant Format spécifie la présentation de l’état.</span><span class="sxs-lookup"><span data-stu-id="6c35a-482">The format component specifies the report layout.</span></span> <span data-ttu-id="6c35a-483">Le composant Mise en correspondance des formats contient la source de données du modèle et spécifie comment cette source de données est utilisée pour remplir la présentation de l’état au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="6c35a-483">The format mapping component contains the model data source and specifies how this data source is used to fill in the report layout at runtime.</span></span> <span data-ttu-id="6c35a-484">Ce format ER a été configuré pour générer des factures électroniques au format UBL.</span><span class="sxs-lookup"><span data-stu-id="6c35a-484">This ER format was configured to generate e-invoices in UBL format.</span></span> <span data-ttu-id="6c35a-485">Il a été importé comme parent du format de gestion des états électroniques **Facture client Peppol** sélectionné pour l’importation.</span><span class="sxs-lookup"><span data-stu-id="6c35a-485">It has been imported as a parent of the **Peppol Sales Invoice** ER format that was selected for import.</span></span>

- <span data-ttu-id="6c35a-486">Configuration du format ER **Facture client Peppol** :</span><span class="sxs-lookup"><span data-stu-id="6c35a-486">**Peppol Sales Invoice** ER format configuration:</span></span>

    - <span data-ttu-id="6c35a-487">La version 32.6.7 contient les composants ER de format et de mappage de formats qui ont été configurés pour générer des factures électroniques au format PEPPOL.</span><span class="sxs-lookup"><span data-stu-id="6c35a-487">Version 32.6.7 contains the format and format mapping ER components that were configured to generate e-invoices in PEPPOL format.</span></span>

    ![Version 32.6.7 sur la page Configurations](./media/er-quick-start3-imported-solution2b3.png)

## <a name="adopt-the-changes-to-the-new-standard-er-configurations-in-your-custom-er-configurations"></a><a name="RebaseCustomERConfigurations"></a><span data-ttu-id="6c35a-489">Adopter les modifications apportées aux nouvelles configurations de gestion des états électroniques standard dans vos configurations de gestion des états électroniques personnalisées</span><span class="sxs-lookup"><span data-stu-id="6c35a-489">Adopt the changes to the new standard ER configurations in your custom ER configurations</span></span>

### <a name="adopt-your-custom-er-data-model"></a><span data-ttu-id="6c35a-490">Adopter votre modèle de données ER personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-490">Adopt your custom ER data model</span></span>

1. <span data-ttu-id="6c35a-491">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-491">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-492">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture**, puis sélectionnez **Modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-492">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**, and select **Invoice model (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-493">Dans le FastTab **Versions**, pour la version brouillon **50.2** de la configuration du format de données sélectionnée, sélectionnez **Redéfinir**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-493">On the **Versions** FastTab, for draft version **50.2** of the selected data model configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="6c35a-494">Dans le champ **Version cible**, confirmez la sélection de la version **206** de la configuration du modèle de données ER de base, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-494">In the **Target version** field, confirm the selection of version **206** of the base ER data model configuration, and then select **OK**.</span></span>

    <span data-ttu-id="6c35a-495">La version provisoire de votre configuration du modèle de données ER personnalisé est renumérotée de **50.2** en **206.2** pour indiquer qu’elle contient désormais votre personnalisation qui a été fusionnée avec les modifications de la dernière version (206) de la configuration du modèle de données ER de base.</span><span class="sxs-lookup"><span data-stu-id="6c35a-495">The draft version of your custom ER data model configuration is renumbered from **50.2** to **206.2** to indicate that it now contains your customization that was merged with the changes in the latest version (206) of the base ER data model configuration.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6c35a-496">L’action de redéfinition est réversible.</span><span class="sxs-lookup"><span data-stu-id="6c35a-496">The rebase action is reversible.</span></span> <span data-ttu-id="6c35a-497">Pour annuler cette redéfinition, sélectionnez la version **50.1** du modèle **Modèle de facture (Litware)** dans le FastTab **Versions**, puis sélectionnez **Obtenir cette version**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-497">To cancel this rebase, select version **50.1** of the **Invoice model (Litware)** model on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="6c35a-498">La version 206.2 sera renumérotée **50.2** et le contenu de la version provisoire 50.2 correspondra au contenu de la version 50.1.</span><span class="sxs-lookup"><span data-stu-id="6c35a-498">Version 206.2 will be renumbered back to **50.2**, and the content of draft version 50.2 will match the content of version 50.1.</span></span>

5. <span data-ttu-id="6c35a-499">Dans l’organisateur **Versions**, sélectionnez **Modifier le statut** \> **Terminé**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-499">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="6c35a-500">Le statut de la version 206.2 passe de **Brouillon** à **Terminé** et la version devient en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="6c35a-500">The status of version 206.2 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="6c35a-501">Une nouvelle version modifiable, 206.3, est ajoutée et son statut est **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-501">A new editable version, 206.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="6c35a-502">Vous pouvez utiliser cette version pour apporter d’autres modifications à votre configuration du modèle de données ER personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-502">You can use this version to make further changes in your custom ER data model configuration.</span></span>

![Version 206.2 terminée sur la page Configurations](./media/er-quick-start3-completed-custom-model2.png)

### <a name="adopt-your-custom-er-model-mapping"></a><span data-ttu-id="6c35a-504">Adopter votre mappage de modèle de données ER personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-504">Adopt your custom ER model mapping</span></span>

1. <span data-ttu-id="6c35a-505">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-505">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-506">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture** \> **Mappage de modèle de facture**, puis sélectionnez **Mappage de modèle de facture (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-506">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** \> **Invoice model mapping**, and select **Invoice model mapping (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-507">Dans le FastTab **Versions**, pour la version brouillon **50.19.2** de la configuration du mappage de modèle sélectionnée, sélectionnez **Redéfinir**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-507">On the **Versions** FastTab, for draft version **50.19.2** of the selected model mapping configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="6c35a-508">Dans le champ **Version cible**, confirmez la sélection de la version **206.132** de la configuration du mappage de modèle ER de base, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-508">In the **Target version** field, confirm the selection of version **206.132** of the base ER model mapping configuration, and then select **OK**.</span></span>

    <span data-ttu-id="6c35a-509">La version provisoire de votre configuration du mappage de modèle ER personnalisé est renumérotée de **50.19.2** en **206.132.2** pour indiquer qu’elle contient désormais votre personnalisation qui a été fusionnée avec les modifications de la dernière version (206.132) de la configuration du mappage de modèle ER de base.</span><span class="sxs-lookup"><span data-stu-id="6c35a-509">The draft version of your custom ER model mapping configuration is renumbered from **50.19.2** to **206.132.2** to indicate that it now contains your customization that was merged with the changes in the latest version (206.132) of the base ER model mapping configuration.</span></span>

    <span data-ttu-id="6c35a-510">Notez que certains conflits de redéfinition ont été découverts.</span><span class="sxs-lookup"><span data-stu-id="6c35a-510">Notice that some rebase conflicts were discovered.</span></span> <span data-ttu-id="6c35a-511">Vous devez maintenant résoudre manuellement ces conflits.</span><span class="sxs-lookup"><span data-stu-id="6c35a-511">You must now manually resolve those conflicts.</span></span>

    ![Message de conflit de redéfinition sur la page Configurations](./media/er-quick-start3-rebase-conflicts-model-mapping1.png)

5. <span data-ttu-id="6c35a-513">Dans le volet Actions, sélectionnez **Concepteur**, puis, dans la liste des mappages, sélectionnez **Facture client**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-513">On the Action Pane, select **Designer**, and then, in the list of mappings, select **Customer Invoice**.</span></span>
6. <span data-ttu-id="6c35a-514">Pour chaque conflit de redéfinition, sélectionnez **Conserver sa propre valeur**, car vous devez conserver le numéro de version de votre modèle de données personnalisé pour chaque composant qui a été mentionné.</span><span class="sxs-lookup"><span data-stu-id="6c35a-514">For each rebase conflict, select **Retain own value**, because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>

    ![Conflits de redéfinition sur la page Concepteur de mappage de modèles](./media/er-quick-start3-rebase-conflicts-model-mapping2.png)

7. <span data-ttu-id="6c35a-516">Sélectionnez **Enregistrer**, puis fermez la page du **Concepteur de mappage de modèles**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-516">Select **Save**, and then close the **Model mapping designer** page.</span></span>
8. <span data-ttu-id="6c35a-517">Dans la liste des mappages, sélectionnez **Facture de projet**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-517">In the list of mappings, select **Project Invoice**.</span></span>
9. <span data-ttu-id="6c35a-518">Pour chaque conflit de redéfinition, sélectionnez **Conserver sa propre valeur**, car vous devez conserver le numéro de version de votre modèle de données personnalisé pour chaque composant qui a été mentionné.</span><span class="sxs-lookup"><span data-stu-id="6c35a-518">For each rebase conflict, select **Retain own value**, because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>
10. <span data-ttu-id="6c35a-519">Sélectionnez **Enregistrer**, puis fermez la page **Mappages de modèles**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-519">Select **Save**, and then close the **Model mappings** page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6c35a-520">L’action de redéfinition est réversible.</span><span class="sxs-lookup"><span data-stu-id="6c35a-520">The rebase action is reversible.</span></span> <span data-ttu-id="6c35a-521">Pour annuler cette redéfinition, sélectionnez la version **50.19.1** du mappage de modèle **Mappage de modèle de facture (Litware)** dans le FastTab **Versions**, puis sélectionnez **Obtenir cette version**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-521">To cancel this rebase, select version **50.19.1** of the **Invoice model mapping (Litware)** model mapping on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="6c35a-522">La version 206.132.2 sera renumérotée **50.19.2** et le contenu de la version provisoire 50.19.2 correspondra au contenu de la version 50.19.1.</span><span class="sxs-lookup"><span data-stu-id="6c35a-522">Version 206.132.2 will be renumbered back to **50.19.2**, and the content of draft version 50.19.2 will match the content of version 50.19.1.</span></span>

11. <span data-ttu-id="6c35a-523">Dans l’organisateur **Versions**, sélectionnez **Modifier le statut** \> **Terminé**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-523">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="6c35a-524">Le statut de la version 206.132.2 passe de **Brouillon** à **Terminé** et la version devient en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="6c35a-524">The status of version 206.132.2 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="6c35a-525">Une nouvelle version modifiable, 206.132.3, est ajoutée et son statut est **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-525">A new editable version, 206.132.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="6c35a-526">Vous pouvez utiliser cette version pour apporter d’autres modifications à votre configuration de mappage de modèle ER personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-526">You can use this version to make further changes in your custom ER model mapping configuration.</span></span>

![Version 206.132.2 terminée sur la page Configurations](./media/er-quick-start3-completed-custom-mapping2.png)

### <a name="adopt-your-custom-er-format"></a><span data-ttu-id="6c35a-528">Adopter votre format ER personnalisé</span><span class="sxs-lookup"><span data-stu-id="6c35a-528">Adopt your custom ER format</span></span>

1. <span data-ttu-id="6c35a-529">Accédez à **Administration d’organisation** \> **États électroniques** \> **Configurations**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-529">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="6c35a-530">Sur la page **Configurations**, dans l’arborescence de configuration du volet gauche, développez **Modèle de facture** \> **Facture client UBL** \> **Facture client Peppol**, puis sélectionnez **Facture client Peppol (Litware)**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-530">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model** \> **UBL Sales invoice** \> **Peppol Sales Invoice**, and select **Peppol Sales Invoice (Litware)**.</span></span>
3. <span data-ttu-id="6c35a-531">Dans le FastTab **Versions**, pour la version brouillon **11.2.2.2** de la configuration du format sélectionnée, sélectionnez **Redéfinir**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-531">On the **Versions** FastTab, for draft version **11.2.2.2** of the selected format configuration, select **Rebase**.</span></span>
4. <span data-ttu-id="6c35a-532">Dans le champ de version **Cible**, confirmez la sélection de la version **32.6.7** de la configuration du format ER de base, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-532">In the **Target** version field, confirm the selection of version **32.6.7** of the base ER format configuration, and then select **OK**.</span></span>

    <span data-ttu-id="6c35a-533">La version provisoire de votre configuration du format ER personnalisé est renumérotée de **11.2.2.2** en **32.6.7.2** pour indiquer qu’elle contient désormais votre personnalisation qui a été fusionnée avec les modifications de la dernière version (32.6.7) de la configuration du format ER de base.</span><span class="sxs-lookup"><span data-stu-id="6c35a-533">The draft version of your custom ER format configuration is renumbered from **11.2.2.2** to **32.6.7.2** to indicate that it now contains your customization that was merged with the changes in the latest version (32.6.7) of the base ER format configuration.</span></span>

    <span data-ttu-id="6c35a-534">Notez que certains conflits de redéfinition ont été découverts.</span><span class="sxs-lookup"><span data-stu-id="6c35a-534">Notice that some rebase conflicts were discovered.</span></span> <span data-ttu-id="6c35a-535">Vous devez maintenant résoudre manuellement ces conflits.</span><span class="sxs-lookup"><span data-stu-id="6c35a-535">You must now manually resolve those conflicts.</span></span>

5. <span data-ttu-id="6c35a-536">Dans le volet Actions, sélectionnez **Concepteur**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-536">On the Action Pane, select **Designer**.</span></span>
6. <span data-ttu-id="6c35a-537">Pour chaque conflit de redéfinition, sélectionnez **Conserver sa propre valeur**, car vous devez conserver le numéro de version de votre modèle de données personnalisé pour chaque composant qui a été mentionné.</span><span class="sxs-lookup"><span data-stu-id="6c35a-537">For each rebase conflict, select **Retain own value**, because you must keep the version number of your custom data model for every component that has been mentioned.</span></span>
7. <span data-ttu-id="6c35a-538">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-538">Select **Save**.</span></span>
8. <span data-ttu-id="6c35a-539">Dans l’onglet **Mappage**, sélectionnez la source de données **Facture** du type **Modèle**, puis sélectionnez **Modifier**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-539">On the **Mapping** tab, select the **Invoice** data source of the **Model** type, and then select **Edit**.</span></span>
9. <span data-ttu-id="6c35a-540">Dans le champ **Version**, sélectionnez la version **2** de votre modèle de données personnalisé, puis sélectionnez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-540">In the **Version** field, select version **2** of your custom data model, and then select **OK**.</span></span>
10. <span data-ttu-id="6c35a-541">Sélectionnez **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-541">Select **Save**.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6c35a-542">L’action de redéfinition est réversible.</span><span class="sxs-lookup"><span data-stu-id="6c35a-542">The rebase action is reversible.</span></span> <span data-ttu-id="6c35a-543">Pour annuler cette redéfinition, sélectionnez la version **11.2.2.1** du format **Facture client Peppol** dans le FastTab **Versions**, puis sélectionnez **Obtenir cette version**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-543">To cancel this rebase, select version **11.2.2.1** of the **Peppol Sales Invoice (Litware)** format on the **Versions** FastTab, and then select **Get this version**.</span></span> <span data-ttu-id="6c35a-544">La version 32.6.7.2 sera renumérotée **11.2.2.2** et le contenu de la version provisoire 11.2.2.2 correspondra au contenu de la version 11.2.2.1.</span><span class="sxs-lookup"><span data-stu-id="6c35a-544">Version 32.6.7.2 will be renumbered back to **11.2.2.2**, and the content of draft version 11.2.2.2 will match the content of version 11.2.2.1.</span></span>

11. <span data-ttu-id="6c35a-545">Fermez la page **Concepteur de format**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-545">Close the **Format designer** page.</span></span>
12. <span data-ttu-id="6c35a-546">Dans l’organisateur **Versions**, sélectionnez **Modifier le statut** \> **Terminé**, puis cliquez sur **OK**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-546">On the **Versions** FastTab, select **Change status** \> **Complete**, and then select **OK**.</span></span>

<span data-ttu-id="6c35a-547">Le statut de la version 32.6.7.2 passe de **Brouillon** à **Terminé** et la version devient en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="6c35a-547">The status of version 32.6.7.2 is changed from **Draft** to **Completed**, and the version becomes read-only.</span></span> <span data-ttu-id="6c35a-548">Une nouvelle version modifiable, 32.6.7.3, est ajoutée et son statut est **Brouillon**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-548">A new editable version, 32.6.7.3, is added and has a status of **Draft**.</span></span> <span data-ttu-id="6c35a-549">Vous pouvez utiliser cette version pour apporter d’autres modifications à votre configuration du format de gestion des états électroniques personnalisé.</span><span class="sxs-lookup"><span data-stu-id="6c35a-549">You can use this version to make further changes in your custom ER format configuration.</span></span>

![Version 32.6.7.2 terminée sur la page Configurations](./media/er-quick-start3-completed-custom-format2.png)

## <a name="process-a-customer-invoice-by-using-new-versions-of-the-custom-er-configurations"></a><a name="ProcessInvoice3"></a><span data-ttu-id="6c35a-551">Traiter une facture client à l’aide de nouvelles versions des configurations ER personnalisées</span><span class="sxs-lookup"><span data-stu-id="6c35a-551">Process a customer invoice by using new versions of the custom ER configurations</span></span>

### <a name="select-and-send-a-posted-invoice"></a><span data-ttu-id="6c35a-552">Sélectionner et envoyer une facture validée</span><span class="sxs-lookup"><span data-stu-id="6c35a-552">Select and send a posted invoice</span></span>

1. <span data-ttu-id="6c35a-553">Allez dans **Comptabilité client** \> **Factures** \> **Toutes factures financières**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-553">Go to **Accounts receivable** \> **Invoices** \> **All free text invoices**.</span></span>
2. <span data-ttu-id="6c35a-554">Sur la page **Facture financière**, sélectionnez la facture que vous avez précédemment ajoutée et validée.</span><span class="sxs-lookup"><span data-stu-id="6c35a-554">On the **Free text invoice** page, select the invoice that you previously added and posted.</span></span>
3. <span data-ttu-id="6c35a-555">Sur le volet Actions, dans le groupe **Document**, sélectionnez **Envoyer** \> **Original**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-555">On the Action Pane, in the **Document** group, select **Send** \> **Original**.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="6c35a-556">Parce que vous avez maintenant deux versions de la configuration du format ER **Facture client Peppol (Litware)**, et qu’aucune des deux versions n’a de valeur de [date effective](general-electronic-reporting.md#component-date-effectivity), la dernière version est utilisée pour générer une facture électronique.</span><span class="sxs-lookup"><span data-stu-id="6c35a-556">Because you now have two versions of the **Peppol Sales Invoice (Litware)** ER format configuration, and neither version has an [effective date](general-electronic-reporting.md#component-date-effectivity) value, the latest version is used to generate an e-invoice.</span></span>

4. <span data-ttu-id="6c35a-557">Fermez la page **Facture financière**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-557">Close the **Free text invoice** page.</span></span>

### <a name="analyze-a-generated-e-invoice"></a><span data-ttu-id="6c35a-558">Analyser une facture électronique générée</span><span class="sxs-lookup"><span data-stu-id="6c35a-558">Analyze a generated e-invoice</span></span>

1. <span data-ttu-id="6c35a-559">Accédez à **Administration d’organisation** \> **États électroniques** \> **Tâches de gestion des états électroniques**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-559">Go to **Organization administration** \> **Electronic reporting** \> **Electronic reporting jobs**.</span></span>
2. <span data-ttu-id="6c35a-560">Sur la page **Tâches de gestion des états électroniques**, sélectionnez l’enregistrement le plus récent contenant la description de la tâche **Envoyer le fichier XML de facture électronique**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-560">On the **Electronic reporting jobs** page, select the most recent record that has the task description **Send the eInvoice XML**.</span></span>
3. <span data-ttu-id="6c35a-561">Sélectionnez **Afficher les fichiers** pour accéder à la liste des fichiers générés.</span><span class="sxs-lookup"><span data-stu-id="6c35a-561">Select **Show files** to access the list of generated files.</span></span>
4. <span data-ttu-id="6c35a-562">Sélectionnez **Ouvrir** pour télécharger le fichier XML de facture électronique généré.</span><span class="sxs-lookup"><span data-stu-id="6c35a-562">Select **Open** to download the e-invoice XML file that is generated.</span></span>
5. <span data-ttu-id="6c35a-563">Analysez le fichier XML de facture électronique.</span><span class="sxs-lookup"><span data-stu-id="6c35a-563">Analyze the e-invoice XML file.</span></span> <span data-ttu-id="6c35a-564">Notez que, conformément à votre personnalisation, le schéma de taxe client contient toujours l’attribut XML **FederalTaxID** en plus des attributs XML **schemaID** et **schemaAgencyID**.</span><span class="sxs-lookup"><span data-stu-id="6c35a-564">Notice that, in accordance with your customization, the customer tax schema still contains the custom **FederalTaxID** XML attribute in addition to the **schemeID** and **schemeAgencyID** XML attributes.</span></span> <span data-ttu-id="6c35a-565">De plus, parce que les changements dans la nouvelle version du format **Facture client UBL** de base ont été fusionnés avec votre personnalisation, le texte de l’élément XML **cbc:CustomizationID** a été modifié de `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0` en `urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0`.</span><span class="sxs-lookup"><span data-stu-id="6c35a-565">Additionally, because the changes in the new version of the base **UBL Sales invoice** format were merged with your customization, the text of the **cbc:CustomizationID** XML element has been changed from `urn:www.cenbii.eu:transaction:biicoretrdm010:ver1.0:# urn:www.peppol.eu:bis:peppol5a:ver1.0` to `urn:cen.eu:en16931:2017#compliant#urn:fdc:peppol.eu:2017:poacc:billing:3.0`.</span></span>

    ![Aperçu du fichier XML de facture électronique généré avec des personnalisations](./media/er-quick-start3-e-invoice3.png)

## <a name="additional-resources"></a><span data-ttu-id="6c35a-567">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="6c35a-567">Additional resources</span></span>

- [<span data-ttu-id="6c35a-568">Vue d’ensemble des États électroniques</span><span class="sxs-lookup"><span data-stu-id="6c35a-568">Electronic Reporting overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="6c35a-569">Télécharger les configurations de gestion des états électroniques depuis Lifecycle Services</span><span class="sxs-lookup"><span data-stu-id="6c35a-569">Download ER configurations from Lifecycle Services</span></span>](download-electronic-reporting-configuration-lcs.md)
- [<span data-ttu-id="6c35a-570">Télécharger les configurations de gestion des états électroniques depuis le référentiel global du service de configuration</span><span class="sxs-lookup"><span data-stu-id="6c35a-570">Download ER configurations from Global repository of Configuration service</span></span>](er-download-configurations-global-repo.md)
- [<span data-ttu-id="6c35a-571">Créer une facture financière</span><span class="sxs-lookup"><span data-stu-id="6c35a-571">Create a free text invoice</span></span>](https://docs.microsoft.com/dynamics365/finance/accounts-receivable/create-free-text-invoice-new)
- [<span data-ttu-id="6c35a-572">Créer et utiliser des champs personnalisés</span><span class="sxs-lookup"><span data-stu-id="6c35a-572">Create and work with custom fields</span></span>](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/user-defined-fields)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]