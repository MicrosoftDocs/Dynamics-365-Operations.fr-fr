---
title: Clés de configuration et entités de données
description: Cette rubrique décrit la relation entre les clés de configuration et les entités de données.
author: Sunil-Garg
manager: AnnBe
ms.date: 05/10/2019
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.custom: 25341
ms.assetid: 8e214c95-616b-4ee1-b5a4-fa5ce5147f2c
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2018-01-01
ms.dyn365.ops.version: Platform update 13
ms.openlocfilehash: 383b8664b7e8cc063b980c52997ddf273d363033
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/09/2021
ms.locfileid: "5569171"
---
# <a name="configuration-keys-and-data-entities"></a><span data-ttu-id="04fed-103">Clés de configuration et entités de données</span><span class="sxs-lookup"><span data-stu-id="04fed-103">Configuration keys and data entities</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="04fed-104">Avant d’utiliser les entités de données pour importer ou exporter des données, nous vous recommandons de déterminer au préalable l’impact des clés de configuration sur les entités de données que vous comptez utiliser.</span><span class="sxs-lookup"><span data-stu-id="04fed-104">Before you use data entities to import or export data, we recommended that you first determine the impact of configuration keys on the data entities that you are planning to use.</span></span>

<span data-ttu-id="04fed-105">Pour en savoir plus sur les clés de configuration, voir [État des codes licence et des clés de configuration](../sysadmin/license-codes-configuration-keys-report.md).</span><span class="sxs-lookup"><span data-stu-id="04fed-105">To learn more about configuration keys, see the [License codes and configuration keys report](../sysadmin/license-codes-configuration-keys-report.md).</span></span>

### <a name="configuration-key-assignments"></a><span data-ttu-id="04fed-106">Affectations des clés de configuration</span><span class="sxs-lookup"><span data-stu-id="04fed-106">Configuration key assignments</span></span>
<span data-ttu-id="04fed-107">Des clés de configuration peuvent être affectées à un ou tous les artefacts suivants.</span><span class="sxs-lookup"><span data-stu-id="04fed-107">Configuration keys can be assigned to one or all of the following artifacts.</span></span>

- <span data-ttu-id="04fed-108">Entités de données</span><span class="sxs-lookup"><span data-stu-id="04fed-108">Data entities</span></span>
- <span data-ttu-id="04fed-109">Tables utilisées comme sources de données</span><span class="sxs-lookup"><span data-stu-id="04fed-109">Tables used as data sources</span></span>
- <span data-ttu-id="04fed-110">Champs de table</span><span class="sxs-lookup"><span data-stu-id="04fed-110">Table fields</span></span>
- <span data-ttu-id="04fed-111">Champs d’entité de données</span><span class="sxs-lookup"><span data-stu-id="04fed-111">Data entity fields</span></span>

<span data-ttu-id="04fed-112">Le tableau suivant résume la façon dont les valeurs de la clé de configuration sur les différents artefacts qui sous-tendent un objet modifient le comportement attendu de l’objet.</span><span class="sxs-lookup"><span data-stu-id="04fed-112">The following table summarizes how configuration key values on the different artifacts that underlie an object change the expected behavior of the object.</span></span>

| <span data-ttu-id="04fed-113">Paramétrage de la clé de configuration dans l’entité de données</span><span class="sxs-lookup"><span data-stu-id="04fed-113">Configuration key setting on data entity</span></span> | <span data-ttu-id="04fed-114">Paramétrage de la clé de configuration dans la table</span><span class="sxs-lookup"><span data-stu-id="04fed-114">Configuration key setting on table</span></span> | <span data-ttu-id="04fed-115">Paramétrage de la clé de configuration dans le champ de table</span><span class="sxs-lookup"><span data-stu-id="04fed-115">Configuration key setting on table field</span></span> | <span data-ttu-id="04fed-116">Paramétrage de la clé de configuration dans le champ d’entité de données</span><span class="sxs-lookup"><span data-stu-id="04fed-116">Configuration key on data entity field</span></span> | <span data-ttu-id="04fed-117">Comportement attendu</span><span class="sxs-lookup"><span data-stu-id="04fed-117">Expected behavior</span></span> |
|-----------------------------------------|------------------------------------|------------------------------------------|----------------------------------------|------------------|
| <span data-ttu-id="04fed-118">Désactivé</span><span class="sxs-lookup"><span data-stu-id="04fed-118">Disabled</span></span>                                | <span data-ttu-id="04fed-119">Non évalué</span><span class="sxs-lookup"><span data-stu-id="04fed-119">Not evaluated</span></span>                      | <span data-ttu-id="04fed-120">Non évalué</span><span class="sxs-lookup"><span data-stu-id="04fed-120">Not evaluated</span></span>                            | <span data-ttu-id="04fed-121">Non évalué</span><span class="sxs-lookup"><span data-stu-id="04fed-121">Not evaluated</span></span>                          | <span data-ttu-id="04fed-122">Si la clé de configuration de l’entité de données est désactivée, l’entité de données n’est pas fonctionnelle.</span><span class="sxs-lookup"><span data-stu-id="04fed-122">If the configuration key for the data entity is disabled, the data entity will not be functional.</span></span> <span data-ttu-id="04fed-123">Il importe peu que les clés de configuration des tables et champs sous-jacents soient activées ou désactivées.</span><span class="sxs-lookup"><span data-stu-id="04fed-123">It does not matter whether the configuration keys in the underlying tables and fields are enabled or disabled.</span></span> |
| <span data-ttu-id="04fed-124">Activé</span><span class="sxs-lookup"><span data-stu-id="04fed-124">Enabled</span></span>                                 | <span data-ttu-id="04fed-125">Désactivé</span><span class="sxs-lookup"><span data-stu-id="04fed-125">Disabled</span></span>                           | <span data-ttu-id="04fed-126">Non évalué</span><span class="sxs-lookup"><span data-stu-id="04fed-126">Not evaluated</span></span>                            | <span data-ttu-id="04fed-127">Non évalué</span><span class="sxs-lookup"><span data-stu-id="04fed-127">Not evaluated</span></span>                          | <span data-ttu-id="04fed-128">Si la clé de configuration d’une entité de données est activée, l’infrastructure de gestion des données vérifie la clé de configuration dans chaque table sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="04fed-128">If the configuration key for a data entity is enabled, the data management framework checks the configuration key on each of the underlying tables.</span></span> <span data-ttu-id="04fed-129">Si la clé de configuration d’une table est désactivée, cette table n’est pas disponible dans l’entité de données pour une utilisation fonctionnelle.</span><span class="sxs-lookup"><span data-stu-id="04fed-129">If the configuration key for a table is disabled, that table will not be available in the data entity for functional use.</span></span> <span data-ttu-id="04fed-130">Si la clé de configuration d’une table est désactivée, les paramètres de la clé de configuration de la table et de l’entité de données ne sont pas évalués.</span><span class="sxs-lookup"><span data-stu-id="04fed-130">If a table's configuration key is disabled, the table and data entity configuration key settings are not evaluated.</span></span> <span data-ttu-id="04fed-131">Si la clé de configuration de la table principale de l’entité est désactivée, le système agit comme si la clé de configuration de l’entité était désactivée.</span><span class="sxs-lookup"><span data-stu-id="04fed-131">If the primary table in the entity has its configuration key disabled, then the system will act as though the entity's configuration key were disabled.</span></span> |
| <span data-ttu-id="04fed-132">Activé</span><span class="sxs-lookup"><span data-stu-id="04fed-132">Enabled</span></span>                                 | <span data-ttu-id="04fed-133">Activé</span><span class="sxs-lookup"><span data-stu-id="04fed-133">Enabled</span></span>                            | <span data-ttu-id="04fed-134">Désactivé</span><span class="sxs-lookup"><span data-stu-id="04fed-134">Disabled</span></span>                                 | <span data-ttu-id="04fed-135">Non évalué</span><span class="sxs-lookup"><span data-stu-id="04fed-135">Not evaluated</span></span>                          | <span data-ttu-id="04fed-136">Si la clé de configuration d’une entité de données est activée et les clés de configuration des tables sous-jacentes sont activées, l’infrastructure de gestion des données vérifie la clé de configuration des champs des tables.</span><span class="sxs-lookup"><span data-stu-id="04fed-136">If the configuration key for a data entity is enabled, and the underlying tables configuration keys are enabled, the data management framework will check the configuration key on of the fields in the tables.</span></span> <span data-ttu-id="04fed-137">Si la clé de configuration d’un champ est désactivée, ce champ n’est pas disponible dans l’entité de données pour une utilisation fonctionnelle même si la clé de configuration du champ d’entité de données correspondant est activée.</span><span class="sxs-lookup"><span data-stu-id="04fed-137">If the configuration key for a field is disabled, that field will not be available in the data entity for functional use even if the corresponding data entity field has the configuration key enabled.</span></span> |
| <span data-ttu-id="04fed-138">Activé</span><span class="sxs-lookup"><span data-stu-id="04fed-138">Enabled</span></span>                                 | <span data-ttu-id="04fed-139">Activé</span><span class="sxs-lookup"><span data-stu-id="04fed-139">Enabled</span></span>                            | <span data-ttu-id="04fed-140">Activé</span><span class="sxs-lookup"><span data-stu-id="04fed-140">Enabled</span></span>                                  | <span data-ttu-id="04fed-141">Désactivé</span><span class="sxs-lookup"><span data-stu-id="04fed-141">Disabled</span></span>                               | <span data-ttu-id="04fed-142">Si la clé de configuration est activée à tous les autres niveaux, mais la clé de configuration du champ d’entité n’est pas activée, le champ n’est pas disponible dans l’entité de données.</span><span class="sxs-lookup"><span data-stu-id="04fed-142">If the configuration key is enabled at all other levels, but the entity field configuration key is not enabled, then the field will not be available for use in the data entity.</span></span> |

> [!NOTE]
> <span data-ttu-id="04fed-143">Si une entité a une autre entité comme source de données, la sémantique ci-dessus est appliquée de manière récursive.</span><span class="sxs-lookup"><span data-stu-id="04fed-143">If an entity has another entity as a data source then, the above semantics are applied in a recursive manner.</span></span>

### <a name="entity-list-refresh"></a><span data-ttu-id="04fed-144">Actualisation de la liste des entités</span><span class="sxs-lookup"><span data-stu-id="04fed-144">Entity list refresh</span></span>
<span data-ttu-id="04fed-145">Lorsque la liste des entités est actualisée, l’infrastructure de gestion des données crée les métadonnées de la clé de configuration qui seront utilisées au moment de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="04fed-145">When the entity list is refreshed, the data management framework builds the configuration key metadata for runtime use.</span></span> <span data-ttu-id="04fed-146">Ces métadonnées sont créées à l’aide de la logique décrite ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="04fed-146">This metadata is built using the logic described above.</span></span> <span data-ttu-id="04fed-147">Il est vivement recommandé d’attendre la fin de l’actualisation de la liste des entités avant d’utiliser les tâches et les entités de l’infrastructure de gestion des données.</span><span class="sxs-lookup"><span data-stu-id="04fed-147">We strongly recommend that you wait for the entity list refresh to complete before using jobs and entities in the data management framework.</span></span> <span data-ttu-id="04fed-148">Sinon, les métadonnées de la clé de configuration peuvent ne pas être mises à jour et des résultats inattendus peuvent être générés.</span><span class="sxs-lookup"><span data-stu-id="04fed-148">If you don't wait, the configuration key metadata may not be up to date and could result in unexpected outcomes.</span></span> <span data-ttu-id="04fed-149">Lorsque la liste des entités est en cours d’actualisation, le message suivant s’affiche sur la page Liste des entités.</span><span class="sxs-lookup"><span data-stu-id="04fed-149">When the entity list is being refreshed, the following message is shown in the entity list page.</span></span>

![Actualisation de la liste des entités](./media/Entity_refresh_list.png)

### <a name="data-entity-list-page"></a><span data-ttu-id="04fed-151">Page Liste des entités de données</span><span class="sxs-lookup"><span data-stu-id="04fed-151">Data entity list page</span></span>
<span data-ttu-id="04fed-152">La page Liste des entités de données de l’espace de travail Gestion des données affiche les paramètres de la clé de configuration pour les entités.</span><span class="sxs-lookup"><span data-stu-id="04fed-152">The data entity list page in the Data management workspace shows the configuration key settings for the entities.</span></span> <span data-ttu-id="04fed-153">Commencez à partir de cette page pour comprendre l’impact des clés de configuration sur l’entité de données.</span><span class="sxs-lookup"><span data-stu-id="04fed-153">Start from this page to understand the impact from configuration keys on the data entity.</span></span>

<span data-ttu-id="04fed-154">Ces informations s’affichent à l’aide des métadonnées créées pendant l’actualisation de l’entité.</span><span class="sxs-lookup"><span data-stu-id="04fed-154">This information is shown using the metadata that is built during entity refresh.</span></span> <span data-ttu-id="04fed-155">La colonne Clé de configuration affiche le nom de la clé de configuration associée à l’entité de données.</span><span class="sxs-lookup"><span data-stu-id="04fed-155">The configuration key column shows the name of the configuration key that is associated with the data entity.</span></span> <span data-ttu-id="04fed-156">Si cette colonne est vide, cela signifie qu’aucune clé de configuration n’est associée à l’entité de données.</span><span class="sxs-lookup"><span data-stu-id="04fed-156">If this column is blank it means that there is no configuration key associated with the data entity.</span></span> <span data-ttu-id="04fed-157">La colonne Statut de la clé de configuration affiche l’état de la clé de configuration.</span><span class="sxs-lookup"><span data-stu-id="04fed-157">The configuration key status column shows the state of the configuration key.</span></span> <span data-ttu-id="04fed-158">Si elle est cochée, cela signifie que la clé est activée.</span><span class="sxs-lookup"><span data-stu-id="04fed-158">If it has a checkmark, it means the key is enabled.</span></span> <span data-ttu-id="04fed-159">Si elle est vide, cela signifie que la clé est désactivée ou qu’aucune clé n’est associée.</span><span class="sxs-lookup"><span data-stu-id="04fed-159">If it is blank, it means either the key is disabled or there is no key associated.</span></span>

![Page Liste des entités](./media/Data_entity_list_page.png)

### <a name="target-fields"></a><span data-ttu-id="04fed-161">Champs cibles</span><span class="sxs-lookup"><span data-stu-id="04fed-161">Target fields</span></span>
<span data-ttu-id="04fed-162">L’étape suivante consiste à explorer l’entité de données pour déterminer l’impact des clés de configuration sur les tables et les champs.</span><span class="sxs-lookup"><span data-stu-id="04fed-162">The next step is to drill into the data entity to view the impact of configuration keys on tables and fields.</span></span> <span data-ttu-id="04fed-163">L’écran Champs cibles d’une entité de données affiche la clé de configuration et les informations sur le statut de la clé pour les tables et champs associés de l’entité de données.</span><span class="sxs-lookup"><span data-stu-id="04fed-163">The target fields form for a data entity shows configuration key and the key status information for the related tables and fields in the data entity.</span></span> <span data-ttu-id="04fed-164">Si la clé de configuration de l’entité de données proprement dite est désactivée, un message d’avertissement s’affiche pour indiquer que les tables et les champs de l’écran Champs cibles de cette entité ne sont pas disponibles, quel que soit le statut de la clé de configuration.</span><span class="sxs-lookup"><span data-stu-id="04fed-164">If the data entity itself has its configuration key disabled, a warning message is shown informing that the tables and fields in the target fields form for this entity will not be available at all regardless of their configuration key status.</span></span>

![Champs cibles](./media/Target_fields_1.png)

### <a name="child-entities"></a><span data-ttu-id="04fed-166">Entités enfants</span><span class="sxs-lookup"><span data-stu-id="04fed-166">Child entities</span></span> 
<span data-ttu-id="04fed-167">Certaines entités ont d’autres entités comme sources de données, ou sont des entités de données composites : les informations sur la clé de configuration de ces entités s’affichent dans l’écran Entités enfants.</span><span class="sxs-lookup"><span data-stu-id="04fed-167">Certain entities have other entities as data sources, or are composite data entities: configuration key information for these entities is shown in the Child entities form.</span></span> <span data-ttu-id="04fed-168">Utilisez cet écran de la même manière que la page Liste des entités décrite ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="04fed-168">Use this form in the similar way to the entities list page described above.</span></span> <span data-ttu-id="04fed-169">L’écran Champs cibles de l’entité enfant se comporte également comme indiqué ci-dessus.</span><span class="sxs-lookup"><span data-stu-id="04fed-169">The target fields form for the child entity also behaves like what is described above.</span></span>

![Champs cibles](./media/Target_fields_2.png)

### <a name="using-data-entities"></a><span data-ttu-id="04fed-171">Utilisation des entités de données</span><span class="sxs-lookup"><span data-stu-id="04fed-171">Using data entities</span></span>
<span data-ttu-id="04fed-172">Une fois que vous avez pleinement compris l’impact, le cas échéant, des clés de configuration sur les entités de données que vous souhaitez utiliser, vous pouvez à présent utiliser les entités de données en les ajoutant à des projets de données.</span><span class="sxs-lookup"><span data-stu-id="04fed-172">After understanding the full impact, if any, of configuration keys on the data entities that you would like to use, you can now proceed to using the data entities by adding them to data projects.</span></span> 

### <a name="run-time-validations-for-configuration-keys"></a><span data-ttu-id="04fed-173">Validations des temps d’exécution des clés de configuration</span><span class="sxs-lookup"><span data-stu-id="04fed-173">Run time validations for configuration keys</span></span>
<span data-ttu-id="04fed-174">Les validations des temps d’exécution sont effectuées dans les cas d’utilisation ci-après à l’aide des métadonnées de la clé de configuration créées pendant l’actualisation de la liste des entités.</span><span class="sxs-lookup"><span data-stu-id="04fed-174">Using the configuration key metadata built during entity refresh list, run time validations are performed in the following use cases.</span></span>

- <span data-ttu-id="04fed-175">Lorsqu’une entité de données est ajoutée à une tâche</span><span class="sxs-lookup"><span data-stu-id="04fed-175">When a data entity is added to a job</span></span>
- <span data-ttu-id="04fed-176">Lorsque l’utilisateur clique sur « valider » dans la liste des entités</span><span class="sxs-lookup"><span data-stu-id="04fed-176">When user clicks 'validate' on the entity list</span></span>
- <span data-ttu-id="04fed-177">Lorsque l’utilisateur charge un package de données dans un projet de données</span><span class="sxs-lookup"><span data-stu-id="04fed-177">When the user loads a data package into a data project</span></span>
- <span data-ttu-id="04fed-178">Lorsque l’utilisateur charge un modèle dans un projet de données</span><span class="sxs-lookup"><span data-stu-id="04fed-178">When the user loads a template into a data project</span></span>
- <span data-ttu-id="04fed-179">Lorsqu’un projet de données existant est chargé</span><span class="sxs-lookup"><span data-stu-id="04fed-179">When an existing data project is loaded</span></span>
- <span data-ttu-id="04fed-180">Lorsqu’un modèle est chargé dans un projet de données</span><span class="sxs-lookup"><span data-stu-id="04fed-180">When a template is loaded into a data project</span></span>
- <span data-ttu-id="04fed-181">Avant l’exécution de la tâche d’exportation/importation (lot, sans lot, récurrente, OData)</span><span class="sxs-lookup"><span data-stu-id="04fed-181">Before the export/import job is executed (batch, non-batch, recurring, OData)</span></span>
- <span data-ttu-id="04fed-182">Lorsque l’utilisateur génère la mise en correspondance</span><span class="sxs-lookup"><span data-stu-id="04fed-182">When the user generates mapping</span></span>
- <span data-ttu-id="04fed-183">Lorsque l’utilisateur met en correspondance les champs de l’interface utilisateur de mise en correspondance</span><span class="sxs-lookup"><span data-stu-id="04fed-183">When the user maps fields in the mapping UI</span></span>
- <span data-ttu-id="04fed-184">Lorsque l’utilisateur ajoute uniquement des « champs importables »</span><span class="sxs-lookup"><span data-stu-id="04fed-184">When the user adds only 'importable fields'</span></span>

### <a name="managing-configuration-key-changes"></a><span data-ttu-id="04fed-185">Gestion des modifications de la clé de configuration</span><span class="sxs-lookup"><span data-stu-id="04fed-185">Managing configuration key changes</span></span>
<span data-ttu-id="04fed-186">Lorsque vous mettez à jour les clés de configuration au niveau de l’entité, de la table ou du champ, la liste des entités de l’infrastructure de gestion des données doit être actualisée.</span><span class="sxs-lookup"><span data-stu-id="04fed-186">Anytime that you update configuration keys at the entity, table or field level, the entity list in the data management framework must be refreshed.</span></span> <span data-ttu-id="04fed-187">Ce processus garantit que l’infrastructure sélectionne les paramètres de la clé de configuration les plus récents.</span><span class="sxs-lookup"><span data-stu-id="04fed-187">This process ensures that the framework picks up the latest configuration key settings.</span></span> <span data-ttu-id="04fed-188">Tant que la liste des entités n’est pas actualisée, l’avertissement suivant s’affiche sur la page Liste des entités.</span><span class="sxs-lookup"><span data-stu-id="04fed-188">Until the entity list is refreshed, the following warning will be shown in the entity list page.</span></span> <span data-ttu-id="04fed-189">Les modifications de la clé de configuration prennent effet immédiatement après l’actualisation de la liste des entités.</span><span class="sxs-lookup"><span data-stu-id="04fed-189">The updated configuration key changes will take effect immediately after the entity list is refreshed.</span></span> <span data-ttu-id="04fed-190">Nous vous recommandons de valider les tâches et les projets de données existants pour vous assurer qu’ils fonctionnent comme prévu une fois que les modifications des clés de configuration sont appliquées.</span><span class="sxs-lookup"><span data-stu-id="04fed-190">We recommend that you validate existing data projects and jobs to make sure that they function as expected after the configuration keys changes are put in effect.</span></span>

![Champs cibles](./media/Target_fields_3.png)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]