---
title: Bonnes pratiques pour l'importation de numéros document à l'aide de l'entité du journal des opérations diverses
description: Cette rubrique fournit des conseils pour l’importation de données dans le Journal des opérations diverses à l’aide de l'entité de Journal des opérations diverses.
author: rcarlson
manager: AnnBe
ms.date: 04/20/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 13ea54a6fc4ccdfbcc917b533fe9896d57bcb347
ms.sourcegitcommit: f1bef1cb4b3d2c9261e89820d624e4b0fe60d25c
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/22/2020
ms.locfileid: "3281484"
---
# <a name="best-practices-for-importing-vouchers-by-using-the-general-journal-entity"></a><span data-ttu-id="6fcb7-103">Bonnes pratiques pour l'importation de numéros document à l'aide de l'entité du journal des opérations diverses</span><span class="sxs-lookup"><span data-stu-id="6fcb7-103">Best practices for importing vouchers by using the General journal entity</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="6fcb7-104">Cette rubrique fournit des conseils pour l’importation de données dans le Journal des opérations diverses à l’aide de l'entité de Journal des opérations diverses.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>

<span data-ttu-id="6fcb7-105">Vous pouvez utiliser l’entité du journal des opérations diverses pour importer uniquement les N° document ayant pour type de compte de contrepartie **Comptabilité**, **Client**, **Fournisseur** ou **Banque**.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger**, **Customer**, **Vendor**, or **Bank**.</span></span> <span data-ttu-id="6fcb7-106">Le document peut être entré comme une ligne, à l'aide à la fois des champs **Compte** et **Compte de contrepartie**, ou comme un N° de document multiligne, où seul le champ **Compte** est utilisé (et le champ **Compte de contrepartie** est laissé vierge sur chaque ligne).</span><span class="sxs-lookup"><span data-stu-id="6fcb7-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="6fcb7-107">L'entité de journal des opérations diverses ne prend pas en charge tous les types de compte.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="6fcb7-108">Au lieu de cela, les autres entités existent pour les scénarios où les différentes combinaisons de types de comptes sont requises.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="6fcb7-109">Par exemple, pour importer une transaction de projet, utilisez l'entité de journal Dépenses de projet.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="6fcb7-110">Chaque entité est conçue pour prendre en charge des scénarios spécifiques.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-110">Each entity is designed to support specific scenarios.</span></span> <span data-ttu-id="6fcb7-111">Cela signifie que des champs supplémentaires peuvent être disponibles dans les entités pour ces scénarios.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-111">This means additional fields may be available in entities for those scenarios.</span></span> <span data-ttu-id="6fcb7-112">Cependant, des champs supplémentaires peuvent ne pas être disponibles dans les entités pour différents scénarios.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-112">However, additional fields might not be available in entities for different scenarios.</span></span>

## <a name="setup"></a><span data-ttu-id="6fcb7-113">Paramétrage</span><span class="sxs-lookup"><span data-stu-id="6fcb7-113">Setup</span></span>
<span data-ttu-id="6fcb7-114">Avant d’importer à l’aide de l’entité de journal des opérations diverses, validez le paramétrage suivant :</span><span class="sxs-lookup"><span data-stu-id="6fcb7-114">Before you import by using the General journal entity, validate the following setup:</span></span>

- <span data-ttu-id="6fcb7-115">**Paramètres des séquences de numéros pour le numéro de lot du journal** : par défaut, lorsque vous importez à l’aide de l'entité du journal des opérations diverses, le numéro de lot du journal utilise la souche de numéros qui est définie dans les paramètres de comptabilité générale.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-115">**Number sequence setup for the journal batch number** – By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="6fcb7-116">Si vous définissez la souche de numéros pour le numéro de lot de journal sur **manuel**, aucun numéro par défaut n’est appliqué.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-116">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="6fcb7-117">Ce paramétrage n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-117">This setup isn't supported.</span></span>
- <span data-ttu-id="6fcb7-118">**Configuration de la dimension financière** : chaque entreprise doit définir l’ordre des dimensions financières lorsque les entités sont utilisées pour importer des transactions.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-118">**Financial dimension configuration** – Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="6fcb7-119">L’ordre n’est défini pour le format **Intégration des dimensions comptables**, dans **Comptabilité** &gt; **Plan de comptes** &gt; **Dimensions** &gt; **Configuration de dimension financière pour les applications d'intégration** &gt; **Sélectionner les entités de données**.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-119">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="6fcb7-120">Les segments du compte général qui est importé doivent avoir le même ordre.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-120">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="6fcb7-121">Dans le cas contraire, une erreur se produit lors de l’importation.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-121">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="6fcb7-122">Paramétrage de l'entité du journal des opérations diverses</span><span class="sxs-lookup"><span data-stu-id="6fcb7-122">General journal entity setup</span></span>
<span data-ttu-id="6fcb7-123">Deux paramètres de la gestion des données affectent la façon dont le numéro de lot par défaut ou le numéro de document du journal s'appliquent :</span><span class="sxs-lookup"><span data-stu-id="6fcb7-123">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

- <span data-ttu-id="6fcb7-124">**Traitement basé sur les jeux** (sur l'entité de données)</span><span class="sxs-lookup"><span data-stu-id="6fcb7-124">**Set-based processing** (on the data entity)</span></span>
- <span data-ttu-id="6fcb7-125">**Autogénéré** (dans la mise en correspondance des champs)</span><span class="sxs-lookup"><span data-stu-id="6fcb7-125">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="6fcb7-126">Les sections suivantes décrivent l'effet de ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-126">The following sections describe the effect of these settings.</span></span> <span data-ttu-id="6fcb7-127">Elles expliquent également comment le système génère des numéros de lot pour les journaux et n° documents.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-127">They also explain how the system generates batch numbers for journals and voucher numbers.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="6fcb7-128">Numéro de lot du journal</span><span class="sxs-lookup"><span data-stu-id="6fcb7-128">Journal batch number</span></span>

- <span data-ttu-id="6fcb7-129">Le paramétrage **Traitement basé sur les jeux** sur l’entité du journal des opérations diverses n’affecte pas la manière dont les numéros de lot de journal sont générés.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-129">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
- <span data-ttu-id="6fcb7-130">Si le champ **Numéro de lot du journal** est défini sur **Généré automatiquement**, un nouveau numéro de lot de journal est créé pour chaque ligne qui est importée.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-130">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="6fcb7-131">Ce comportement n’est pas recommandé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-131">This behavior isn't recommended.</span></span> <span data-ttu-id="6fcb7-132">Le paramètre **Généré automatiquement** se trouve dans le projet d’importation, sous **Afficher le mappage**, sur l'onglet **Détails de la mise en correspondance**.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-132">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
- <span data-ttu-id="6fcb7-133">Si le champ **Numéro de lot du journal** n'est pas défini sur **Généré automatiquement**, le numéro de lot de journal est créé comme suit :</span><span class="sxs-lookup"><span data-stu-id="6fcb7-133">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>

    - <span data-ttu-id="6fcb7-134">Si le numéro de lot du journal défini dans le fichier importé correspond à un journal quotidien existant non validé, toutes les lignes ayant un numéro de lot de journal correspondant sont importées dans le journal existant.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-134">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="6fcb7-135">Les lignes ne sont jamais importées dans un numéro de lot de journal validé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-135">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="6fcb7-136">Au lieu de cela, un nouveau numéro est créé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-136">Instead, a new number is created.</span></span>
    - <span data-ttu-id="6fcb7-137">Si le numéro de lot du journal défini dans le fichier importé ne correspond pas à un journal quotidien existant non validé, toutes les lignes ayant le même numéro de lot de journal sont regroupées dans un nouveau journal.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-137">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="6fcb7-138">Par exemple, toutes les lignes ayant un numéro de lot de journal de 1 sont importées dans un nouveau journal, et toutes les lignes ayant un numéro de lot de journal de 2 sont importés dans un second nouveau journal.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-138">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="6fcb7-139">Le numéro de lot du journal est créé à l’aide de la souche de numéros qui est définie dans les paramètres de comptabilité.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-139">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="6fcb7-140">N° document</span><span class="sxs-lookup"><span data-stu-id="6fcb7-140">Voucher number</span></span>

- <span data-ttu-id="6fcb7-141">Lorsque vous utilisez le paramètre **Traitement basé sur les jeux** de l’entité de journal des opérations diverses, le numéro de document doit être fourni dans le fichier importé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-141">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="6fcb7-142">Un numéro de document est attribué à chaque transaction dans le journal des opérations diverses qui est fourni dans le fichier importé, même si le numéro de document n’est pas équilibré.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-142">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="6fcb7-143">Notez les points suivants si vous souhaitez utiliser le traitement basé sur les jeux, mais que vous souhaitez également utiliser la souche de numéros qui est définie pour les numéros de documents.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-143">Note the following points if you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers.</span></span>

    - <span data-ttu-id="6fcb7-144">Pour activer cette fonctionnalité, sur le nom du journal utilisé pour les importations, définissez **Attribution d'un numéro pour la validation** sur **Oui**.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-144">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    - <span data-ttu-id="6fcb7-145">Un numéro de document doit toujours être défini dans le fichier importé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-145">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="6fcb7-146">Toutefois, ce numéro est temporaire et sera remplacé par le numéro de document lorsque le journal sera validé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-146">However, this number is temporary and will be overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="6fcb7-147">Assurez-vous que les lignes du journal sont correctement regroupées par numéro de document temporaire.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-147">Be sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="6fcb7-148">Par exemple, lors de la validation, trois lignes portant le N° document temporaire 1 sont détectées.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-148">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="6fcb7-149">Le n° document temporaire des trois lignes est remplacé par le numéro suivant dans la souche de numéros.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-149">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="6fcb7-150">Si ces trois lignes ne sont pas une entrée équilibrée, le document ne sera pas validé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-150">If those three lines aren’t a balanced entry, the voucher won't be posted.</span></span> <span data-ttu-id="6fcb7-151">Ensuite, si les lignes sont trouvées avec un numéro de document temporaire de 2, ce numéro est remplacé par le numéro de document suivant dans la séquence et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-151">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the  sequence, and so on.</span></span>

- <span data-ttu-id="6fcb7-152">Lorsque vous n'utilisez pas le paramètre **Traitement basé sur les jeux**, vous n'avez pas besoin de fournir un numéro document dans le fichier importé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-152">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="6fcb7-153">Les numéros de document sont créés pendant l’importation, en fonction de la configuration du nom du journal (**Un seul N° document**, **En relation avec le solde**, et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="6fcb7-153">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="6fcb7-154">Par exemple, si le nom du journal est défini en tant que **En relation avec le solde**, la première ligne reçoit un nouveau numéro de document par défaut.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-154">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="6fcb7-155">Le système évalue ensuite la ligne pour déterminer si les débits égalent les crédits.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-155">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="6fcb7-156">S’il existe un compte de contrepartie sur la ligne, la ligne suivante à être importée reçoit un nouveau numéro de document.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-156">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="6fcb7-157">Si aucun compte de contrepartie n’existe, le système évalue si les débits égalent les crédits à mesure que chaque nouvelle ligne est importé.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-157">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
- <span data-ttu-id="6fcb7-158">Si le champ **N° de document** est défini sur **Généré automatiquement**, l’importation ne réussira pas.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-158">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="6fcb7-159">Le paramètre **Généré automatiquement** pour le champ **N° de document** n’est pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-159">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="6fcb7-160">Par défaut, l’entité de journal des opérations diverses utilise le traitement basé sur les jeux.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-160">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="6fcb7-161">Après avoir évalué les besoins commerciaux de votre organisation, vous pouvez modifier le paramètre **Traitement basé sur les jeux** en cliquant sur **Entités de données** dans l'espace de travail **Gestion des données**.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-161">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="6fcb7-162">Le traitement basé sur les jeux est utilisé pour accélérer le processus d’importation.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-162">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="6fcb7-163">Si vous n’utilisez pas le traitement basé sur les jeux, l’importation de l'entité de journal des opérations diverses sera plus lente.</span><span class="sxs-lookup"><span data-stu-id="6fcb7-163">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>
